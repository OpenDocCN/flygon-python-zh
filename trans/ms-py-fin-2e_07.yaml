- en: Modeling Interest Rates and Derivatives
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 建模利率和衍生品
- en: Interest rates affect economic activities at all levels. Central banks, including
    the **Federal Reserve** (informally known as the **Fed**), target interest rates
    as a policy tool to influence economic activity. Interest rate derivatives are
    popular with investors who require customized cash flow needs or specific views
    on interest-rate movements.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 利率影响各个层面的经济活动。包括美联储（俗称为联邦储备系统）在内的中央银行将利率作为一种政策工具来影响经济活动。利率衍生品受到投资者的欢迎，他们需要定制的现金流需求或对利率变动的特定观点。
- en: One of the key challenges that interest-rate derivative traders face is to have
    a good and robust pricing procedure for these products. This involves understanding
    the complicated behavior of an individual interest-rate movement. Several interest-rate
    models have been proposed for financial studies. Some common models studied in
    finance are the Vasicek, CIR, and Hull-White models. These interest-rate models
    involve modeling the short-rate and rely on factors (or sources of uncertainty)
    with most of them using only one factor. Two-factor and multi-factor interest
    rate models have been proposed.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 利率衍生品交易员面临的一个关键挑战是为这些产品制定一个良好而稳健的定价程序。这涉及理解单个利率变动的复杂行为。已经提出了几种利率模型用于金融研究。金融学中研究的一些常见模型是Vasicek、CIR和Hull-White模型。这些利率模型涉及对短期利率的建模，并依赖于因素（或不确定性来源），其中大多数只使用一个因素。已经提出了双因素和多因素利率模型。
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Understanding yield curves
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 理解收益曲线
- en: Valuing a zero-coupon bond
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 估值零息债券
- en: Bootstrapping a yield curve
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 引导收益曲线
- en: Calculating forward rates
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 计算远期利率
- en: Calculating the yield to maturity and price of a bond
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 计算债券的到期收益率和价格
- en: Calculating the bond duration and convexity using Python
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用Python计算债券久期和凸性
- en: Short-rate modeling
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 短期利率建模
- en: The Vasicek short-rate model
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Vasicek短期利率模型
- en: Types of bond options
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 债券期权的类型
- en: Pricing a callable bond option
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 定价可赎回债券期权
- en: Fixed-income securities
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 固定收益证券
- en: Corporations and governments issue fixed-income securities as a means of raising
    money. The owners of such debts lend money and expect to receive the principal
    when the debt matures. The issuer who wishes to borrow money may issue a fixed
    amount interest payment during the lifetime of the debt at pre-specified times.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 公司和政府发行固定收益证券是为了筹集资金。这些债务的所有者借钱，并期望在债务到期时收回本金。希望借钱的发行人可能在债务寿命期间的预定时间发行固定金额的利息支付。
- en: The holders of debt securities, such as US Treasury bills, notes, and bonds,
    face the risk of default by the issuer. The federal government and municipal government
    are thought to face the least default risk, since they can easily raise taxes
    and create more money to repay the outstanding debts.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 债务证券持有人，如美国国债、票据和债券，面临发行人违约的风险。联邦政府和市政府被认为面临最低的违约风险，因为他们可以轻松提高税收并创造更多货币来偿还未偿还的债务。
- en: Most bonds pay a fixed amount of interest semi-annually, while some pay quarterly,
    or annually. These interest payments are also referred to as coupons. They are
    quoted as a percentage of the face value or par amount of the bond on an annual
    basis.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 大多数债券每半年支付固定金额的利息，而有些债券每季度或每年支付。这些利息支付也被称为票息。它们以债券的面值或票面金额的百分比来报价，以年为单位。
- en: 'For example, a 5-year $10,000 Treasury bond with a coupon rate of 5% pays coupons
    of $500 each year, or coupons of $250 every 6 months, up to and including the
    maturity date. Should the interest rates drop and new T-bonds pay a 3% coupon
    rate, the buyer of the new bond will only receive coupons of $300 annually, while
    existing holders of the 5% bond will continue to receive $500 annually. As the
    characteristics of the bonds influence their prices, they''re closely related
    to current levels of interest rates in an inverse way: the value of the bond decreases
    as the interest rates increase. As interest rates decrease, bond prices increase.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，一张面值为10,000美元的5年期国库券，票面利率为5%，每年支付500美元的票息，或者每6个月支付250美元的票息，直到到期日。如果利率下降，新的国库券只支付3%的票息，那么新债券的购买者每年只会收到300美元的票息，而5%债券的现有持有人将继续每年收到500美元的票息。由于债券的特性影响其价格，它们与当前利率水平呈反向关系：随着利率的上升，债券的价值下降。随着利率的下降，债券价格上升。
- en: Yield curves
  id: totrans-19
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 收益曲线
- en: 'In a normal yield curve environment, long-term interest rates are higher than
    short-term interest rates. Investors expect to be compensated with higher returns
    when they lend money for a longer period since they are exposed to a higher default
    risk. The normal or positive yield curve is said to be upward sloping, as shown
    in the following graph:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 在正常的收益曲线环境中，长期利率高于短期利率。投资者希望在较长时间内借出资金时获得更高的回报，因为他们面临更高的违约风险。正常或正收益曲线被认为是向上倾斜的，如下图所示：
- en: '![](Images/185d5168-eff0-4283-a177-f0c361a069c8.png)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/185d5168-eff0-4283-a177-f0c361a069c8.png)'
- en: 'In certain economic conditions, the yield curve can be inverted. Long-term
    interest rates are lower than short-term interest rates. Such a condition occurs
    when the supply of money is tight. Investors are willing to forgo long-term gains
    to preserve their wealth in the short-term. During periods of high inflation,
    where the inflation rate exceeds the rate of coupon interests, negative interest
    rates may be observed. Investors are willing to pay in the short-term just to
    secure their long-term wealth. The inverted yield curve is said to be downward
    sloping, as shown in the following graph:'
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 在某些经济条件下，收益曲线可能会倒挂。长期利率低于短期利率。当货币供应紧缩时会出现这种情况。投资者愿意放弃长期收益，以保护他们的短期财富。在通货膨胀高涨的时期，通货膨胀率超过票息利率时，可能会出现负利率。投资者愿意在短期内支付费用，只是为了保护他们的长期财富。倒挂的收益曲线被认为是向下倾斜的，如下图所示：
- en: '![](Images/9481ae8a-ca46-4bfa-acdc-a939ed515439.png)'
  id: totrans-23
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/9481ae8a-ca46-4bfa-acdc-a939ed515439.png)'
- en: Valuing a zero-coupon bond
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 估值零息债券
- en: A **zero-coupon bond** is a bond that does not pay any periodic interest except
    on maturity, where the principal or face value is repaid. Zero-coupon bonds are
    also called **pure discount bonds**.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: '**零息债券**是一种除到期日外不支付任何定期利息的债券，到期时偿还本金或面值。零息债券也被称为**纯贴现债券**。'
- en: 'A zero-coupon bond can be valued as follows:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 零息债券的价值可以如下计算：
- en: '![](Images/42054011-f33e-4833-b888-b6402dc75f24.png)'
  id: totrans-27
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/42054011-f33e-4833-b888-b6402dc75f24.png)'
- en: Here, *y* is the annually-compounded yield or rate of the bond, and *t* is the
    time remaining to the maturity of the bond.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，*y*是债券的年复利收益率或利率，*t*是债券到期的剩余时间。
- en: 'Let''s take a look at an example of a five-year zero-coupon bond with a face
    value of $100\. The yield is 5%, compounded annually. The price can be calculated
    as follows:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看一个面值100美元的五年期零息债券的例子。年收益率为5%，年复利。价格可以如下计算：
- en: '![](Images/a72bb02c-3690-47ee-81ab-c702d8a0dc15.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/a72bb02c-3690-47ee-81ab-c702d8a0dc15.png)'
- en: 'A simple Python zero-coupon bond calculator can be used to illustrate this
    example:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 一个简单的Python零息债券计算器可以用来说明这个例子：
- en: '[PRE0]'
  id: totrans-32
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Using the preceding example, we get the following result:'
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 使用上述例子，我们得到以下结果：
- en: '[PRE1]'
  id: totrans-34
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: In the preceding example, we assumed that the investor is able to invest $78.35
    at the prevailing annual interest rate of 5% for 5 years, compounded annually.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 在上述例子中，我们假设投资者能够以5%的年利率在5年内年复利投资78.35美元。
- en: Now that we have a zero-coupon bond calculator, we can use it to determine zero
    rates by bootstrapping the yield curve, as explained in the next section.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们有了一个零息债券计算器，我们可以用它通过抽靴法收益率曲线来确定零息率，如下一节所述。
- en: Spot and zero rates
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 即期和零息率
- en: As the compounding frequency increases (say, from compounded yearly to compounded
    daily), the future value of money reaches an exponential limit. That is to say,
    the value of $100 today will reach a future value of $100*e*^(*RT*) when it is
    invested at a continuously compounded rate, *R*, for a period of time, *T*. If
    we discount these values for a security that pays $100 at a future time, *T*,
    with a continuously-compounded discount rate, *R*, its value at time zero is ![](Images/ddd168f2-9474-4f69-9bda-a13ced846e86.png).
    This rate is known as the **spot rate**.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 随着复利频率的增加（比如，从年复利到日复利），货币的未来价值达到了一个指数极限。也就是说，今天的100美元在以连续复利率*R*投资*T*时间后将达到未来价值100*e*^(*RT*)。如果我们对一个在未来时间*T*支付100美元的证券进行贴现，使用连续复利贴现率*R*，其在时间零的价值为![](Images/ddd168f2-9474-4f69-9bda-a13ced846e86.png)。这个利率被称为**即期利率**。
- en: Spot rates represent the current interest rates for several maturities, should
    we want to borrow or lend money now. Zero rates represent the internal rate of
    return of zero-coupon bonds.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 即期利率代表了当前的利率，用于几种到期日，如果我们现在想要借款或出借资金。零息率代表了零息债券的内部收益率。
- en: By deriving the spot rates of bonds with different maturities, we can construct
    the present yield curve through a bootstrapping process using zero-coupon bonds.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 通过推导具有不同到期日的债券的即期利率，我们可以使用零息债券通过抽靴过程构建当前收益率曲线。
- en: Bootstrapping a yield curve
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 抽靴法收益率曲线
- en: Short-term spot rates can be derived directly from various short-term securities,
    such as zero-coupon bonds, T-bills, notes, and eurodollar deposits. However, longer-term
    spot rates are typically derived from the prices of long-term bonds through a
    bootstrapping process, taking into account the spot rates of maturities that correspond
    to the coupon payment date. After obtaining short-term and long-term spot rates,
    the yield curve can then be constructed.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 短期即期利率可以直接从各种短期证券（如零息债券、国库券、票据和欧元存款）中推导出来。然而，长期即期利率通常是通过一个抽靴过程从长期债券的价格中推导出来的，考虑到与票息支付日期相对应的到期日的即期利率。在获得短期和长期即期利率之后，就可以构建收益率曲线。
- en: An example of bootstrapping the yield curve
  id: totrans-43
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 抽靴法收益率曲线的一个例子
- en: 'Let''s illustrate the bootstrapping of the yield curve with an example. The
    following table shows a list of bonds with different maturities and prices:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们通过一个例子来说明抽靴法收益率曲线。以下表格显示了具有不同到期日和价格的债券列表：
- en: '| **Bond face value in dollars** | **Time to maturity in years** | **Annual
    coupon in dollars** | **Bond cash price in dollars** |'
  id: totrans-45
  prefs: []
  type: TYPE_TB
  zh: '| **债券面值（美元）** | **到期年限（年）** | **年息（美元）** | **债券现金价格（美元）** |'
- en: '| --- | --- | --- | --- |'
  id: totrans-46
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- | --- | --- |'
- en: '| 100 | 0.25 | 0 | 97.50 |'
  id: totrans-47
  prefs: []
  type: TYPE_TB
  zh: '| 100 | 0.25 | 0 | 97.50 |'
- en: '| 100 | 0.50 | 0 | 94.90 |'
  id: totrans-48
  prefs: []
  type: TYPE_TB
  zh: '| 100 | 0.50 | 0 | 94.90 |'
- en: '| 100 | 1.00 | 0 | 90.00 |'
  id: totrans-49
  prefs: []
  type: TYPE_TB
  zh: '| 100 | 1.00 | 0 | 90.00 |'
- en: '| 100 | 1.50 | 8 | 96.00 |'
  id: totrans-50
  prefs: []
  type: TYPE_TB
  zh: '| 100 | 1.50 | 8 | 96.00 |'
- en: '| 100 | 2.00 | 12 | 101.60 |'
  id: totrans-51
  prefs: []
  type: TYPE_TB
  zh: '| 100 | 2.00 | 12 | 101.60 |'
- en: 'An investor in a three-month zero-coupon bond today at $97.50 would earn interest
    of $2.50\. The three-month spot rate can be calculated as follows:'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 今天以97.50美元购买三个月的零息债券的投资者将获得2.50美元的利息。三个月的即期利率可以如下计算：
- en: '![](Images/561171c6-a427-4988-b07d-0ec8c485ab64.png)'
  id: totrans-53
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/561171c6-a427-4988-b07d-0ec8c485ab64.png)'
- en: '![](Images/dd232279-7f2c-43d5-8aa5-e9751e8a1b8c.png)'
  id: totrans-54
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/dd232279-7f2c-43d5-8aa5-e9751e8a1b8c.png)'
- en: '![](Images/a0df40f1-7675-4475-8a97-3eee9f6eac05.png)'
  id: totrans-55
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/a0df40f1-7675-4475-8a97-3eee9f6eac05.png)'
- en: 'Thus, the 3-month zero rate is 10.127% with continuous compounding. The spot
    rates of the zero-coupon bonds are shown in the following table:'
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，3个月的零息率是10.127%，采用连续复利。零息债券的即期利率如下表所示：
- en: '| **Time to maturity in years** | **Spot rate (in percent)** |'
  id: totrans-57
  prefs: []
  type: TYPE_TB
  zh: '| **到期年限（年）** | **即期利率（百分比）** |'
- en: '| --- | --- |'
  id: totrans-58
  prefs: []
  type: TYPE_TB
  zh: '| --- | --- |'
- en: '| 0.25 | 10.127 |'
  id: totrans-59
  prefs: []
  type: TYPE_TB
  zh: '| 0.25 | 10.127 |'
- en: '| 0.50 | 10.469 |'
  id: totrans-60
  prefs: []
  type: TYPE_TB
  zh: '| 0.50 | 10.469 |'
- en: '| 1.00 | 10.536 |'
  id: totrans-61
  prefs: []
  type: TYPE_TB
  zh: '| 1.00 | 10.536 |'
- en: 'Using these spot rates, we can now price the 1.5-year bond as follows:'
  id: totrans-62
  prefs: []
  type: TYPE_NORMAL
  zh: 使用这些即期利率，我们现在可以如下定价1.5年期债券：
- en: '![](Images/bcf4d53d-0ddd-463c-9e77-df1743c0adb2.png)'
  id: totrans-63
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/bcf4d53d-0ddd-463c-9e77-df1743c0adb2.png)'
- en: 'The value of *y* can easily be solved by rearranging the equation, as follows:'
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: '*y*的值可以通过重新排列方程轻松求解，如下所示：'
- en: '![](Images/ffe0eb1a-7480-4755-a310-3aecc25f54cd.png)'
  id: totrans-65
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/ffe0eb1a-7480-4755-a310-3aecc25f54cd.png)'
- en: 'With the spot rate of the 1.5-year bond as 10.681%, we can use it to price
    the 2-year bond with coupons of $6 semi-annually, as follows:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: 有了1.5年期债券的即期利率为10.681%，我们可以使用它来定价2年期债券，年息为6美元，半年付息，如下所示：
- en: '![](Images/06c10adf-5968-4deb-82a1-99e8e2c0c183.png)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/06c10adf-5968-4deb-82a1-99e8e2c0c183.png)'
- en: Rearranging the equation and solving for *y* gives us the spot rate of the 2-year
    bond as 10.808.
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: 重新排列方程并解出*y*，我们得到2年期债券的即期利率为10.808。
- en: Through this iterative procedure of calculating the spot rate of every bond
    in increasing order of maturity and using it in the next iteration, we obtain
    a list of spot rates of different maturities that we can use to construct the
    yield curve.
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 通过这种迭代过程，按照到期日递增的顺序计算每个债券的即期利率，并在下一次迭代中使用它，我们得到了一个可以用来构建收益率曲线的不同到期日的即期利率列表。
- en: Writing the yield curve bootstrapping class
  id: totrans-70
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 编写收益率曲线引导类
- en: 'The steps for writing the Python code to bootstrap the yield curve and running
    with a plot output are outlined as follows:'
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 编写Python代码引导收益率曲线并生成图表输出的步骤如下：
- en: 'Create a class named `BootstrapYieldCurve`, which will implement the bootstrapping
    of the yield curve in Python code:'
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个名为`BootstrapYieldCurve`的类，它将在Python代码中实现收益率曲线的引导：
- en: '[PRE2]'
  id: totrans-73
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'In the constructor, the two `zero_rates` and `instruments` dictionary variables
    are declared and will be used by several methods, as follows:'
  id: totrans-74
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在构造函数中，声明了两个`zero_rates`和`instruments`字典变量，并将被几种方法使用，如下所示：
- en: 'Add a method named `add_instrument()`, which appends a tuple of bond information
    to the `instruments` dictionary, indexed by the maturity time. This method is
    written as follows:'
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加一个名为`add_instrument()`的方法，该方法将债券信息的元组附加到以到期时间为索引的`instruments`字典中。此方法的编写如下：
- en: '[PRE3]'
  id: totrans-76
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Add a method named `get_maturities()`, which simply returns a list of available
    maturities in ascending order. This method is written as follows:'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加一个名为`get_maturities()`的方法，它简单地按升序返回一个可用到期日列表。此方法的编写如下：
- en: '[PRE4]'
  id: totrans-78
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: 'Add a method named `get_zero_rates()`, which bootstraps the yield curve, calculates
    the spot rates along that yield curve, and returns a list of zero rates in ascending
    order of maturity. This method is written as follows:'
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加一个名为`get_zero_rates()`的方法，该方法对收益率曲线进行引导，计算沿该收益率曲线的即期利率，并按到期日升序返回零息率的列表。该方法的编写如下：
- en: '[PRE5]'
  id: totrans-80
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'Add a method named `bootstrap_zero_coupons()`, which calculates the spot rates
    of the given zero-coupon bonds and adds them to the `zero_rates` dictionary, indexed
    by maturity. This method is written as follows:'
  id: totrans-81
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加一个名为`bootstrap_zero_coupons()`的方法，该方法计算给定零息债券的即期利率，并将其添加到以到期日为索引的`zero_rates`字典中。此方法的编写如下：
- en: '[PRE6]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: 'Add a method named `zero_coupon_spot_rate()`, which calculates the spot rate
    of a zero-coupon bond. This method is called by `bootstrap_zero_coupons()` and
    is written as follows:'
  id: totrans-83
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加一个名为`zero_coupon_spot_rate()`的方法，该方法计算零息债券的即期利率。此方法由`bootstrap_zero_coupons()`调用，并编写如下：
- en: '[PRE7]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: 'Add a method named `get_bond_spot_rates()`, which calculates the spot rates
    of non zero-coupon bonds and adds them to the `zero_rates` dictionary, indexed
    by maturity. This method is written as follows:'
  id: totrans-85
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加一个名为`get_bond_spot_rates()`的方法，它计算非零息债券的即期利率，并将其添加到以到期日为索引的`zero_rates`字典中。此方法的编写如下：
- en: '[PRE8]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Add a method named `calculate_bond_spot_rate()`, which is called by `get_bond_spot_rates()`
    to calculate the spot rate at a particular maturity period. This method is written
    as follows:'
  id: totrans-87
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加一个名为`calculate_bond_spot_rate()`的方法，该方法由`get_bond_spot_rates()`调用，用于计算特定到期期间的即期利率。此方法的编写如下：
- en: '[PRE9]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'Instantiate the `BootstrapYieldCurve` class and add each bond''s information
    from the preceding table:'
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 实例化`BootstrapYieldCurve`类，并从前表中添加每个债券的信息：
- en: '[PRE10]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'Calling the `get_zero_rates()` method in the class instance returns a list
    of spot rates in the same order as the maturities, which are stored in the `x`
    and `y` variables, respectively. Issue the following Python code to plot `x` and
    `y` on a graph:'
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在类实例中调用`get_zero_rates()`方法会返回一个即期利率列表，顺序与分别存储在`x`和`y`变量中的到期日相同。发出以下Python代码以在图表上绘制`x`和`y`：
- en: '[PRE11]'
  id: totrans-92
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'We get the following yield curve:'
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们得到以下的收益率曲线：
- en: '![](Images/04f8b477-3f32-4b98-943a-13fcbaf1b8e5.png)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/04f8b477-3f32-4b98-943a-13fcbaf1b8e5.png)'
- en: In a normal yield curve environment, where the interest rates increase as the
    maturities increase, we obtain an upward-sloping yield curve.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 在正常的收益率曲线环境中，随着到期日的增加，利率也会增加，我们得到一个上升的收益率曲线。
- en: Forward rates
  id: totrans-96
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 远期利率
- en: 'An investor who plans to invest at a later time may be curious to know what
    the future interest rate will look like, as implied by today''s term structure
    of interest rates. For example, you might ask, *What is the one-year spot rate
    one year from now?* To answer this question, you can calculate forward rates for
    the period between *T[1]* and *T[2]* using this formula:'
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 计划在以后投资的投资者可能会好奇知道未来的利率会是什么样子，这是由当今的利率期限结构所暗示的。例如，您可能会问，“一年后的一年期即期利率是多少？”为了回答这个问题，您可以使用以下公式计算*T[1]*和*T[2]*之间的期间的远期利率：
- en: '![](Images/b72dad87-e048-4867-bdfd-2e0bf92a9488.png)'
  id: totrans-98
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/b72dad87-e048-4867-bdfd-2e0bf92a9488.png)'
- en: Here, *r[1]* and *r[2]* are the continuously-compounded annual interest rates
    at time periods *T[1]* and *T[2]*, respectively.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，*r[1]*和*r[2]*分别是*T[1]*和*T[2]*时期的连续复利年利率。
- en: 'The following `ForwardRates` class helps us generate a list of forward rates
    from a list of spot rates:'
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 以下的`ForwardRates`类帮助我们从即期利率列表生成远期利率列表：
- en: '[PRE12]'
  id: totrans-101
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Using spot rates derived from our preceding yield curve, we get the following
    result:'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 使用从前述收益率曲线派生的即期利率，我们得到以下结果：
- en: '[PRE13]'
  id: totrans-103
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: Calling the `get_forward_rates()` method of the `ForwardRates` class returns
    a list of forward rates, starting from the next time period.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 调用`ForwardRates`类的`get_forward_rates()`方法返回一个从下一个时间段开始的远期利率列表。
- en: Calculating the yield to maturity
  id: totrans-105
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 计算到期收益率
- en: The **yield to maturity** (**YTM**) measures the interest rate, as implied by
    the bond, which takes into account the present value of all the future coupon
    payments and the principal. It is assumed that bond holders can invest received
    coupons at the YTM rate until the maturity of the bond; according to risk-neutral
    expectations, the payments received should be the same as the price paid for the
    bond.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: '**到期收益**（**YTM**）衡量了债券隐含的利率，考虑了所有未来票息支付和本金的现值。假设债券持有人可以以YTM利率投资收到的票息，直到债券到期；根据风险中性预期，收到的支付应与债券支付的价格相同。'
- en: 'Let''s take a look at an example of a 5.75% bond that will mature in 1.5 years
    with a par value of 100\. The price of the bond is $95.0428 and coupons are paid
    semi-annually. The pricing equation can be stated as follows:'
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们来看一个例子，一个5.75％的债券，将在1.5年内到期，面值为100。债券价格为95.0428美元，票息每半年支付一次。定价方程可以陈述如下：
- en: '![](Images/82dc5d3a-883b-42f7-b6fc-18737b6845b5.png)'
  id: totrans-108
  prefs: []
  type: TYPE_IMG
  zh: ！[](Images/82dc5d3a-883b-42f7-b6fc-18737b6845b5.png)
- en: 'Here:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 这里：
- en: '*c* is the coupon dollar amount paid at each time period'
  id: totrans-110
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*c*是每个时间段支付的票面金额'
- en: '*T* is the time period of payment in years'
  id: totrans-111
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*T*是以年为单位的支付时间段'
- en: '*n* is the coupon payment frequency'
  id: totrans-112
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*n*是票息支付频率'
- en: '*y* is the YTM that we are interested in solving'
  id: totrans-113
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*y*是我们感兴趣的YTM解决方案'
- en: To solve the YTM is typically a complex process, and most bond YTM calculators
    use Newton's method as an iterative process.
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 解决YTM通常是一个复杂的过程，大多数债券YTM计算器使用牛顿法作为迭代过程。
- en: 'The bond YTM calculator is illustrated by the following `bond_ytm()` function:'
  id: totrans-115
  prefs: []
  type: TYPE_NORMAL
  zh: 债券YTM计算器由以下`bond_ytm()`函数说明：
- en: '[PRE14]'
  id: totrans-116
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Remember that we covered the use of Newton's method and other nonlinear function
    root solvers in [Chapter 3](ae0a23e9-876c-43b3-9f48-d1d810f1fb97.xhtml), *Nonlinearity
    in Finance*. For this YTM calculator function, we used the `scipy.optimize` package
    to solve the YTM.
  id: totrans-117
  prefs: []
  type: TYPE_NORMAL
  zh: 请记住，我们在[第3章](ae0a23e9-876c-43b3-9f48-d1d810f1fb97.xhtml)中介绍了牛顿法和其他非线性函数根求解器的使用，*金融中的非线性*。对于这个YTM计算器函数，我们使用了`scipy.optimize`包来解决YTM。
- en: 'Using the parameters from the bond example, we get the following result:'
  id: totrans-118
  prefs: []
  type: TYPE_NORMAL
  zh: 使用债券示例的参数，我们得到以下结果：
- en: '[PRE15]'
  id: totrans-119
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: The YTM of the bond is 9.369%. Now we have a bond YTM calculator that can help
    us compare a bond's expected return with those of other securities.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 债券的YTM为9.369％。现在我们有一个债券YTM计算器，可以帮助我们比较债券的预期回报与其他证券的回报。
- en: Calculating the price of a bond
  id: totrans-121
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 计算债券价格
- en: 'When the YTM is known, we can get back the bond price in the same way we used
    the pricing equation. This is implemented by the `bond_price()` function:'
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 当YTM已知时，我们可以以与使用定价方程相同的方式获得债券价格。这是由`bond_price()`函数实现的：
- en: '[PRE16]'
  id: totrans-123
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Plugging in the same values from the earlier example, we get the following
    result:'
  id: totrans-124
  prefs: []
  type: TYPE_NORMAL
  zh: 插入先前示例中的相同值，我们得到以下结果：
- en: '[PRE17]'
  id: totrans-125
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: This gives us the same original bond price discussed in the earlier example,
    *Calculating the yield to maturity*. With the `bond_ytm()` and `bond_price()`
    functions, we can apply these for further uses in bond pricing, such as finding
    the bond's modified duration and convexity. These two characteristics of bonds
    are of importance to bond traders in helping them formulate various trading strategies
    and hedge their risk.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 这给我们了先前示例中讨论的相同原始债券价格，*计算到期收益*。使用`bond_ytm()`和`bond_price()`函数，我们可以将这些应用于债券定价的进一步用途，例如查找债券的修改后持续时间和凸性。债券的这两个特征对于债券交易员来说非常重要，可以帮助他们制定各种交易策略并对冲风险。
- en: Bond duration
  id: totrans-127
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 债券持续时间
- en: Duration is a sensitivity measure of bond prices to yield changes. Some duration
    measures are effective duration, Macaulay duration, and modified duration. The
    type of duration that we will discuss is modified duration, which measures the
    percentage change in bond price with respect to a percentage change in yield (typically
    1% or 100 **basis points** (**bps**)).
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 持续时间是债券价格对收益变化的敏感度度量。一些持续时间度量是有效持续时间，麦考利持续时间和修改后的持续时间。我们将讨论的持续时间类型是修改后的持续时间，它衡量了债券价格相对于收益变化的百分比变化（通常为1％或100个**基点**（**bps**））。
- en: The higher the duration of a bond, the more sensitive it is to yield changes.
    Conversely, the lower the duration of a bond, the less sensitive it is to yield
    changes.
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 债券的持续时间越长，对收益变化的敏感度就越高。相反，债券的持续时间越短，对收益变化的敏感度就越低。
- en: 'The modified duration of a bond can be thought of as the first derivative of
    the relationship between price and yield:'
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: 债券的修改后持续时间可以被认为是价格和收益之间关系的第一导数：
- en: '![](Images/b607a62b-2530-40eb-8429-60b806867973.png)'
  id: totrans-131
  prefs: []
  type: TYPE_IMG
  zh: ！[](Images/b607a62b-2530-40eb-8429-60b806867973.png)
- en: 'Here:'
  id: totrans-132
  prefs: []
  type: TYPE_NORMAL
  zh: 这里：
- en: '*dY* is the given change in yield'
  id: totrans-133
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '* dY *是给定的收益变化'
- en: '*P^−* is the price of the bond from a decrease in yield by *dY*'
  id: totrans-134
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*P^−*是债券因* dY *减少而导致的价格'
- en: '*P^+* is the price of the bond from an increase in yield by *dY*'
  id: totrans-135
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*P^+*是债券因* dY *增加而导致的价格'
- en: '*P[0]* is the initial price of the bond'
  id: totrans-136
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '*P[0]*是债券的初始价格'
- en: It should be noted that the duration describes the linear price-yield relationship
    for a small change in *Y*. Because the yield curve is not linear, using a large
    value of *dY* does not approximate the duration measure well.
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: 应该注意，持续时间描述了*Y*的小变化对价格-收益关系的线性关系。由于收益曲线不是线性的，使用较大的*dY*不能很好地近似持续时间度量。
- en: 'The implementation of the modified duration calculator is given in the following
    `bond_mod_duration()` function. It uses the `bond_ytm()` function as discussed
    earlier in this chapter, *Calculating the yield to maturity*, to determine the
    yield of the bond with the given initial value. Also, it uses the `bond_price()`
    function to determine the price of the bond with the given change in yield:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 修改后的持续时间计算器的实现在以下`bond_mod_duration()`函数中给出。它使用了本章前面讨论的`bond_ytm()`函数，*计算到期收益*，来确定具有给定初始值的债券的收益。此外，它使用`bond_price()`函数来确定具有给定收益变化的债券的价格：
- en: '[PRE18]'
  id: totrans-139
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'We can find out the modified duration of the 5.75% bond discussed earlier,
    in *Calculating the yield to maturity,* which will mature in 1.5 years with a
    par value of 100 and a bond price of 95.0428:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 我们可以找出之前讨论的5.75％债券的修改后持续时间，*计算到期收益*，它将在1.5年内到期，面值为100，债券价格为95.0428：
- en: '[PRE19]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: The modified duration of the bond is 1.392 years.
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 债券的修正久期为1.392年。
- en: Bond convexity
  id: totrans-143
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 债券凸性
- en: '**Convexity** is the sensitivity measure of the duration of a bond to yield
    changes. Think of convexity as the second derivative of the relationship between
    the price and yield:'
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: '**凸性**是债券久期对收益率变化的敏感度度量。将凸性视为价格和收益率之间关系的二阶导数：'
- en: '![](Images/b025e982-1290-4e87-9937-a6d87aa0d791.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/b025e982-1290-4e87-9937-a6d87aa0d791.png)'
- en: Bond traders use convexity as a risk-management tool to measure the amount of
    market risk in their portfolio. Higher-convexity portfolios are less affected
    by interest-rate volatilities than lower-convexity portfolios, given the same
    bond duration and yield. As such, higher-convexity bonds are more expensive than
    lower-convexity ones, everything else being equal.
  id: totrans-146
  prefs: []
  type: TYPE_NORMAL
  zh: 债券交易员使用凸性作为风险管理工具，以衡量其投资组合中的市场风险。相对于债券久期和收益率相同的低凸性投资组合，高凸性投资组合受利率波动的影响较小。因此，其他条件相同的情况下，高凸性债券比低凸性债券更昂贵。
- en: 'The implementation of a bond convexity is given as follows:'
  id: totrans-147
  prefs: []
  type: TYPE_NORMAL
  zh: 债券凸性的实现如下：
- en: '[PRE20]'
  id: totrans-148
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'We can now find the convexity of the 5.75% bond discussed earlier, in *Calculating
    the yield to maturity* section, which will mature in 1.5 years with a par value
    of 100 and a bond price of 95.0428:'
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们可以找到之前讨论的5.75%债券的凸性，它将在1.5年后到期，票面价值为100，债券价格为95.0428：
- en: '[PRE21]'
  id: totrans-150
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: The convexity of the bond is 2.63\. For two bonds with the same par value, coupon,
    and maturity, their convexity may be different, depending on their location on
    the yield curve. Higher-convexity bonds will exhibit higher price changes for
    the same change in yield.
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 债券的凸性为2.63。对于两个具有相同票面价值、票息和到期日的债券，它们的凸性可能不同，这取决于它们在收益率曲线上的位置。相对于收益率的变化，高凸性债券的价格变化更大。
- en: Short–rate modeling
  id: totrans-152
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 短期利率建模
- en: In short-rate modeling, the short-rate, *r(t)*, is the spot rate at a particular
    time. It is described as a continuously-compounded, annualized interest rate term
    for an infinitesimally short period of time on the yield curve. The short-rate
    takes on the form of a stochastic variable in interest-rate models, where the
    interest rates may change by small amounts at every point in time. Short-rate
    models attempt to model the evolution of interest rates over time, and hopefully
    describe the economic conditions at certain periods.
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 在短期利率建模中，短期利率*r(t)*是特定时间的即期利率。它被描述为收益率曲线上无限短的时间内的连续复利化年化利率。短期利率在利率模型中采用随机变量的形式，其中利率可能在每个时间点上以微小的变化。短期利率模型试图模拟利率随时间的演变，并希望描述特定时期的经济状况。
- en: Short-rate models are frequently used in the evaluation of interest-rate derivatives.
    Bonds, credit instruments, mortgages, and loan products are sensitive to interest-rate
    changes. Short-rate models are used as interest rate components in conjunction
    with pricing implementations, such as numerical methods, to help price such derivatives.
  id: totrans-154
  prefs: []
  type: TYPE_NORMAL
  zh: 短期利率模型经常用于评估利率衍生品。债券、信用工具、抵押贷款和贷款产品对利率变化敏感。短期利率模型被用作利率组成部分，结合定价实现，如数值方法，以帮助定价这些衍生品。
- en: Interest-rate modeling is considered a fairly complex topic since interest rates
    are affected by a multitude of factors, such as economic states, political decisions,
    government intervention, and laws of supply and demand . A number of interest-rate
    models have been proposed to account for various characteristics of interest rates.
  id: totrans-155
  prefs: []
  type: TYPE_NORMAL
  zh: 利率建模被认为是一个相当复杂的话题，因为利率受到多种因素的影响，如经济状态、政治决策、政府干预以及供求法则。已经提出了许多利率模型，以解释利率的各种特征。
- en: In this section, we will take a look at some of the most popular one-factor
    short-rate models used in financial studies, namely, the Vasicek, Cox-Ingersoll-Ross,
    Rendleman and Bartter, and Brennan and Schwartz models. Using Python, we will
    perform a one-path simulation to obtain a general overview of the interest-rate
    path process. Other models commonly discussed in finance include the Ho-Lee, Hull-White,
    and Black-Karasinki.
  id: totrans-156
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将研究金融研究中使用的一些最流行的一因素短期利率模型，即瓦西切克、考克斯-英格索尔-罗斯、伦德尔曼和巴特尔、布伦南和施瓦茨模型。使用Python，我们将执行一条路径模拟，以获得对利率路径过程的一般概述。金融学中常讨论的其他模型包括何厉、赫尔-怀特和布莱克-卡拉辛基。
- en: The Vasicek model
  id: totrans-157
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 瓦西切克模型
- en: 'In the one-factor Vasicek model, the short-rate is modeled as a single stochastic
    factor:'
  id: totrans-158
  prefs: []
  type: TYPE_NORMAL
  zh: 在一因素瓦西切克模型中，短期利率被建模为单一随机因素：
- en: '![](Images/37266859-af0c-454c-b012-aa6ddca7c777.png)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/37266859-af0c-454c-b012-aa6ddca7c777.png)'
- en: Here, *K*, *θ*, and *σ* are constants, and *σ* is the instantaneous standard
    deviation. *W(t)* is the random Wiener process. The Vasicek follows an Ornstein-Uhlenbeck
    process, where the model reverts around the mean, *θ*, with *K*, the speed of
    mean reversion. As a result, the interest rates may become negative, which is
    an undesirable property in most normal economic conditions.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里，*K*、*θ*和*σ*是常数，*σ*是瞬时标准差。*W(t)*是随机维纳过程。瓦西切克遵循奥恩斯坦-乌伦贝克过程，模型围绕均值*θ*回归，*K*是均值回归速度。因此，利率可能变为负值，这在大多数正常经济条件下是不希望的特性。
- en: 'To help us understand this model, the following code generates a list of interest
    rates:'
  id: totrans-161
  prefs: []
  type: TYPE_NORMAL
  zh: 为了帮助我们理解这个模型，以下代码生成了一组利率：
- en: '[PRE22]'
  id: totrans-162
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'The `vasicek()` function returns a list of time periods and interest rates
    from the Vasicek model. It takes in a number of input arguments: `r0` is the initial
    rate of interest at *t=0*; `K`, `theta`, and `sigma` are constants; `T` is the
    period in terms of number of years; `N` is the number of intervals for the modeling
    process; and `seed` is the initialization value for NumPy''s standard normal random-number
    generator.'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: '`vasicek()`函数返回瓦西切克模型的一组时间段和利率。它接受一些输入参数：`r0`是*t=0*时的初始利率；`K`、`theta`和`sigma`是常数；`T`是以年为单位的期间；`N`是建模过程的间隔数；`seed`是NumPy标准正态随机数生成器的初始化值。'
- en: 'Assume that the current interest rate is close to zero at 0.5%, the long term
    mean level `theta` is `0.15`, and the instantaneous volatility `sigma` is 5%.
    We will use a `T` value of `10` and an `N` value of `200` to model the interest
    rates for different speeds of mean reversion, `K`, with values of `0.002`, `0.02`,
    and `0.2`:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 假设当前利率接近零，为0.5%，长期均值水平`theta`为`0.15`，瞬时波动率`sigma`为5%。我们将使用`T`值为`10`和`N`值为`200`来模拟不同均值回归速度`K`的利率，使用值为`0.002`，`0.02`和`0.2`：
- en: '[PRE23]'
  id: totrans-165
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: 'After running the preceding commands, we get the following graph:'
  id: totrans-166
  prefs: []
  type: TYPE_NORMAL
  zh: 运行前述命令后，我们得到以下图表：
- en: '![](Images/32689e30-70bb-4fec-bf7a-2c4f8addd8f0.png)'
  id: totrans-167
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/32689e30-70bb-4fec-bf7a-2c4f8addd8f0.png)'
- en: In this example, we are running just one simulation to see what the interest
    rates from the Vasicek model looks like. Observe that interest rates did become
    negative at some point. With higher levels of speed for mean reversion, `K`, the
    process reaches its long-term level of 0.15 sooner.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 在这个例子中，我们只运行了一个模拟，以查看Vasicek模型的利率是什么样子。请注意，利率在某个时候变为负值。当均值回归速度`K`较高时，该过程更快地达到其长期水平0.15。
- en: The Cox-Ingersoll-Ross model
  id: totrans-169
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Cox-Ingersoll-Ross模型
- en: 'The **Cox-Ingersoll-Ross** (**CIR**) model is a one-factor model that was proposed
    to address the negative interest rates found in the Vasicek model. The process
    is given as follows:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: '**Cox-Ingersoll-Ross**（**CIR**）模型是一个一因素模型，旨在解决Vasicek模型中发现的负利率。该过程如下：'
- en: '![](Images/320ced44-049d-4768-9b14-48fe8ded0ca4.png)'
  id: totrans-171
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/320ced44-049d-4768-9b14-48fe8ded0ca4.png)'
- en: 'The term ![](Images/2bfa78e2-1310-496a-9e74-e15c9fe1de74.png) increases the
    standard deviation as the short-rate increases. Now the `vasicek()` function can
    be rewritten as the CIR model in Python:'
  id: totrans-172
  prefs: []
  type: TYPE_NORMAL
  zh: 术语![](Images/2bfa78e2-1310-496a-9e74-e15c9fe1de74.png)随着短期利率的增加而增加标准差。现在`vasicek()`函数可以重写为Python中的CIR模型：
- en: '[PRE24]'
  id: totrans-173
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Using the same example given in the *The Vasicek model* section, assume that
    the current interest rate is 0.5%, `theta` is `0.15`, and `sigma` is `0.05`. We
    will use a `T` value of `10` and `N` of `200` to model the interest rates with
    different speeds of mean reversion, `K`, using values of `0.002`, `0.02`, and
    `0.2`:'
  id: totrans-174
  prefs: []
  type: TYPE_NORMAL
  zh: 使用*Vasicek模型*部分中给出的相同示例，假设当前利率为0.5%，`theta`为`0.15`，`sigma`为`0.05`。我们将使用`T`值为`10`和`N`值为`200`来模拟不同均值回归速度`K`的利率，使用值为`0.002`，`0.02`和`0.2`：
- en: '[PRE25]'
  id: totrans-175
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: 'Here is the output of the preceding commands:'
  id: totrans-176
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是前述命令的输出：
- en: '![](Images/407ff3e0-8033-48c3-b5e2-debfc584883c.png)'
  id: totrans-177
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/407ff3e0-8033-48c3-b5e2-debfc584883c.png)'
- en: Observe that the CIR interest model does not have negative interest rate values.
  id: totrans-178
  prefs: []
  type: TYPE_NORMAL
  zh: 请注意，CIR利率模型没有负利率值。
- en: The Rendleman and Bartter model
  id: totrans-179
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Rendleman和Bartter模型
- en: 'In the Rendleman and Bartter model, the short-rate process is given as follows:'
  id: totrans-180
  prefs: []
  type: TYPE_NORMAL
  zh: 在Rendleman和Bartter模型中，短期利率过程如下：
- en: '![](Images/f598fed1-d57f-483c-a469-f8004f8c8945.png)'
  id: totrans-181
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/f598fed1-d57f-483c-a469-f8004f8c8945.png)'
- en: Here, the instantaneous drift is *θr(t)* with an instantaneous standard deviation, *σr(t)*.
    The Rendleman and Bartter model can be thought of as a geometric Brownian motion,
    akin to a stock price stochastic process that is log-normally distributed. This
    model lacks the property of mean reversion. Mean reversion is a phenomenon where
    the interest rates seem to be pulled back toward a long-term average level.
  id: totrans-182
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，瞬时漂移是*θr(t)*，瞬时标准差为*σr(t)*。Rendleman和Bartter模型可以被视为几何布朗运动，类似于对数正态分布的股价随机过程。该模型缺乏均值回归属性。均值回归是利率似乎被拉回到长期平均水平的现象。
- en: 'The following Python code models the Rendleman and Bartter interest-rate process:'
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 以下Python代码模拟了Rendleman和Bartter的利率过程：
- en: '[PRE26]'
  id: totrans-184
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: We will continue to use the example from the previous sections and compare the
    model.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将继续使用前几节中的示例并比较模型。
- en: 'Assume that the current interest rate is 0.5%, and `sigma` is `0.05`. We will
    use a `T` value of `10` and `N` of `200` to model the interest rates with different
    instantaneous drift, `theta`, using values of `0.01`, `0.05`, and `0.1`:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 假设当前利率为0.5%，`sigma`为`0.05`。我们将使用`T`值为`10`和`N`值为`200`来模拟不同瞬时漂移`theta`的利率，使用值为`0.01`，`0.05`和`0.1`：
- en: '[PRE27]'
  id: totrans-187
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: 'The following graph is the output for the preceding commands:'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表是前述命令的输出：
- en: '![](Images/0eee54c3-00a1-4ac5-aa21-d65391894a13.png)'
  id: totrans-189
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/0eee54c3-00a1-4ac5-aa21-d65391894a13.png)'
- en: In general, this model lacks the property of mean reversion and grows toward
    a long-term average level.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
  zh: 总的来说，该模型缺乏均值回归属性，并向长期平均水平增长。
- en: The Brennan and Schwartz model
  id: totrans-191
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Brennan和Schwartz模型
- en: 'The Brennan and Schwartz model is a two-factor model where the short-rate reverts
    toward a long-term rate as the mean, which also follows a stochastic process.
    The short-rate process is given as follows:'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: Brennan和Schwartz模型是一个双因素模型，其中短期利率向长期利率作为均值回归，也遵循随机过程。短期利率过程如下：
- en: '![](Images/dc9642f7-31df-4525-baeb-415df2d335d1.png)'
  id: totrans-193
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/dc9642f7-31df-4525-baeb-415df2d335d1.png)'
- en: It can be seen that the Brennan and Schwartz model is another form of a geometric
    Brownian motion.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 可以看出，Brennan和Schwartz模型是几何布朗运动的另一种形式。
- en: 'Our Python code can now be implemented as follows:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的Python代码现在可以这样实现：
- en: '[PRE28]'
  id: totrans-196
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'Assume that the current interest rate remains at 0.5%, and the long-term mean
    level of `theta` is 0.006\. `sigma` is `0.05`. We will use a `T` value of `10`
    and `N` of `200` to model the interest rates with different speeds of mean reversion, `K`,
    using values of `0.2`, `0.02`, and `0.002`:'
  id: totrans-197
  prefs: []
  type: TYPE_NORMAL
  zh: 假设当前利率保持在0.5%，长期均值水平`theta`为0.006。`sigma`为`0.05`。我们将使用`T`值为`10`和`N`值为`200`来模拟不同均值回归速度`K`的利率，使用值为`0.2`，`0.02`和`0.002`：
- en: '[PRE29]'
  id: totrans-198
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: 'After running the preceding commands, we will get the following output:'
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 运行前述命令后，我们将得到以下输出：
- en: '![](Images/b45e7c11-d9ec-4fa6-bbf8-0714cfa9b235.png)'
  id: totrans-200
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/b45e7c11-d9ec-4fa6-bbf8-0714cfa9b235.png)'
- en: When k is 0.2, the speed of the mean reversion is fastest toward the long-term
    mean of 0.006.
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 当k为0.2时，均值回归速度最快，达到长期均值0.006。
- en: Bond options
  id: totrans-202
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 债券期权
- en: When bond issuers, such as corporations, issue bonds, one of the risks they
    face is the interest rate risk. When interest rates decrease, bond prices increase.
    While existing bondholders will find their bonds more valuable, bond issuers,
    on the other hand, find themselves in a losing position, since they will be issuing
    higher-interest payments than the prevailing interest rate. Conversely, when interest
    rates increase, bond issuers are at an advantage, since they are able to continue
    issuing the same low-interest payments as agreed to on the bond-contract specifications.
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 当债券发行人，如公司，发行债券时，他们面临的风险之一是利率风险。利率下降时，债券价格上升。现有债券持有人会发现他们的债券更有价值，而债券发行人则处于不利地位，因为他们将发行高于市场利率的利息支付。相反，当利率上升时，债券发行人处于有利地位，因为他们能够继续按债券合同规定的低利息支付。
- en: 'To capitalize on interest-rate changes, bond issuers may embed options within
    a bond. This allows the issuer the right, but not the obligation, to buy or sell
    the issued bond at a predetermined price during a specified period of time. An
    American type of bond option allows the issuer to exercise the rights of the option
    at any point in time during the lifetime of a bond. A European type of bond option
    allows the issuer to exercise the rights of the option on a specific date. The
    exact style of the date of exercise varies from bond option to bond option. Some
    issuers may choose to exercise the right of the bond option when the bond has
    been in circulation in the market for over a year. Some issuers may choose to
    exercise the bond option on one of several specific dates. Regardless of the exercise
    dates of the bond, you may price the bond with an embedded option, as follows:'
  id: totrans-204
  prefs: []
  type: TYPE_NORMAL
  zh: 为了利用利率变化，债券发行人可以在债券中嵌入期权。这使得发行人有权利，但没有义务，在特定时间段内以预定价格买入或卖出发行的债券。美式债券期权允许发行人在债券的任何时间内行使期权的权利。欧式债券期权允许发行人在特定日期行使期权的权利。行使日期的确切方式因债券期权而异。一些发行人可能选择在债券在市场上流通超过一年后行使债券期权的权利。一些发行人可能选择在几个特定日期中的一个上行使债券期权的权利。无论债券的行使日期如何，您可以按以下方式定价嵌入式期权的债券：
- en: Price of bond = price of bond with no option - price of embedded option
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 债券价格=没有期权的债券价格-嵌入式期权的价格
- en: 'The pricing of a bond with no option is fairly straightforward: the present
    value of the bond to be received at a future date, including all coupon payments.
    A number of assumptions are to be made about the theoretical interest rates in
    the future at which the coupon payments may be reinvested. One such assumption
    might be the movement of interest rates as implied by short-rate models, which
    we covered in the preceding section, *Short-rate modeling*. Another assumption
    might be the movement of interest rates within a binomial or trinomial tree. For
    simplicity, in bond-pricing studies, we will price zero-coupon bonds that will
    not issue coupons during the lifetime of the bond.'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 没有期权的债券定价相当简单：未来日期收到的债券的现值，包括所有票息支付。必须对未来的理论利率进行一些假设，以便将票息支付再投资。这样的假设可能是短期利率模型所暗示的利率变动，我们在前一节中介绍了*短期利率建模*。另一个假设可能是在二项或三项树中的利率变动。为简单起见，在债券定价研究中，我们将定价零息债券，这些债券在债券的寿命期间不发行票息。
- en: To price an option, one would have to determine available exercise dates. Starting
    from the future value of the bond, the bond price is compared against the exercise
    price of the option and traverses back to the present time using a numerical procedure,
    such as a binomial tree. This price comparison is performed at time points when
    the bond option may be exercised. With the no-arbitrage theory, accounting for
    the present excess values of the bond when exercised, we obtain the price of the
    option. For simplicity, in bond-pricing studies in the later section of this chapter,
    *Pricing callable bond options*, we will treat the embedded option of zero-coupon
    bonds as an American option.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 要定价期权，必须确定可行的行使日期。从债券的未来价值开始，将债券价格与期权的行使价格进行比较，并使用数值程序（如二项树）回溯到现在的时间。这种价格比较是在债券期权可能行使的时间点进行的。根据无套利理论，考虑到行使时债券的现值超额值，我们得到了期权的价格。为简单起见，在本章后面的债券定价研究中，*定价可赎回债券期权*，我们将把零息债券的嵌入式期权视为美式期权。
- en: Callable bonds
  id: totrans-208
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可赎回债券
- en: In an economic condition where there are high interest rates, bond issuers are
    likely at risk of facing an interest-rate decrease and having to continue to issue
    higher-interest payments than the prevailing interest rate. As such, they may
    choose to issue callable bonds. A callable bond contains an embedded agreement
    to redeem the bond at agreed dates. Existing bond holders are considered to have
    sold a call option to the bond issuer.
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 在利率较高的经济条件下，债券发行人可能面临利率下降的风险，并不得不继续发行高于市场利率的利息支付。因此，他们可能选择发行可赎回债券。可赎回债券包含一项嵌入式协议，约定在约定日期赎回债券。现有债券持有人被认为已经向债券发行人出售了一项认购期权。
- en: In the event that interest rates fall and the corporation has the right to exercise
    the option to buy back the bond during that period at a specific price, they may
    choose to do so. The company can then issue new bonds at lower interest rates.
    This also means that the company is able to raise more capital in the form of
    higher bond prices.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 如果利率下降，公司有权在特定价格回购债券的期间行使该选择权，他们可能会选择这样做。公司随后可以以较低的利率发行新债券。这也意味着公司能够以更高的债券价格形式筹集更多资本。
- en: Puttable bonds
  id: totrans-211
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可回售债券
- en: Unlike callable bonds, the owner of puttable bonds has the right, but not the
    obligation, to sell the bond back to the issuer at an agreed price during a certain
    period. Owners of puttable bonds are considered to have bought a put option from
    the bond issuer. When interest rates increase, values of existing bonds become
    less valuable and puttable bond holders are more incentivized to exercise the
    right to sell the bond at a higher exercise price. Since puttable bonds are more
    beneficial to buyers than to the issuers, they are generally less common than
    callable bonds. Variants of puttable bonds can be found in the form of loan and
    deposit instruments. A customer who has placed a fixed-rate deposit with a financial
    institution receives interest payments on specified dates. They are entitled to
    withdraw the deposit at any time. As such, a fixed-rate deposit instrument can
    be thought of as a bond with an embedded American put option.
  id: totrans-212
  prefs: []
  type: TYPE_NORMAL
  zh: 与可赎回债券不同，可赎回债券的持有人有权利，但没有义务，在一定期限内以约定价格将债券卖回给发行人。可赎回债券的持有人被认为是从债券发行人购买了一个认沽期权。当利率上升时，现有债券的价值变得更不值钱，可赎回债券持有人更有动力行使以更高行使价格出售债券的权利。由于可赎回债券对买方更有利而对发行人不利，它们通常比可赎回债券更少见。可赎回债券的变体可以在贷款和存款工具的形式中找到。向金融机构存入固定利率存款的客户在指定日期收到利息支付。他们有权随时提取存款。因此，固定利率存款工具可以被视为带有内嵌美式认沽期权的债券。
- en: An investor who wishes to borrow money from a bank enters a loan agreement,
    making interest payments during the lifetime of the agreement until the debt,
    together with the principal amount and agreed interest, is fully repaid. The bank
    can be considered as buying a put option on a bond. Under certain circumstances,
    the bank may exercise the right to redeem the full value of the loan agreement.
  id: totrans-213
  prefs: []
  type: TYPE_NORMAL
  zh: 希望从银行借款的投资者签订贷款协议，在协议的有效期内进行利息支付，直到债务连同本金和约定利息全部偿还。银行可以被视为在债券上购买了一个看跌期权。在某些情况下，银行可能行使赎回贷款协议全部价值的权利。
- en: 'Thus, the price of puttable bonds can be thought of as follows:'
  id: totrans-214
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，可赎回债券的价格可以如下所示：
- en: Price of puttable bond = price of bond with no option + price of put option
  id: totrans-215
  prefs: []
  type: TYPE_NORMAL
  zh: 可赎回债券的价格=无期权债券价格+认沽期权价格
- en: Convertible bonds
  id: totrans-216
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可转换债券
- en: Convertible bonds are issued by companies and contain an embedded option that
    allows the holder to convert the bond into a number of shares of common stock.
    The amount of shares to be converted for a bond is defined as the conversion ratio,
    which is determined such that the dollar amount of shares is the same as the value
    of the bond.
  id: totrans-217
  prefs: []
  type: TYPE_NORMAL
  zh: 公司发行的可转换债券包含一个内嵌期权，允许持有人将债券转换为一定数量的普通股。债券转换为股票的数量由转换比率定义，该比率被确定为使股票的美元金额与债券价值相同。
- en: Convertible bonds have similarities with callable bonds. They allow the bond
    holders to exercise the bond for an equivalent amount of shares at the specified
    conversion ratio at agreed times. Convertible bonds typically issue lower coupon
    rates than non-convertible bonds, to compensate for the additional value of the
    right to exercise.
  id: totrans-218
  prefs: []
  type: TYPE_NORMAL
  zh: 可转换债券与可赎回债券有相似之处。它们允许债券持有人在约定时间以约定的转换比率行使债券，换取相等数量的股票。可转换债券通常发行的票面利率低于不可转换债券，以补偿行使权利的附加价值。
- en: When convertible bond holders exercise their rights into stocks, the company's
    debts are reduced. On the other hand, the company's stocks become more diluted
    as the number of shares in the circulation increases, and the company's stock
    price is expected to fall.
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 当可转换债券持有人行使其股票权利时，公司的债务减少。另一方面，随着流通股数量的增加，公司的股票变得更加稀释，公司的股价预计会下跌。
- en: As the company's stock price increases, convertible bond prices tend to increase.
    Conversely, as the company's stock price decreases, convertible bond prices tend
    to decrease.
  id: totrans-220
  prefs: []
  type: TYPE_NORMAL
  zh: 随着公司股价的上涨，可转换债券价格往往会上涨。相反，随着公司股价的下跌，可转换债券价格往往会下跌。
- en: Preferred stocks
  id: totrans-221
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 优先股
- en: Preferred stocks are stocks that have bond-like qualities. Owners of preferred
    stocks have seniority of claim on dividend payments over common stocks, which
    are usually negotiated as a fixed percentage of their par value. Although there
    is no guarantee of dividend payments, all dividends are paid on preferred stock
    first over common stock. In certain agreements on preferred stocks, dividends
    that are not paid as agreed may accumulate until they are paid at a later time.
    These preferred stocks are known as **cumulative**.
  id: totrans-222
  prefs: []
  type: TYPE_NORMAL
  zh: 优先股是具有债券特性的股票。优先股股东在普通股股东之前对股利支付具有优先权，通常作为其面值的固定百分比进行协商。虽然不能保证股利支付，但所有股利都优先支付给优先股股东而不是普通股股东。在某些优先股协议中，未按约支付的股利可能会累积直到以后支付。这些优先股被称为**累积**。
- en: Prices of preferred stocks typically move in tandem with their common stock.
    They may have voting rights associated with common shareholders. In the event
    of bankruptcy, preferred stocks have a first lien of its par value upon liquidation.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 优先股的价格通常与其普通股同步变动。它们可能具有与普通股股东相关的表决权。在破产情况下，优先股在清算时对其票面价值具有第一顺位权。
- en: Pricing a callable bond option
  id: totrans-224
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 定价可赎回债券期权
- en: 'In this section, we will take a look at pricing a callable bond. We assume
    that the bond to be priced is a zero-coupon paying bond with an embedded European
    call option. The price of a callable bond can be thought of as follows:'
  id: totrans-225
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将研究定价可赎回债券。我们假设要定价的债券是一种带有内嵌欧式认购期权的零息支付债券。可赎回债券的价格可以如下所示：
- en: Price of callable bond = price of bond with no option − price of call option
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 可赎回债券的价格=无期权债券价格-认购期权价格
- en: Pricing a zero-coupon bond by the Vasicek model
  id: totrans-227
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过Vasicek模型定价零息债券
- en: 'The value of a zero-coupon bond with a par value of 1 at time *t* and a prevailing
    interest rate, *r*, is defined as follows:'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 在时间*t*和当前利率*r*下，面值为1的零息债券的价值定义如下：
- en: '![](Images/00daba85-1f73-4228-a0a0-285ff6c3bfff.png)'
  id: totrans-229
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/00daba85-1f73-4228-a0a0-285ff6c3bfff.png)'
- en: 'Since the interest rate, *r*, is always changing, we rewrite the zero-coupon
    bond as follows:'
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 由于利率*r*总是在变化，我们将零息债券重写如下：
- en: '![](Images/be2bcba4-d039-45ab-aa8d-8c570c665307.png)'
  id: totrans-231
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/be2bcba4-d039-45ab-aa8d-8c570c665307.png)'
- en: Now, the interest rate, *r*, is a stochastic process that accounts for the price
    of the bond from time *t* to *T*, where *T* is the time to maturity of the zero-coupon
    bond.
  id: totrans-232
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，利率*r*是一个随机过程，考虑从时间*t*到*T*的债券价格，其中*T*是零息债券的到期时间。
- en: To model the interest rate, *r*, we can use one of the short-rate models as
    a stochastic process. For this purpose, we will use the Vasicek model to model
    the short-rate process.
  id: totrans-233
  prefs: []
  type: TYPE_NORMAL
  zh: 为了对利率*r*进行建模，我们可以使用短期利率模型作为随机过程之一。为此，我们将使用Vasicek模型来对短期利率过程进行建模。
- en: 'The expectation of a log-normally distributed variable, *X*, is given as follows:'
  id: totrans-234
  prefs: []
  type: TYPE_NORMAL
  zh: 对于对数正态分布变量*X*的期望值如下：
- en: '![](Images/13f61301-4101-4ebc-b1d8-94b3f6c554b6.png)'
  id: totrans-235
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/13f61301-4101-4ebc-b1d8-94b3f6c554b6.png)'
- en: '![](Images/e393a7b1-f9ee-471d-a186-82d980722ccb.png)'
  id: totrans-236
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/e393a7b1-f9ee-471d-a186-82d980722ccb.png)'
- en: 'Taking moments of the log-normally distributed variable *X*:'
  id: totrans-237
  prefs: []
  type: TYPE_NORMAL
  zh: 对对数正态分布变量*X*的矩：
- en: '![](Images/4aaf67e6-08bf-4d33-bc5f-3203f84f8f6c.png)'
  id: totrans-238
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/4aaf67e6-08bf-4d33-bc5f-3203f84f8f6c.png)'
- en: We obtained the expected value of a log-normally distributed variable, which
    we will use in the interest-rate process for the zero-coupon bond.
  id: totrans-239
  prefs: []
  type: TYPE_NORMAL
  zh: 我们得到了对数正态分布变量的期望值，我们将在零息债券的利率过程中使用。
- en: 'Remember the Vasicek short-rate process model:'
  id: totrans-240
  prefs: []
  type: TYPE_NORMAL
  zh: 记住Vasicek短期利率过程模型：
- en: '![](Images/252c0730-4d5f-46bb-993d-f2f544595c03.png)'
  id: totrans-241
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/252c0730-4d5f-46bb-993d-f2f544595c03.png)'
- en: 'Then, *r(t)* is derived as follows:'
  id: totrans-242
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，*r(t)*可以如下导出：
- en: '![](Images/71bee418-e109-41ed-98df-f93d5c3e9633.png)'
  id: totrans-243
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/71bee418-e109-41ed-98df-f93d5c3e9633.png)'
- en: 'Using the characteristic equation and the interest-rate movements of the Vasicek
    model, we can rewrite the zero-coupon bond price in terms of expectations:'
  id: totrans-244
  prefs: []
  type: TYPE_NORMAL
  zh: 利用特征方程和Vasicek模型的利率变动，我们可以重写零息债券价格的期望值：
- en: '![](Images/23fd61a9-b958-4efe-b6ad-00da860e177d.png)'
  id: totrans-245
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/23fd61a9-b958-4efe-b6ad-00da860e177d.png)'
- en: '![](Images/a83a9a41-df4a-4ee1-8764-547cf40e77b9.png)'
  id: totrans-246
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/a83a9a41-df4a-4ee1-8764-547cf40e77b9.png)'
- en: 'Here:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 这里：
- en: '![](Images/f7f8cd6a-4573-47ac-ab9f-baf0f7f9cc1f.png)'
  id: totrans-248
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/f7f8cd6a-4573-47ac-ab9f-baf0f7f9cc1f.png)'
- en: '![](Images/bd510c68-a70f-4ba1-a614-a880d4c40d3d.png)'
  id: totrans-249
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/bd510c68-a70f-4ba1-a614-a880d4c40d3d.png)'
- en: '![](Images/30b28c87-c8be-4e71-a8fb-f48746691600.png)'
  id: totrans-250
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/30b28c87-c8be-4e71-a8fb-f48746691600.png)'
- en: 'The Python implementation of the zero-coupon bond price is given in the `exact_zcb`
    function:'
  id: totrans-251
  prefs: []
  type: TYPE_NORMAL
  zh: 零息债券价格的Python实现在`exact_zcb`函数中给出：
- en: '[PRE30]'
  id: totrans-252
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: For example, we are interested in finding out the prices of zero-coupon bond
    prices for a number of maturities. We model the Vasicek short-rate process with
    a `theta` value of `0.5`, `kappa` value of `0.02`, `sigma` value of `0.03`, and
    an initial interest rate, `r0`, of `0.015`.
  id: totrans-253
  prefs: []
  type: TYPE_NORMAL
  zh: 例如，我们有兴趣找出多种到期日的零息债券价格。我们使用Vasicek短期利率过程，`theta`值为`0.5`，`kappa`值为`0.02`，`sigma`值为`0.03`，初始利率`r0`为`0.015`进行建模。
- en: 'Plugging these values into the `exact_zcb` function, we obtain zero-coupon
    bond prices, for the time period from 0 to 25 years with intervals of 0.5 years,
    and plot out the graph:'
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 将这些值代入`exact_zcb`函数，我们得到了从0到25年的时间段内以0.5年为间隔的零息债券价格，并绘制出图表：
- en: '[PRE31]'
  id: totrans-255
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: 'The following graph is the output for the preceding commands:'
  id: totrans-256
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表是上述命令的输出：
- en: '![](Images/874e6a9d-00e4-4731-92fd-eebafead18e2.png)'
  id: totrans-257
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/874e6a9d-00e4-4731-92fd-eebafead18e2.png)'
- en: The value of early exercise
  id: totrans-258
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 提前行使权的价值
- en: 'Issuers of callable bonds may redeem the bond at an agreed price, as specified
    in the contract. To price such a bond, the discounted early-exercise values can
    be defined as follows:'
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 可赎回债券的发行人可以按合同规定的约定价格赎回债券。为了定价这种债券，可以将折现的提前行使价值定义如下：
- en: '![](Images/f39ae822-674f-4710-ad99-3eba6b27a43e.png)'
  id: totrans-260
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/f39ae822-674f-4710-ad99-3eba6b27a43e.png)'
- en: Here, *k* is the price ratio of the strike price to the par value and *r* is
    the interest rate for the strike price.
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，*k*是行权价格与票面价值的价格比率，*r*是行权价格的利率。
- en: 'The Python implementation of the early-exercise option can then be written
    as follows:'
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，提前行使期权的Python实现可以写成如下形式：
- en: '[PRE32]'
  id: totrans-263
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: 'In the preceding example, we are interested in valuing a call option with a
    strike ratio of 0.95 and an initial interest rate of 1.5%. We can then plot the
    values as a function of time and superimpose them onto a graph of zero-coupon
    bond prices to give us a better visual representation of the relationship between
    zero-coupon bond prices and callable bond prices:'
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 在上述示例中，我们有兴趣对行权比率为0.95且初始利率为1.5%的认购期权进行定价。然后，我们可以将这些值作为时间函数绘制，并将它们叠加到零息债券价格的图表上，以更好地呈现零息债券价格与可赎回债券价格之间的关系：
- en: '[PRE33]'
  id: totrans-265
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'Here is the output for the preceding commands:'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是上述命令的输出：
- en: '![](Images/2be4e238-33bc-4dc1-b834-a748f95db989.png)'
  id: totrans-267
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/2be4e238-33bc-4dc1-b834-a748f95db989.png)'
- en: 'From the preceding graph, we can approximate the price of callable zero-coupon
    bond prices. Since the bond issuer owns the call, the price of the callable zero-coupon
    bond can be stated as follows:'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 从上述图表中，我们可以近似计算可赎回零息债券的价格。由于债券发行人拥有行权，可赎回零息债券的价格可以如下所述：
- en: '![](Images/79549aaa-58b0-4657-87ed-25540b6fdcce.png)'
  id: totrans-269
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/79549aaa-58b0-4657-87ed-25540b6fdcce.png)'
- en: This callable bond price is an approximation, given the current interest-rate
    level. The next step would be to treat early-exercise by going through a form
    of policy iteration, which is a cycle used to determine optimum early-exercise
    values and their effect on other nodes, and check whether they become due for
    an early exercise. In practice, such an iteration only occurs once.
  id: totrans-270
  prefs: []
  type: TYPE_NORMAL
  zh: 这种可赎回债券价格是一种近似值，考虑到当前的利率水平。下一步将是通过进行一种政策迭代来处理提前行使，这是一种用于确定最佳提前行使价值及其对其他节点的影响的循环，并检查它们是否到期提前行使。在实践中，这样的迭代只会发生一次。
- en: Policy iteration by finite differences
  id: totrans-271
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过有限差分的政策迭代
- en: So far, we have used the Vasicek model in our short-rate process to model a
    zero-coupon bond. We can undergo policy iteration by finite differences to check
    for early-exercise conditions and their effect on other nodes. We will use the
    implicit method of finite differences for the numerical pricing procedure, as
    discussed in [Chapter 4](bd8dfd19-c025-4223-8d5e-b7c7893874c3.xhtml)*, Numerical
    Procedures for Pricing Options*.
  id: totrans-272
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，我们已经在我们的短期利率过程中使用了Vasicek模型来模拟零息债券。我们可以通过有限差分进行政策迭代，以检查提前行使条件及其对其他节点的影响。我们将使用有限差分的隐式方法进行数值定价程序，如[第4章](bd8dfd19-c025-4223-8d5e-b7c7893874c3.xhtml)*，期权定价的数值程序*中所讨论的那样。
- en: 'Let''s create a class named `VasicekCZCB`, which will incorporate all the methods
    used to implement the pricing of callable zero-coupon bonds by the Vasicek model.
    The class with its constructor definition is given as follows:'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 让我们创建一个名为`VasicekCZCB`的类，该类将包含用于实现Vasicek模型定价可赎回零息债券的所有方法。该类及其构造函数定义如下：
- en: '[PRE34]'
  id: totrans-274
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: In the constructor, the `norminv` and `normv` variable is made available to
    all methods that require the computation of the inverse normal cumulative distribution
    function and the normal cumulative distribution function of SciPy, respectively.
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 在构造函数中，`norminv`和`normv`变量对于所有需要计算SciPy的逆正态累积分布函数和正态累积分布函数的方法都是可用的。
- en: 'With this base class, let''s discuss the methods required and add them to our
    class:'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: 有了这个基类，让我们讨论所需的方法并将它们添加到我们的类中：
- en: Add the `vasicek_czcb_values()` method as the point of entry to begin the pricing
    process. The `r0` variable is the short-rate at time *t=0*; `R` is the strike
    zero rate for the bond price; `ratio` is the strike price per par value of the
    bond; `T` is the time to maturity; `sigma` is the volatility of the short-rate, `r`;
    `kappa` is the rate of mean reversion; `theta` is the mean of the short-rate process;
    `M` is the number of steps in the finite differences scheme; `prob` is the probability
    on the normal distribution curve used by the `vasicek_limits` method later to
    determine short-rates; `max_policy_iter` is the maximum number of policy iterations
    used to find early-exercise nodes; `grid_struct_const` is the maximum threshold
    of `dt` movement that determines `N` in the `calculate_N()` method; and `rs` is
    the list of interest rates from which the short-rate process follows.
  id: totrans-277
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加`vasicek_czcb_values()`方法作为开始定价过程的入口点。`r0`变量是时间*t=0*的短期利率；`R`是债券价格的零利率；`ratio`是债券的面值每单位的行权价格；`T`是到期时间；`sigma`是短期利率`r`的波动率；`kappa`是均值回归率；`theta`是短期利率过程的均值；`M`是有限差分方案中的步数；`prob`是`vasicek_limits`方法后用于确定短期利率的正态分布曲线上的概率；`max_policy_iter`是用于找到提前行使节点的最大政策迭代次数；`grid_struct_const`是确定`calculate_N()`方法中的`N`的`dt`移动的最大阈值；`rs`是短期利率过程遵循的利率列表。
- en: 'This method returns a list of evenly-spaced short-rates and a list of option
    prices, and is written as follows:'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: 该方法返回一列均匀间隔的短期利率和一列期权价格，写法如下：
- en: '[PRE35]'
  id: totrans-279
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: 'Add the `vasicek_params()` method to compute the implicit scheme parameters
    for the Vasicek model. It returns a tuple of `r_min`, `dr`, `N`, and `dt`. If
    no value is supplied to `rs`, values of `r_min` to `r_max` will be automatically
    generated by the `vasicek_limits()` method as a function of `prob` following a
    normal distribution. This method is written as follows:'
  id: totrans-280
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加`vasicek_params()`方法来计算Vasicek模型的隐式方案参数。它返回一个元组`r_min`，`dr`，`N`和`dt`。如果未向`rs`提供值，则`r_min`到`r_max`的值将由`vasicek_limits()`方法自动生成，作为`prob`的正态分布函数的函数。该方法的写法如下：
- en: '[PRE36]'
  id: totrans-281
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'Add the `calculate_N()` method, which is used by the `vasicek_params()` method
    to compute the grid size parameter, `N`. This method is written as follows:'
  id: totrans-282
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加`calculate_N()`方法，该方法由`vasicek_params()`方法使用，用于计算网格大小参数`N`。该方法的写法如下：
- en: '[PRE37]'
  id: totrans-283
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'Add the `vasicek_limits()` method to compute the minimum and maximum of the
    Vasicek interest rate process by a normal distribution process. The expected value
    of the short-rate process, `r(t)`, under the Vasicek model is given as follows:'
  id: totrans-284
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加`vasicek_limits()`方法来计算Vasicek利率过程的最小值和最大值，通过正态分布过程。Vasicek模型下短期利率过程`r(t)`的期望值如下：
- en: '![](Images/4ec2b772-54cb-4d04-899a-428ad7f2ff1a.png)'
  id: totrans-285
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/4ec2b772-54cb-4d04-899a-428ad7f2ff1a.png)'
- en: 'The variance is defined as follows:'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: 方差定义如下：
- en: '![](Images/04ed837e-adf5-40a9-93df-4ff0d69eaaf0.png)'
  id: totrans-287
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/04ed837e-adf5-40a9-93df-4ff0d69eaaf0.png)'
- en: 'This method returns a tuple of the minimum and maximum interest-rate level
    as defined by the probability for the normal distribution process, and is written
    as follows:'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 该方法返回一个元组，其中包括由正态分布过程的概率定义的最小和最大利率水平，写法如下：
- en: '[PRE38]'
  id: totrans-289
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: 'Add the `vasicek_diagonals()` method, which returns the diagonals of the implicit
    scheme of finite differences, where:'
  id: totrans-290
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加`vasicek_diagonals()`方法，该方法返回有限差分隐式方案的对角线，其中：
- en: '![](Images/b14492d2-171b-462a-ad6d-0b6b19de6d27.png)'
  id: totrans-291
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/b14492d2-171b-462a-ad6d-0b6b19de6d27.png)'
- en: '![](Images/2f37a2f0-fce9-4a60-bc48-96e8bfcf2907.png)'
  id: totrans-292
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/2f37a2f0-fce9-4a60-bc48-96e8bfcf2907.png)'
- en: '![](Images/e2dea2bc-2686-4e84-a1e7-eaafe4ac5c2b.png)'
  id: totrans-293
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/e2dea2bc-2686-4e84-a1e7-eaafe4ac5c2b.png)'
- en: 'The boundary conditions are implemented using Neumann boundary conditions.
    This method is written as follows:'
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 边界条件是使用诺伊曼边界条件实现的。该方法的写法如下：
- en: '[PRE39]'
  id: totrans-295
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: The Neumann boundary condition specifies the boundaries of a given ordinary
    or partial differential equation. Further information can be found at [http://mathworld.wolfram.com/NeumannBoundaryConditions.html](http://mathworld.wolfram.com/NeumannBoundaryConditions.html).
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 诺伊曼边界条件指定了给定常规或偏微分方程的边界。更多信息可以在[http://mathworld.wolfram.com/NeumannBoundaryConditions.html](http://mathworld.wolfram.com/NeumannBoundaryConditions.html)找到。
- en: 'Add the `check_exercise()` method, which returns a list of Boolean values,
    indicating the indices suggesting optimum payoff from an early exercise. This
    method is written as follows:'
  id: totrans-297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加`check_exercise()`方法，返回一个布尔值列表，指示建议从提前行使中获得最佳回报的索引。该方法的写法如下：
- en: '[PRE40]'
  id: totrans-298
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: 'Add the `exercise_call_price()` method, which returns the discounted value
    of the strike price as a ratio, written as follows:'
  id: totrans-299
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加`exercise_call_price()`方法，该方法返回折现值的行权价比率，写法如下：
- en: '[PRE41]'
  id: totrans-300
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'Add the `vasicek_policy_diagonals()` method, which is being called by the policy-iteration
    procedure that updates the sub-diagonals, diagonals, and super-diagonals for one
    iteration. In indices, where an early exercise is carried out, the sub-diagonals
    and super-diagonals will have these values set to 0 and the remaining values on
    the diagonals. The method returns comma-separated values of the new sub-diagonal,
    diagonal, and super-diagonal values. This method is written as follows:'
  id: totrans-301
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加`vasicek_policy_diagonals()`方法，该方法被政策迭代过程调用，用于更新一个迭代的子对角线、对角线和超对角线。在进行早期行权的索引中，子对角线和超对角线的值将被设置为0，对角线上的剩余值。该方法返回新的子对角线、对角线和超对角线值的逗号分隔值。该方法的写法如下：
- en: '[PRE42]'
  id: totrans-302
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'Add the `iterate()` method, which implements the implicit scheme of finite
    differences by performing a policy iteration, where each cycle involves solving
    the tridiagonal systems of equations, calling the `vasicek_policy_diagonals()`
    method to update the three diagonals, and returns the callable zero-coupon bond
    price if there are no further early-exercise opportunities. It also returns the
    number of policy iterations performed. This method is written as follows:'
  id: totrans-303
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加`iterate()`方法，该方法通过执行政策迭代来实现有限差分的隐式方案，其中每个周期都涉及解决三对角方程组，调用`vasicek_policy_diagonals()`方法来更新三个对角线，并在没有更多早期行权机会时返回可赎回零息债券价格。它还返回执行的政策迭代次数。该方法的写法如下：
- en: '[PRE43]'
  id: totrans-304
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'Add the `tridiagonal_solve()` method, which implements the Thomas algorithm
    to solve tridiagonal systems of equations. The systems of equations may be written
    as follows:'
  id: totrans-305
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 添加`tridiagonal_solve()`方法，该方法实现了Thomas算法来解决三对角方程组。方程组可以写成如下形式：
- en: '![](Images/acf0810b-420d-4693-af39-660140134b76.png)'
  id: totrans-306
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/acf0810b-420d-4693-af39-660140134b76.png)'
- en: 'This equation is represented in matrix form:'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 这个方程可以用矩阵形式表示：
- en: '![](Images/eeb02184-cbce-4f0e-a3db-119e1913479a.png)'
  id: totrans-308
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/eeb02184-cbce-4f0e-a3db-119e1913479a.png)'
- en: Here, *a* is a list for the sub-diagonals, *b* is a list for the diagonal, and
    *c* is the super-diagonal of the matrix.
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 这里，*a*是子对角线的列表，*b*是对角线的列表，*c*是矩阵的超对角线。
- en: The Thomas algorithm is a matrix algorithm for solving tridiagonal systems of
    equations using a simplified form of Gaussian elimination. Further information
    can be found at [http://faculty.washington.edu/finlayso/ebook/algebraic/advanced/LUtri.htm](http://faculty.washington.edu/finlayso/ebook/algebraic/advanced/LUtri.htm).
  id: totrans-310
  prefs: []
  type: TYPE_NORMAL
  zh: Thomas算法是一个矩阵算法，用于使用简化的高斯消元法解决三对角方程组。更多信息可以在[http://faculty.washington.edu/finlayso/ebook/algebraic/advanced/LUtri.htm](http://faculty.washington.edu/finlayso/ebook/algebraic/advanced/LUtri.htm)找到。
- en: 'The `tridiagonal_solve()` method is written as follows:'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: '`tridiagonal_solve()`方法的写法如下：'
- en: '[PRE44]'
  id: totrans-312
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: With these methods defined, we can now run our code and price a callable zero-coupon
    bond with the Vasicek model.
  id: totrans-313
  prefs: []
  type: TYPE_NORMAL
  zh: 有了这些定义的方法，我们现在可以运行我们的代码，并使用Vasicek模型定价可赎回零息债券。
- en: 'Assume that we run this model with the following parameters: `r0` is `0.05`,
    `R` is `0.05`, `ratio` is `0.95`, `sigma` is `0.03`, `kappa` is `0.15`, `theta`
    is `0.05`, `prob` is `1e-6`, `M` is `250`, `max_policy_iter` is `10`, `grid_struc_interval`
    is `0.25`, and we are interested in the values of the interest rates between 0%
    and 2%.'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 假设我们使用以下参数运行此模型：`r0`为`0.05`，`R`为`0.05`，`ratio`为`0.95`，`sigma`为`0.03`，`kappa`为`0.15`，`theta`为`0.05`，`prob`为`1e-6`，`M`为`250`，`max_policy_iter`为`10`，`grid_struc_interval`为`0.25`，我们对0%到2%之间的利率感兴趣。
- en: 'The following Python code demonstrates this model for maturities of 1 year,
    5 years, 7 years, 10 years, and 20 years:'
  id: totrans-315
  prefs: []
  type: TYPE_NORMAL
  zh: 以下Python代码演示了这个模型的1年、5年、7年、10年和20年到期的情况：
- en: '[PRE45]'
  id: totrans-316
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'After running the preceding commands, you should get the following output:'
  id: totrans-317
  prefs: []
  type: TYPE_NORMAL
  zh: 运行上述命令后，您应该得到以下输出：
- en: '![](Images/7c44e9ce-6056-437a-8f3a-ace4292576a6.png)'
  id: totrans-318
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/7c44e9ce-6056-437a-8f3a-ace4292576a6.png)'
- en: We obtained the theoretical values of pricing callable zero-coupon bonds for
    various maturities for various interest rates.
  id: totrans-319
  prefs: []
  type: TYPE_NORMAL
  zh: 我们得到了各种到期日和各种利率下可赎回零息债券的理论价值。
- en: Other considerations in callable bond pricing
  id: totrans-320
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 可赎回债券定价的其他考虑
- en: In pricing callable zero-coupon bonds, we used the Vasicek interest-rate process
    to model interest-rate movement with the aid of a normal distribution process.
    In *The Vasicek model* section, we demonstrated that the Vasicek model can produce
    negative interest rates, which may not be practical for most economic cycles.
    Quantitative analysts often use more than one model in derivative pricing to obtain
    realistic results. The CIR and Hull-White models are some of the commonly-discussed
    models in financial studies. The limitation on these models is that they involve
    only one factor, or a single source of uncertainty.
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 在定价可赎回零息债券时，我们使用Vasicek利率过程来模拟利率的变动，借助正态分布过程。在*Vasicek模型*部分，我们演示了Vasicek模型可以产生负利率，这在大多数经济周期中可能不太实际。定量分析师通常在衍生品定价中使用多个模型以获得现实的结果。CIR和Hull-White模型是金融研究中常讨论的模型之一。这些模型的限制在于它们只涉及一个因素，或者说只有一个不确定性来源。
- en: We also looked at the implicit scheme of finite differences for the policy iteration
    of the early exercise. Another method of consideration is the Crank-Nicolson method
    of finite differences. Other methods include the Monte Carlo simulation for calibration
    of this model.
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还研究了有限差分的隐式方案，用于早期行权的政策迭代。另一种考虑方法是有限差分的Crank-Nicolson方法。其他方法包括蒙特卡洛模拟来校准这个模型。
- en: Finally, we obtained a final list of short-rates and callable bond prices. To
    infer a fair value for the callable bond for a particular short-rate, interpolation
    of the list of bond prices is required. Often, the linear interpolation method
    is used. Other interpolation methods of consideration are the cubic and spline
    interpolation methods.
  id: totrans-323
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们得到了一份短期利率和可赎回债券价格的最终清单。为了推断特定短期利率的可赎回债券的公平价值，需要对债券价格清单进行插值。通常使用线性插值方法。其他考虑的插值方法包括三次和样条插值方法。
- en: Summary
  id: totrans-324
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we focused on interest-rate and related derivative pricing
    with Python. Most bonds, such as US Treasury bonds, pay a fixed amount of interest
    semi-annually, while other bonds may pay quarterly or annually. It is a characteristic
    of bonds that their prices are closely related to current interest-rate levels
    in an inverse manner. The normal or positive yield curve, where long-term interest
    rates are higher than short-term interest rates, is said to be upward sloping.
    In certain economic conditions, the yield curve can be inverted and is said to
    be downward sloping.
  id: totrans-325
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们专注于使用Python进行利率和相关衍生品定价。大多数债券，如美国国债，每半年支付固定利息，而其他债券可能每季度或每年支付。债券的一个特点是它们的价格与当前利率水平密切相关，但是呈现出相反的关系。正常或正斜率的收益曲线，即长期利率高于短期利率，被称为向上倾斜。在某些经济条件下，收益曲线可能会倒挂，被称为向下倾斜。
- en: A zero-coupon bond is a bond that pays no coupons during its lifetime, except
    upon maturity when the principal or face value is repaid. We implemented a simple
    zero-coupon bond calculator in Python.
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 零息债券是一种在其存续期内不支付利息的债券，只有在到期时偿还本金或面值时才支付。我们用Python实现了一个简单的零息债券计算器。
- en: The yield curve can be derived from the short-term zero or spot rates of securities,
    such as zero-coupon bonds, T-bills, notes, and eurodollar deposits using a bootstrapping
    process. With Python, we used a lot of bond information to plot a yield curve,
    and derived forward rates, yield-to-maturity, and bond prices from the yield curve.
  id: totrans-327
  prefs: []
  type: TYPE_NORMAL
  zh: 收益曲线可以通过零息债券、国债、票据和欧元存款的短期零点利率推导出来，使用引导过程。我们使用Python使用大量债券信息来绘制收益曲线，并从收益曲线中推导出远期利率、到期收益率和债券价格。
- en: Two important metrics to bond traders are duration and convexity. Duration is
    the sensitivity measure of bond prices to yield changes. Convexity is the sensitivity
    measure of the duration of a bond to yield changes. We implemented calculations
    using the modified duration model and convexity calculator in Python.
  id: totrans-328
  prefs: []
  type: TYPE_NORMAL
  zh: 对债券交易员来说，两个重要的指标是久期和凸性。久期是债券价格对收益率变化的敏感度度量。凸性是债券久期对收益率变化的敏感度度量。我们在Python中实现了使用修正久期模型和凸性计算器进行计算。
- en: Short-rate models are frequently used in the evaluation of interest-rate derivatives.
    Interest-rate modeling is a fairly complex topic, since they are affected by a
    multitude of factors, such as economic states, political decisions, government
    intervention, and the laws of supply and demand. A number of interest-rate models
    have been proposed to account for the various characteristics of interest rates.
    Some of the interest-rate models we discussed include the Vasicek, CIR, and Rendleman
    and Bartter models.
  id: totrans-329
  prefs: []
  type: TYPE_NORMAL
  zh: 短期利率模型经常用于评估利率衍生品。利率建模是一个相当复杂的话题，因为它们受到诸多因素的影响，如经济状态、政治决策、政府干预以及供求法则。已经提出了许多利率模型来解释利率的各种特征。我们讨论的一些利率模型包括Vasicek、CIR和Rendleman和Bartter模型。
- en: Bond issuers may embed options within a bond to allow them the right, but not
    the obligation, to buy or sell the issued bond at a predetermined price during
    a specified period of time. The price of a callable bond can be thought of as
    the price difference of a bond without an option and the price of the embedded
    call option. Using Python, we took a look at pricing a callable zero-coupon bond
    by applying the Vasicek model to the implicit method of finite differences. This
    method is, however, just one of the many methods that quantitative analysts use
    in bond-options modeling.
  id: totrans-330
  prefs: []
  type: TYPE_NORMAL
  zh: 债券发行人可能在债券中嵌入期权，以使他们有权利（但非义务）在规定的时间内以预定价格购买或出售发行的债券。可赎回债券的价格可以被视为不带期权的债券价格与嵌入式认购期权价格之间的价格差异。我们使用Python来通过有限差分的隐式方法来定价可赎回的零息债券，应用了Vasicek模型。然而，这种方法只是量化分析师在债券期权建模中使用的众多方法之一。
- en: In the next chapter, we will discuss the statistical analysis of time-series
    data.
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将讨论时间序列数据的统计分析。
