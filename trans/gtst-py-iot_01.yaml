- en: Getting Started with a Raspberry Pi 3 Computer
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 开始使用树莓派3电脑
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Connecting peripherals to Raspberry Pi
  id: totrans-2
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 连接外围设备到树莓派
- en: Using NOOBS to set up your Raspberry Pi SD card
  id: totrans-3
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用NOOBS设置您的树莓派SD卡
- en: Networking and connecting your Raspberry Pi to the internet via the LAN connector
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过LAN连接器将您的树莓派连接到互联网
- en: Using built-in Wi-Fi and Bluetooth on Raspberry Pi
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在树莓派上使用内置的Wi-Fi和蓝牙
- en: Configuring your network manually
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 手动配置您的网络
- en: Networking directly to a laptop or computer
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 直接连接到笔记本电脑或计算机
- en: Networking and connecting your Raspberry Pi to the internet via a USB Wi-Fi
    dongle
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过USB无线网络适配器将您的树莓派连接到互联网
- en: Connecting to the internet through a proxy server
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过代理服务器连接到互联网
- en: Connecting remotely to Raspberry Pi over the network using VNC
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用VNC通过网络远程连接到树莓派
- en: Connecting remotely to Raspberry Pi over the network using SSH (and X11 forwarding)
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用SSH（和X11转发）通过网络远程连接到树莓派
- en: Sharing the home folder of Raspberry Pi with SMB
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 通过SMB共享树莓派的主文件夹
- en: Keeping Raspberry Pi up to date
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 保持树莓派最新
- en: Introduction
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍
- en: This chapter introduces Raspberry Pi 3 and the process of setting it up for
    the first time. We will connect Raspberry Pi to a suitable display, power, and
    peripherals. We will install an operating system on an SD card. This is required
    for the system to boot. Next, we will ensure that we can connect successfully
    to the internet through a local network.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 本章介绍了树莓派3和首次设置的过程。我们将树莓派连接到合适的显示器，电源和外围设备。我们将在SD卡上安装操作系统。这是系统启动所必需的。接下来，我们将确保我们可以通过本地网络成功连接到互联网。
- en: Finally, we will make use of the network to provide ways to remotely connect
    to and/or control Raspberry Pi from other computers and devices, as well as to
    ensure that the system is kept up to date.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们将利用网络提供远程连接和/或控制树莓派，以及确保系统保持最新状态的方法。
- en: Once you have completed the steps within this chapter, your Raspberry Pi will
    be ready for you to use for programming. If you already have your Raspberry Pi
    set up and running, ensure that you take a look through the following sections,
    as there are many helpful tips.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 完成本章中的步骤后，您的树莓派将准备好供您进行编程使用。如果您已经设置并运行了您的树莓派，请确保您浏览以下部分，因为其中有许多有用的提示。
- en: Introducing Raspberry Pi
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 树莓派介绍
- en: The Raspberry Pi is a single-board computer created by the **Raspberry Pi Foundation**,
    a charity formed with the primary purpose of re-introducing low-level computer
    skills to children in the UK. The aim was to rekindle the microcomputer revolution
    of the 1980s, which produced a whole generation of skilled programmers.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 树莓派是由树莓派基金会创建的单板计算机，该基金会是一个旨在向英国儿童重新介绍低级计算机技能的慈善机构。其目标是重新点燃20世纪80年代的微型计算机革命，这产生了一整代熟练的程序员。
- en: 'Even before the computer was released at the end of February 2012, it was clear
    that Raspberry Pi had gained a huge following worldwide and, at the time of writing
    this book, has sold over 10 million units. The following image shows several different
    Raspberry Pi models:'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 即使在2012年2月底发布计算机之前，树莓派已经在全球范围内获得了巨大的追随者，并且在撰写本书时已经销售了超过1000万台。以下图片显示了几种不同的树莓派型号：
- en: '![](Images/83343a3b-cd26-4de4-b311-84d0521ea7eb.png)The Raspberry Pi Model
    3B, Model A+, and Pi Zero'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/83343a3b-cd26-4de4-b311-84d0521ea7eb.png)树莓派3B型号，A+型号和Pi Zero'
- en: What's with the name?
  id: totrans-22
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 名字是怎么回事？
- en: The name, Raspberry Pi, was a combination of the desire to create an alternative
    computer with a fruit-based name (such as Apple, BlackBerry, and Apricot) and
    a nod to the original concept of a simple computer that could be programmed using
    **Python** (shortened to **Pi**).
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 树莓派的名称是希望创建一个以水果命名的替代计算机（如苹果，黑莓和杏子），并向最初的概念致敬，即可以使用Python编程的简单计算机（缩写为Pi）。
- en: In this book, we will take this little computer, find out how to set it up,
    and then explore its capabilities chapter by chapter, using the Python programming
    language.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，我们将拿起这台小电脑，了解如何设置它，然后逐章探索它的功能，使用Python编程语言。
- en: Why Python?
  id: totrans-25
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为什么选择Python？
- en: It is often asked, "Why has Python been selected as the language to use on Raspberry
    Pi?" The fact is that Python is just one of the many programming languages that
    can be used on Raspberry Pi.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 经常有人问：“为什么选择Python作为树莓派上的编程语言？”事实上，Python只是可以在树莓派上使用的许多编程语言之一。
- en: There are many programming languages that you can choose, from high-level graphical
    block programming, such as **Scratch**, to traditional **C**, right down to **BASIC**,
    and even the raw **machine code assembler**. A good programmer often has to be
    code multilingual to be able to play to the strengths and weaknesses of each language
    to best meet the needs of their desired application. It is useful to understand
    how different languages (and programming techniques) try to overcome the challenge
    of converting *what you want* into *what you get*, as this is what you are trying
    to do as well while you program.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多编程语言可供选择，从高级图形块编程，如Scratch，到传统的C，再到BASIC，甚至原始的机器码汇编语言。一个优秀的程序员通常必须精通多种编程语言，以便能够充分发挥每种语言的优势和劣势，以最好地满足其所需应用的需求。了解不同语言（和编程技术）如何克服将*您想要的*转换为*您得到的*的挑战是有用的，因为这也是您在编程时所要做的。
- en: Python has been selected as a good place to start when learning about programming,
    as it provides a rich set of coding tools while still allowing simple programs
    to be written without fuss. This allows beginners to gradually be introduced to
    the concepts and methods on which modern programming languages are based without
    requiring them to know it all from the start. It is very modular with lots of
    additional libraries that can be imported to quickly extend the functionality.
    You will find that, over time, this encourages you to do the same, and you will
    want to create your own modules that you can plug into your own programs, thus
    taking your first steps into structured programming.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: Python被选为学习编程的良好起点，因为它提供了丰富的编码工具，同时又允许编写简单的程序而无需烦恼。这使得初学者可以逐渐了解现代编程语言的概念和方法，而无需从一开始就了解所有内容。它非常模块化，有许多额外的库可以导入以快速扩展功能。随着时间的推移，您会发现这会鼓励您做同样的事情，并且您会想要创建自己的模块，可以将其插入到自己的程序中，从而迈出结构化编程的第一步。
- en: Python addresses formatting and presentation concerns. As indentation will add
    better readability, indents matter a lot in Python. They define how blocks of
    code are grouped together. Generally, Python is slow; since it is interpreted,
    it takes time to create a module while it is running the program. This can be
    a problem if you need to respond to time-critical events. However, you can precompile
    Python or use modules written in other languages to overcome this.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: Python解决了格式和表现方面的问题。缩进会增加可读性，在Python中缩进非常重要。它们定义了代码块如何组合在一起。一般来说，Python运行速度较慢；因为它是解释性的，所以在运行程序时创建模块需要时间。如果需要对时间关键事件做出响应，这可能会成为一个问题。然而，您可以预编译Python或使用其他语言编写的模块来克服这个问题。
- en: It hides the details; this is both an advantage and a disadvantage. It is excellent
    for beginners but can be difficult when you have to second-guess aspects such
    as datatypes. However, this in turn forces you to consider all the possibilities,
    which can be a good thing.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 它隐藏了细节；这既是优点也是缺点。对于初学者来说很好，但当您不得不猜测数据类型等方面时可能会有困难。然而，这反过来又迫使您考虑所有可能性，这可能是一件好事。
- en: Python 2 and Python 3
  id: totrans-31
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Python 2和Python 3
- en: A massive source of confusion for beginners is that there are two versions of
    Python on Raspberry Pi (**Version 2.7** and **Version 3.6**), which are not compatible
    with each other, so code written for Python 2.7 may not run with Python 3.6 (and
    vice versa).
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 对于初学者来说，一个巨大的困惑来源是树莓派上有两个版本的Python（**版本2.7**和**版本3.6**），它们彼此不兼容，因此为Python 2.7编写的代码可能无法在Python
    3.6上运行（反之亦然）。
- en: The **Python Software Foundation** is continuously working to improve and move
    forward with the language, which sometimes means they have to sacrifice backward
    compatibility to embrace new improvements (and, importantly, remove redundant
    and legacy ways of doing things).
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: '**Python软件基金会**不断努力改进并推动语言向前发展，这有时意味着他们必须牺牲向后兼容性来拥抱新的改进（并且重要的是，去除多余和过时的做法）。'
- en: Supporting Python 2 and Python 3
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 支持Python 2和Python 3
- en: There are many tools that will ease the transition from Python 2 to Python 3,
    including converters such as `2to3`, which will parse and update your code to
    use Python 3 methods. This process is not perfect, and in some cases you'll need
    to manually rewrite sections and fully retest everything. You can write the code
    and libraries that will support both. The `import __future__` statement allows
    you to import the friendly methods of Python 3 and run them using Python 2.7.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多工具可以帮助您从Python 2过渡到Python 3，包括转换器，如`2to3`，它将解析并更新您的代码以使用Python 3的方法。这个过程并不完美，在某些情况下，您需要手动重写部分代码并进行全面测试。您可以编写同时支持两者的代码和库。`import
    __future__`语句允许您导入Python 3的友好方法，并在Python 2.7中运行它们。
- en: Which version of Python should you use?
  id: totrans-36
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 您应该使用哪个版本的Python？
- en: Essentially, the selection of which version to use will depend on what you intend
    to do. For instance, you may require Python 2.7 libraries, which are not yet available
    for Python 3.6\. Python 3 has been available since 2008, so these tend to be older
    or larger libraries that have not been translated. In many cases, there are new
    alternatives to legacy libraries; however, their support can vary.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 基本上，选择使用哪个版本将取决于您的意图。例如，您可能需要Python 2.7库，这些库尚未适用于Python 3.6。Python 3自2008年就已经推出，因此这些库往往是较老或较大的库，尚未被翻译。在许多情况下，旧库有新的替代方案；然而，它们的支持程度可能有所不同。
- en: In this book, we have used Python 3.6, which is also compatible with Python
    3.5 and 3.3.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 在这本书中，我们使用的是Python 3.6，它也兼容Python 3.5和3.3。
- en: The Raspberry Pi family – a brief history of Pi
  id: totrans-39
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 树莓派家族 - 树莓派的简史
- en: Since its release, Raspberry Pi has come in various iterations, featuring both
    small and large updates and improvements to the original Raspberry Pi Model B
    unit. Although it can be confusing at first, there are three basic types of Raspberry
    Pi available (and one special model).
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 自发布以来，树莓派已经推出了各种版本，对原始的树莓派B型进行了小型和大型的更新和改进。虽然一开始可能会令人困惑，但树莓派有三种基本类型可用（以及一个特殊型号）。
- en: The main flagship model is called **Model B**. This has all the connections
    and features, as well as the maximum RAM and the latest processor. Over the years,
    there have been several versions, most notably Model B (which had 256 MB and then
    512 MB RAM) and then Model B+ (which increased the 26-pin GPIO to 40 pins, switched
    to using a microSD card slot, and had four USB ports instead of two). These original
    models all used the Broadcom BCM2835 **system on chip** (**SOC**), consisting
    of a single core 700 MHz ARM11 and VideoCore IV **graphical processing unit**
    (**GPU**).
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 主要的旗舰型号被称为**B型**。它具有所有的连接和功能，以及最大的RAM和最新的处理器。多年来，已经推出了几个版本，最值得注意的是B型（拥有256MB和512MB
    RAM），然后是B+型（将26针GPIO增加到40针，改用microSD卡槽，并将USB端口从两个增加到四个）。这些原始型号都使用了Broadcom BCM2835
    **系统芯片**（**SOC**），包括单核700MHz ARM11和VideoCore IV **图形处理单元**（**GPU**）。
- en: The release of Raspberry Pi 2 Model B (also referred to as 2B) in 2015 introduced
    a new Broadcom BCM2836 SOC, providing a quad-core 32-bit ARM Cortex A7 1.2 GHz
    processor and GPU, with 1 GB of RAM. The improved SOC added support for Ubuntu
    and Windows 10 IoT. Finally, we had the latest Raspberry Pi 3 Model B, using another
    new Broadcom BCM2837 SOC, which provides a quad-core 64-bit ARM Cortex-A53 and
    GPU, alongside on-board Wi-Fi and Bluetooth.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 2015年发布的树莓派2型B（也称为2B）引入了新的Broadcom BCM2836 SOC，提供了四核32位ARM Cortex A7 1.2 GHz处理器和GPU，配备1GB的RAM。改进的SOC增加了对Ubuntu和Windows
    10 IoT的支持。最后，我们有了最新的树莓派3型B，使用了另一个新的Broadcom BCM2837 SOC，提供了四核64位ARM Cortex-A53和GPU，以及板载Wi-Fi和蓝牙。
- en: '**Model A** has always been targeted as a cut-down version. While having the
    same SOC as Model B, there are limited connections consisting of a single USB
    port and no wired network (LAN). Model A+ again added more GPIO pins and a microSD
    slot. However, the RAM was later upgraded to 512 MB of RAM and again there was
    only a single USB port/no LAN. The Broadcom BCM2835 SOC on Model A has not been
    updated so far (so is still a single core ARM11); however, a Model 3A (most likely
    using the BCM2837).'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: '**A型**一直被定位为精简版本。虽然具有与B型相同的SOC，但连接有限，只有一个USB端口，没有有线网络（LAN）。A+型再次增加了更多的GPIO引脚和一个microSD卡槽。然而，RAM后来升级为512MB，再次只有一个USB端口/没有LAN。Model
    A上的Broadcom BCM2835 SOC到目前为止还没有更新（因此仍然是单核ARM11）；但是，可能会推出3A型（很可能使用BCM2837）。'
- en: The **Pi Zero** is an ultra-compact version of Raspberry Pi intended for embedded
    applications where cost and space are a premium. It has the same 40-pin GPIO and
    microSD card slot as the other models, but lacks the on-board display (CSI and
    DSI) connection. It does still have HDMI (via a mini-HDMI) and a single micro
    USB **on-the-go** (**OTG**) connection. Although not present in the first revision
    of the Pi Zero, the most recent model also includes a CSI connection for the on-board
    camera.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: '**Pi Zero**是树莓派的超紧凑版本，适用于成本和空间有限的嵌入式应用。它具有与其他型号相同的40针GPIO和microSD卡槽，但缺少板载显示（CSI和DSI）连接。它仍然具有HDMI（通过迷你HDMI）和单个micro
    USB **on-the-go**（**OTG**）连接。尽管在Pi Zero的第一个版本中没有，但最新型号还包括用于板载摄像头的CSI连接。'
- en: Pi Zero was famously released in 2015 and was given away with Raspberry Pi foundation's
    magazine *The MagPi*, giving the magazine the benefit of being the first magazine
    to give away a computer on its cover! This did make me rather proud since (as
    you may have read in my biography at the start of this book) I was one of the
    founders of the magazine.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: Pi Zero在2015年被著名地发布，并随树莓派基金会的杂志*The MagPi*一起赠送，使该杂志成为第一本在封面上赠送计算机的杂志！这让我感到非常自豪，因为（正如你可能在本书开头的我的传记中读到的那样）我是该杂志的创始人之一。
- en: The special model is known as the **compute module**. This takes the form of
    a 200-pin SODIMM card. It is intended for industrial use or within commercial
    products, where all the external interfaces would be provided by a host/motherboard,
    into which the module would be inserted. Example products include the Slice Media
    Player ([http://fiveninjas.com](http://fiveninjas.com)) and the OTTO camera. The
    current module uses the BCM2835, although an updated compute module (CM3).
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 特殊型号被称为**计算模块**。它采用200针SODIMM卡的形式。它适用于工业用途或商业产品中，所有外部接口将由主机/主板提供，模块将插入其中。示例产品包括Slice
    Media Player（[http://fiveninjas.com](http://fiveninjas.com)）和OTTO相机。当前模块使用BCM2835，尽管有一个更新的计算模块（CM3）。
- en: 'The Raspberry Pi Wikipedia page provides a full list of the all different variants
    and their specifications: [https://en.wikipedia.org/wiki/Raspberry_Pi#Specifications](https://en.wikipedia.org/wiki/Raspberry_Pi#Specifications%20)'
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 树莓派维基百科页面提供了所有不同变体及其规格的完整列表：[https://en.wikipedia.org/wiki/Raspberry_Pi#Specifications](https://en.wikipedia.org/wiki/Raspberry_Pi#Specifications%20)
- en: 'Also, the Raspberry Pi product page gives you the details about the models
    available and the accessories'' specifications: [https://www.raspberrypi.org/products/](https://www.raspberrypi.org/products/)'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 此外，树莓派产品页面提供了有关可用型号和配件规格的详细信息：[https://www.raspberrypi.org/products/](https://www.raspberrypi.org/products/)
- en: Which Pi to choose?
  id: totrans-49
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 选择哪种树莓派？
- en: All sections of this book are compatible will all current versions of Raspberry
    Pi, but Model 3B is recommended as the best model to start with. This offers the
    best performance (particularly useful for the GPU examples in OpenCV examples
    used in [Chapter 5](d97bc9c0-9603-476e-8d86-85b76f1c90f2.xhtml), *Detecting Edges
    and Contours in Images*), lots of connections, and built-in Wi-Fi, which can be
    very convenient.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的所有部分都与当前所有版本的树莓派兼容，但建议首选3B型作为最佳型号。这提供了最佳性能（特别是对于OpenCV示例中使用的GPU示例，如[第5章](d97bc9c0-9603-476e-8d86-85b76f1c90f2.xhtml)中的*检测图像中的边缘和轮廓*），大量连接和内置Wi-Fi，非常方便。
- en: Pi Zero is recommended for projects where you want low power usage or reduced
    weight/size but do not need the full processing power of Model 3B. However, due
    to its ultra-low cost, Pi Zero is ideal for deploying a completed project after
    you have developed it.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: Pi Zero被推荐用于需要低功耗或减少重量/尺寸但不需要Model 3B全面处理能力的项目。然而，由于其超低成本，Pi Zero非常适合在开发完成项目后部署。
- en: Connecting to Raspberry Pi
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 连接到树莓派
- en: There are many ways to wire up Raspberry Pi and use the various interfaces to
    view and control content. For typical use, most users will require power, display
    (with audio), and a method of input such as a keyboard and mouse. To access the
    internet, refer to the *Networking and connecting your Raspberry Pi to the internet
    via the LAN connector* or *Using built-in Wi-Fi and Bluetooth on Raspberry Pi*
    recipes.
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 有许多方法可以连接树莓派并使用各种接口查看和控制内容。对于典型的用途，大多数用户将需要电源、显示器（带音频）和输入方法，如键盘和鼠标。要访问互联网，请参阅*通过LAN连接器将树莓派连接到互联网*或*在树莓派上使用内置Wi-Fi和蓝牙*。
- en: Getting ready
  id: totrans-54
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备就绪
- en: Before you can use your Raspberry Pi, you will need an SD card with an operating
    system installed or with the **New Out Of Box System** (**NOOBS**) on it, as discussed
    in the *Using NOOBS to set up your Raspberry Pi SD card* recipe.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用树莓派之前，您需要一个安装了操作系统或者在其中安装了**新开箱系统**（**NOOBS**）的SD卡，如*使用NOOBS设置树莓派SD卡*中所讨论的那样。
- en: The following section will detail the types of devices you can connect to Raspberry
    Pi and, importantly, how and where to plug them in.
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 以下部分将详细介绍您可以连接到树莓派的设备类型，以及重要的是如何在哪里插入它们。
- en: 'As you will discover later, once you have your Raspberry Pi set up, you may
    decide to connect remotely and use it through a network link, in which case you
    only need power and a network connection. Refer to the following sections: *Connecting
    remotely to Raspberry Pi over the Network using VNC* and *Connecting Remotely
    to Raspberry Pi over the Network using SSH (and X11 Forwarding)*.'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 正如您将在后面发现的那样，一旦您设置好了树莓派，您可能会决定通过网络连接远程连接并使用它，在这种情况下，您只需要电源和网络连接。请参考以下部分：*通过VNC远程连接树莓派*和*通过SSH（和X11转发）远程连接树莓派*。
- en: How to do it...
  id: totrans-58
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 操作步骤如下...
- en: 'The layout of Raspberry Pi is shown in the following diagram:'
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 树莓派的布局如下图所示：
- en: '![](Images/56a82a7b-fb86-4235-aa5e-8692e6621894.jpg)The Raspberry Pi connection
    layout (Model 3 B, Model A+, and Pi Zero)'
  id: totrans-60
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/56a82a7b-fb86-4235-aa5e-8692e6621894.jpg)树莓派连接布局（3 B型，A+型和Zero型）'
- en: 'More information about the preceding figure is listed as follows:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 有关上图的更多信息如下：
- en: '**Display**: The Raspberry Pi supports the following three main display connections;
    if both HDMI and composite video are connected, it will default to HDMI only:'
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**显示**：树莓派支持以下三种主要的显示连接；如果HDMI和复合视频都连接了，它将默认为仅HDMI：'
- en: '**HDMI**: For best results, use a TV or monitor that has an HDMI connection,
    thus allowing the best resolution display (1080p) and also digital audio output.
    If your display has a DVI connection, you may be able to use an adapter to connect
    through the HDMI. There are several types of DVI connection; some support analogue
    (DVI-A), some digital (DVI-D), and some both (DVI-I). Raspberry Pi is only able
    to provide a digital signal through the HDMI, so an HDMI-to-DVI-D adapter is recommended
    (shown with a tick mark in the following screenshot). This lacks the four extra
    analogue pins (shown with a cross mark in the following screenshot), thus allowing
    it to fit into both DVI-D and DVI-I type sockets:'
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**HDMI**：为了获得最佳效果，请使用具有HDMI连接的电视或显示器，从而实现最佳分辨率显示（1080p）和数字音频输出。如果您的显示器具有DVI连接，您可以使用适配器通过HDMI连接。有几种类型的DVI连接；一些支持模拟（DVI-A），一些支持数字（DVI-D），一些都支持（DVI-I）。树莓派只能通过HDMI提供数字信号，因此建议使用HDMI到DVI-D适配器（在下图中带有勾号）。这缺少了四个额外的模拟引脚（在下图中带有叉号），因此可以适配到DVI-D和DVI-I类型插座中：'
- en: '![](Images/2bcb7807-a9ce-451c-860a-62ef60a37bdc.png)HDMI-to-DVI connection
    (DVI-D adaptor)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/2bcb7807-a9ce-451c-860a-62ef60a37bdc.png)HDMI到DVI连接（DVI-D适配器）'
- en: 'If you wish to use an older monitor (with a VGA connection), an additional
    HDMI-to-VGA converter is required. Raspberry Pi also supports a rudimentary VGA
    adaptor (VGA Gert666 Adaptor), which is driven directly off of the GPIO pins.
    However, this does use up all but four pins of the 40-pin header (older 26-pin
    models will not support the VGA output):'
  id: totrans-65
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您希望使用旧的显示器（带有VGA连接），则需要额外的HDMI到VGA转换器。树莓派还支持一个基本的VGA适配器（VGA Gert666 Adaptor），它直接驱动GPIO引脚。然而，这会使用40针引脚排头的所有引脚（旧的26针型号不支持VGA输出）：
- en: '![](Images/42955bff-c5f3-4ab0-bf4d-b9242eb202d5.jpg)HDMI-to-VGA adapter'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/42955bff-c5f3-4ab0-bf4d-b9242eb202d5.jpg)HDMI到VGA适配器'
- en: '**Analogue**: An alternative display method is to use the analogue composite
    video connection (via the phono socket); this can also be attached to an S-Video
    or European SCART adapter. However, the analogue video output has a maximum resolution
    of 640 x 480 pixels, so it is not ideal for general use:'
  id: totrans-67
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**模拟**：另一种显示方法是使用模拟复合视频连接（通过音频插孔）；这也可以连接到S-Video或欧洲SCART适配器。然而，模拟视频输出的最大分辨率为640
    x 480像素，因此不太适合一般使用：'
- en: '![](Images/99eac7fb-4cd9-42cd-b8dc-7160a4fc9241.jpg)3.5 mm phono analogue connections'
  id: totrans-68
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/99eac7fb-4cd9-42cd-b8dc-7160a4fc9241.jpg)3.5毫米音频模拟连接'
- en: 'When using the RCA connection or a DVI input, audio has to be provided separately
    by the analogue audio connection. To simplify the manufacturing process (by avoiding
    through-hole components), the Pi Zero does not have analogue audio or an RCA socket
    for analogue video (although they can be added with some modifications):'
  id: totrans-69
  prefs: []
  type: TYPE_NORMAL
  zh: 在使用RCA连接或DVI输入时，音频必须通过模拟音频连接单独提供。为了简化制造过程（避免穿孔元件），Pi Zero没有模拟音频或模拟视频的RCA插孔（尽管可以通过一些修改添加）：
- en: '**Direct Display DSI**: A touch display produced by Raspberry Pi Foundation
    will connect directly into the DSI socket. This can be connected and used at the
    same time as the HDMI or analogue video output to create a dual display setup.'
  id: totrans-70
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**直接显示 DSI**：由树莓派基金会生产的触摸显示器将直接连接到DSI插座。这可以与HDMI或模拟视频输出同时连接和使用，以创建双显示设置。'
- en: '**Stereo analogue audio (all except Pi Zero)**: This provides an analogue audio
    output for headphones or amplified speakers. The audio can be switched via Raspberry
    Pi configuration tool on the desktop between analog (stereo socket) and digital
    (HDMI), or via the command line using `amixer` or `alsamixer`.'
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**立体声模拟音频（除Pi Zero外）**：这为耳机或扬声器提供了模拟音频输出。可以通过树莓派桌面上的配置工具或通过命令行使用`amixer`或`alsamixer`在模拟（立体插孔）和数字（HDMI）之间进行切换。'
- en: 'To find out more information about a particular command in the Terminal, you
    can use the following `man` command before the terminal reads the manual (most
    commands should have one):'
  id: totrans-72
  prefs: []
  type: TYPE_NORMAL
  zh: 要了解有关终端中特定命令的更多信息，您可以在终端读取手册之前使用以下`man`命令（大多数命令应该都有手册）：
- en: '` man amixer`'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: '` man amixer`'
- en: 'Some commands also support the `--help` option for more concise help, shown
    as follows:'
  id: totrans-74
  prefs: []
  type: TYPE_NORMAL
  zh: 有些命令还支持`--help`选项，以获得更简洁的帮助，如下所示：
- en: '` amixer --help`'
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
  zh: '` amixer --help`'
- en: '**Network (excluding models A and Pi Zero)**: The network connection is discussed
    in the *Networking and connecting your Raspberry Pi to the internet via the LAN
    connector* recipe later in this chapter. If we use the Model A Raspberry Pi, it
    is possible to add a USB network adapter to add wired or even wireless networking
    (refer to the *Networking and connecting your Raspberry Pi to the internet via
    a USB Wi-Fi dongle* recipe).'
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**网络（不包括A型和Pi Zero）**：网络连接将在本章后面的*通过LAN连接器将树莓派连接到互联网*配方中进行讨论。如果使用A型树莓派，可以添加USB网络适配器来添加有线或无线网络连接（参考*通过USB
    Wi-Fi dongle将树莓派连接到互联网*配方）。'
- en: '**Onboard Wi-Fi and Bluetooth (Model 3 B only)**: The Model 3 B has built-in
    802.11n Wi-Fi and Bluetooth 4.1; see the *Using the built-in Wi-Fi and Bluetooth
    on Raspberry Pi* recipe.'
  id: totrans-77
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**内置Wi-Fi和蓝牙（仅限Model 3 B）**：Model 3 B具有内置的802.11n Wi-Fi和蓝牙4.1；参见*在树莓派上使用内置的Wi-Fi和蓝牙*配方。'
- en: '**USB (1x Model A/Zero, 2x Model 1 B, 4x Model 2 B and 3 B)**: Using a keyboard
    and mouse:'
  id: totrans-78
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**USB（1x Model A/Zero，2x Model 1 B，4x Model 2 B和3 B）**：使用键盘和鼠标：'
- en: Raspberry Pi should work with most USB keyboards and mice. You can also use
    wireless mice and keyboards, which use RF dongles. However, additional configuration
    is required for items that use the Bluetooth dongles.
  id: totrans-79
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 树莓派应该可以与大多数USB键盘和鼠标兼容。您也可以使用使用RF dongles的无线鼠标和键盘。但是，对于使用蓝牙dongles的设备需要额外的配置。
- en: If there is a lack of power supplied by your power supply or the devices are
    drawing too much current, you may experience the keyboard keys appearing to stick,
    and, in severe cases, corruption of the SD card.
  id: totrans-80
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果您的电源供应不足或设备正在吸取过多电流，您可能会发现键盘按键似乎卡住了，并且在严重情况下，SD卡可能会损坏。
- en: USB power can be more of an issue with the early Model B revision 1 boards that
    were available prior to October 2012\. They included additional **Polyfuses**
    on the USB output and tripped if an excess of 140 mA was drawn. The Polyfuses
    can take several hours or days to recover completely, thus causing unpredictable
    behavior to remain even when the power is improved.
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
  zh: 早期Model B修订版1板的USB电源可能存在问题，这些板在2012年10月之前就已经上市。它们在USB输出上包含了额外的**Polyfuses**，如果超过140
    mA的电流被吸取，就会跳闸。Polyfuses可能需要数小时甚至数天才能完全恢复，因此即使电源改善了，也可能导致不可预测的行为。
- en: You can identify a revision 1 board, as it lacks the four mounting holes that
    are present in the later models.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过缺少后期型号上存在的四个安装孔来识别修订版1板。
- en: Debian Linux (upon which Raspbian is based) supports many common USB devices,
    such as flash storage drives, hard-disk drives (external power may be required),
    cameras, printers, Bluetooth, and Wi-Fi adapters. Some devices will be detected
    automatically, while others will require drivers to be installed.
  id: totrans-83
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
  zh: Debian Linux（Raspbian的基础）支持许多常见的USB设备，如闪存驱动器、硬盘驱动器（可能需要外部电源）、相机、打印机、蓝牙和Wi-Fi适配器。一些设备将被自动检测，而其他设备将需要安装驱动程序。
- en: '**Micro USB power**: The Raspberry Pi requires a 5V power supply that can comfortably
    supply at least 1,000 mA (1,500 mA or more is recommended, particularly with the
    more power-hungry Model 2 and Model 3) with a micro USB connection. It is possible
    to power the unit using portable battery packs, such as the ones suitable for
    powering or recharging tablets. Again, ensure that they can supply 5V at 1,000
    mA or over.'
  id: totrans-84
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**Micro USB电源**：树莓派需要一个能够舒适地提供至少1,000 mA（特别是对于更耗电的2型和3型，建议提供1,500 mA或更多）的5V电源，带有一个micro
    USB连接。可以使用便携式电池组来为设备供电，比如适用于平板电脑的电池组。再次确保它们可以提供5V的电压，至少1,000 mA。'
- en: You should aim to make all other connections to Raspberry Pi before connecting
    the power. However, USB devices, audio, and networks may be connected and removed
    while it is running, without problems.
  id: totrans-85
  prefs: []
  type: TYPE_NORMAL
  zh: 在连接电源之前，您应该尽量将所有其他连接连接到树莓派上。但是，USB设备、音频和网络可以在运行时连接和移除，而不会出现问题。
- en: There's more...
  id: totrans-86
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: In addition to the standard primary connections you would expect to see on a
    computer, Raspberry Pi also has a number of other connections.
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 除了标准的主要连接之外，树莓派还具有许多其他连接。
- en: Secondary hardware connections
  id: totrans-88
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 次要硬件连接
- en: 'Each of the following connections provides additional interfaces for Raspberry
    Pi:'
  id: totrans-89
  prefs: []
  type: TYPE_NORMAL
  zh: 以下每个连接都提供了树莓派的其他接口：
- en: '**20 x 2 GPIO pin header (Model A+, B+, 2 B, 3 B, and Pi Zero)**: This is the
    main 40-pin GPIO header of Raspberry Pi used for interfacing directly with hardware
    components. The chapters in this book are also compatible with older models of
    Raspberry Pi that have a 13 x 2 GPIO pin header.'
  id: totrans-90
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**20 x 2 GPIO引脚排针（Model A+，B+，2 B，3 B和Pi Zero）**：这是树莓派的主要40针GPIO引脚排针，用于直接与硬件组件进行接口。本书中的章节也适用于具有13
    x 2 GPIO引脚排针的较旧型号的树莓派。'
- en: '**P5 8 x 2 GPIO pin header (Model 1 B revision 2.0 only)**: We do not use this
    in the book.'
  id: totrans-91
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**P5 8 x 2 GPIO引脚排针（仅限Model 1 B修订版2.0）**：我们在本书中不使用这个接口。'
- en: '**Reset connection**: This is present on later models (no pins fitted). A reset
    is triggered when Pin 1 (reset) and Pin 2 (GND) are connected together. We use
    this in the *A controlled shutdown button* concept in [Chapter 7](6dae7e42-2f45-421d-b4f7-aa6347744a8c.xhtml),
    *Using Python to Drive Hardware*.'
  id: totrans-92
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**复位连接**：这个连接出现在较新的型号上（没有插脚）。当引脚1（复位）和引脚2（GND）连接在一起时，会触发复位。我们在[第7章](6dae7e42-2f45-421d-b4f7-aa6347744a8c.xhtml)的*A
    controlled shutdown button*概念中使用了这个接口，*Using Python to Drive Hardware*。'
- en: '**GPU/LAN JTAG**: The **Joint Test Action Group** (**JTAG**) is a programming
    and debugging interface used to configure and test processors. These are present
    on newer models as surface pads. A specialist JTAG device is required to use this
    interface. We do not use this in the book.'
  id: totrans-93
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**GPU/LAN JTAG**：**联合测试行动组**（**JTAG**）是用于配置和测试处理器的编程和调试接口。这些接口出现在较新的型号上作为表面垫。使用这个接口需要专门的JTAG设备。我们在本书中不使用这个接口。'
- en: '**Direct camera CSI**: This connection supports Raspberry Pi Camera Module.
    Note that the Pi Zero has a smaller CSI connector than the other models, so it
    requires a different ribbon connector.'
  id: totrans-94
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**直接相机CSI**：这个连接支持树莓派相机模块。请注意，Pi Zero的CSI连接器比其他型号要小，因此需要不同的排线连接器。'
- en: '**Direct Display DSI**: This connection supports a directly connected display,
    such as a 7-inch 800 x 600 capacitive touch screen.'
  id: totrans-95
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**直接显示DSI**：此连接支持直接连接的显示器，例如7英寸800 x 600电容触摸屏。'
- en: Using NOOBS to set up your Raspberry Pi SD card
  id: totrans-96
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用NOOBS设置您的Raspberry Pi SD卡
- en: The Raspberry Pi requires the operating system to be loaded onto an SD card
    before it starts up. The easiest way to set up the SD card is to use **NOOBS**;
    you may find that you can buy an SD card with NOOBS already loaded on it.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 在启动之前，树莓派需要将操作系统加载到SD卡上。设置SD卡的最简单方法是使用**NOOBS**；您可能会发现可以购买已经加载了NOOBS的SD卡。
- en: NOOBS provides an initial start menu that provides options to install several
    of the available operating systems on to your SD card.
  id: totrans-98
  prefs: []
  type: TYPE_NORMAL
  zh: NOOBS提供了一个初始启动菜单，提供了安装几种可用操作系统到您的SD卡的选项。
- en: Getting ready
  id: totrans-99
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: Since NOOBS creates a **RECOVERY** partition to keep the original installation
    images, an 8 GB SD card or larger is recommended. You will also need an SD card
    reader (experience has shown that some built-in card readers can cause issues,
    so an external USB type reader is recommended).
  id: totrans-100
  prefs: []
  type: TYPE_NORMAL
  zh: 由于NOOBS创建了一个**RECOVERY**分区来保存原始安装映像，建议使用8GB或更大的SD卡。您还需要一个SD卡读卡器（经验表明，一些内置读卡器可能会导致问题，因此建议使用外部USB类型读卡器）。
- en: If you are using an SD card that you have used previously, you may need to reformat
    it to remove any previous partitions and data. NOOBS expects the SD card to consist
    of a single FAT32 partition.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您使用的是以前使用过的SD卡，可能需要重新格式化以删除任何先前的分区和数据。NOOBS期望SD卡由单个FAT32分区组成。
- en: 'If using Windows or macOS X, you can use the SD Association''s formatter, as
    shown in the following screenshot (available at [https://www.sdcard.org/downloads/formatter_4/](https://www.sdcard.org/downloads/formatter_4/)):'
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
  zh: 如果使用Windows或macOS X，您可以使用SD卡协会的格式化程序，如下面的屏幕截图所示（可在[https://www.sdcard.org/downloads/formatter_4/](https://www.sdcard.org/downloads/formatter_4/)找到）：
- en: '![](Images/65551eb0-dc6e-41c3-b473-35b6251fb11e.png)Getting rid of any partitions
    on the SD card, using SD formatter'
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/65551eb0-dc6e-41c3-b473-35b6251fb11e.png)使用SD格式化程序清除SD卡上的任何分区'
- en: From the Option Setting dialog box, set FORMAT SIZE ADJUSTMENT. This will remove
    all the SD card partitions that were created previously.
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 从选项设置对话框中，设置FORMAT SIZE ADJUSTMENT。这将删除以前创建的所有SD卡分区。
- en: If using Linux, you can use `gparted` to clear any previous partitions and reformat
    it as a FAT32 partition.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 如果使用Linux，您可以使用`gparted`清除任何先前的分区并将其重新格式化为FAT32分区。
- en: The full NOOBS package (typically just over 1 GB) contains Raspbian, the most
    popular Raspberry Pi operating system image built in. A lite version of NOOBS
    is also available that has no preloaded operating systems (although a smaller
    initial download of 20 MB and a network connection on Raspberry Pi are required
    to directly download the operating system you intend to use).
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 完整的NOOBS软件包（通常略大于1GB）包含了Raspbian，最受欢迎的树莓派操作系统映像。还提供了一个精简版的NOOBS，它没有预装的操作系统（尽管需要Raspberry
    Pi上的较小的初始下载20MB和网络连接来直接下载您打算使用的操作系统）。
- en: NOOBS is available at [http://www.raspberrypi.org/downloads](http://www.raspberrypi.org/downloads),
    with the documentation available at [https://github.com/raspberrypi/noobs](https://github.com/raspberrypi/noobs).
  id: totrans-107
  prefs: []
  type: TYPE_NORMAL
  zh: NOOBS可在[http://www.raspberrypi.org/downloads](http://www.raspberrypi.org/downloads)上获得，文档可在[https://github.com/raspberrypi/noobs](https://github.com/raspberrypi/noobs)上获得。
- en: How to do it...
  id: totrans-108
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'By performing the following steps, we will prepare the SD card to run NOOBS.
    This will then allow us to select and install the operating system we want to
    use:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 通过执行以下步骤，我们将准备好SD卡来运行NOOBS。然后，这将允许我们选择并安装我们想要使用的操作系统：
- en: Get your SD card ready.
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 准备好您的SD卡。
- en: 'On a freshly formatted or new SD card, copy the contents of the `NOOBS_vX.zip`
    file. When it has finished copying, you should end up with something like the
    following screenshot of the SD card:'
  id: totrans-111
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在新格式化或新的SD卡上，复制`NOOBS_vX.zip`文件的内容。复制完成后，您应该得到类似于SD卡以下屏幕截图的东西：
- en: '![](Images/3004e77d-458c-4bc9-9aaa-6fa1afe9f37c.png)NOOBS files extracted onto
    the SD cardThe files may vary slightly with different versions of NOOBS, and the
    icons displayed may be different on your computer.'
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/3004e77d-458c-4bc9-9aaa-6fa1afe9f37c.png)从SD卡中提取的NOOBS文件这些文件可能会因不同版本的NOOBS而略有不同，并且在您的计算机上显示的图标可能会有所不同。'
- en: You can now put the card into your Raspberry Pi, connect it to a keyboard and
    display, and turn the power on. Refer to the *Connecting to Raspberry Pi* recipe
    for details on what you need, and how to do this.
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您现在可以将卡插入树莓派，连接键盘和显示器，然后打开电源。有关所需的详细信息和操作方法，请参阅*连接到树莓派*配方。
- en: 'By default, NOOBS will display via the HDMI connection. If you have another
    type of screen (or you don''t see anything), you will need to manually select
    the output type by pressing 1, 2, 3, or 4, according to the following functions:'
  id: totrans-114
  prefs: []
  type: TYPE_NORMAL
  zh: 默认情况下，NOOBS将通过HDMI连接显示。如果您有其他类型的屏幕（或者什么也看不到），您需要通过按1、2、3或4手动选择输出类型，具体操作如下：
- en: Key 1 stands for the Standard HDMI mode (the default mode)
  id: totrans-115
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 键1代表标准HDMI模式（默认模式）
- en: Key 2 stands for the Safe HDMI mode (alternative HDMI settings if the output
    has not been detected)
  id: totrans-116
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 键2代表安全HDMI模式（如果未检测到输出，则为备用HDMI设置）
- en: Key 3 stands for Composite PAL (for connections made via the RCA analogue video
    connection)
  id: totrans-117
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 键3代表复合PAL（通过RCA模拟视频连接进行连接）
- en: Key 4 stands for Composite NTSC (again, for connections via the RCA connector)
  id: totrans-118
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 键4代表复合NTSC（同样，适用于通过RCA连接器连接）
- en: This display setting will also be set for the installed operating system.
  id: totrans-119
  prefs: []
  type: TYPE_NORMAL
  zh: 此显示设置也将用于安装的操作系统。
- en: After a short while, you will see the NOOBS selection screen that lists the
    available distributions (the offline version only includes Raspbian). There are
    many more distributions that are available, but only the selected ones are available
    directly through the NOOBS system. Click on Raspbian, as this is the operating
    system being used in this book.
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 过了一会儿，您将看到列出可用发行版的NOOBS选择屏幕（离线版本仅包括Raspbian）。 有许多其他可用的发行版，但只有选定的发行版可以直接通过NOOBS系统获得。
    点击Raspbian，因为这是本书中使用的操作系统。
- en: Press *Enter* or click on Install OS, and confirm that you wish to overwrite
    all the data on
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 按*Enter*或单击“安装操作系统”，并确认您希望覆盖卡上的所有数据
- en: the card. This will overwrite any distributions previously installed using NOOBS
    but will not remove the NOOBS system; you can return to it at any time by pressing
    *Shift* when you turn the power on.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 卡。 这将覆盖以前使用NOOBS安装的任何发行版，但不会删除NOOBS系统； 您可以在任何时候按下*Shift*键返回到它。
- en: It will take around 20 to 40 minutes to write the data to the card depending
    on its speed. When it completes and the Image Applied Successfully message appears,
    click on OK, and Raspberry Pi will start to boot into `Raspberry Pi Desktop`.
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 根据其速度，写入数据到卡上大约需要20到40分钟。 当完成并出现“图像应用成功”消息时，单击“确定”，树莓派将开始引导到`树莓派桌面`。
- en: How it works...
  id: totrans-124
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: The purpose of writing the image file to the SD card in this manner is to ensure
    that the SD card is formatted with the expected filesystem partitions and files
    required to correctly boot the operating system.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 以这种方式将映像文件写入SD卡的目的是确保SD卡格式化为预期的文件系统分区和文件，以正确引导操作系统。
- en: When Raspberry Pi powers up, it loads some special code contained within the
    GPU's internal memory (commonly referred to as **binary blob** by Raspberry Pi
    Foundation). The binary blob provides the instructions required to read the `BOOT`
    partition on the SD card, which (in the case of a NOOBS install) will load NOOBS
    from the `RECOVERY` partition. If at this point *Shift* is pressed, NOOBS will
    load the recovery and installation menu. Otherwise, NOOBS will begin loading the
    OS as specified by the preferences stored in the `SETTINGS` partition.
  id: totrans-126
  prefs: []
  type: TYPE_NORMAL
  zh: 当树莓派启动时，它会加载存储在GPU内存中的一些特殊代码（通常被树莓派基金会称为**二进制块**）。 二进制块提供了读取SD卡上的`BOOT`分区所需的指令（在NOOBS安装的情况下，将从`RECOVERY`分区加载NOOBS）。
    如果此时按下*Shift*，NOOBS将加载恢复和安装菜单。 否则，NOOBS将根据`SETTINGS`分区中存储的首选项开始加载操作系统。
- en: 'When loading the operating system, it will boot via the `BOOT` partition, using
    the settings defined in `config.txt` and options in `cmdline.txt` to finally load
    to the desktop on the `root` partition. Refer to the following diagram:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 在加载操作系统时，它将通过`BOOT`分区引导，使用`config.txt`中定义的设置和`cmdline.txt`中的选项最终加载到`root`分区上的桌面。
    请参阅以下图表：
- en: '![](Images/fb2c2666-39a2-43b9-985f-be7e7deb990d.png)NOOBS creates several partitions
    on the SD card to allow the installation of multiple'
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/fb2c2666-39a2-43b9-985f-be7e7deb990d.png)NOOBS在SD卡上创建了几个分区，以允许安装多个'
- en: operating systems and to provide recovery
  id: totrans-129
  prefs: []
  type: TYPE_NORMAL
  zh: 操作系统，并提供恢复
- en: NOOBS allows the user to optionally install multiple operating systems on the
    same card and provides a boot menu to choose between them (with an option to set
    a default value in the event of a time-out period).
  id: totrans-130
  prefs: []
  type: TYPE_NORMAL
  zh: NOOBS允许用户在同一张卡上选择性地安装多个操作系统，并提供引导菜单以在它们之间进行选择（在超时期间设置默认值的选项）。
- en: If you later add, remove, or re-install an operating system, ensure first that
    you make a copy of any files, including system settings you wish to keep, as NOOBS
    may overwrite everything on the SD card.
  id: totrans-131
  prefs: []
  type: TYPE_NORMAL
  zh: 如果以后添加、删除或重新安装操作系统，请首先确保复制任何文件，包括您希望保留的系统设置，因为NOOBS可能会覆盖SD卡上的所有内容。
- en: There's more...
  id: totrans-132
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'When you power up Raspberry Pi for the first time directly, the desktop will
    be loaded. You can configure the system settings using the Raspberry Pi Configuration
    menu (under the Preferences menu on the Desktop or via the `sudo raspi-config`
    command). With this menu, you can make changes to your SD card or set up your
    general preferences:'
  id: totrans-133
  prefs: []
  type: TYPE_NORMAL
  zh: 当您首次直接启动树莓派时，将加载桌面。 您可以使用Raspberry Pi Configuration菜单（在桌面上的首选项菜单下或通过`sudo raspi-config`命令）配置系统设置。
    使用此菜单，您可以更改SD卡或设置一般首选项：
- en: '![](Images/82110ea1-fcde-45ef-844f-f77baea5d0be.png)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/82110ea1-fcde-45ef-844f-f77baea5d0be.png)'
- en: Changing the default user password
  id: totrans-135
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 更改默认用户密码
- en: 'Ensure that you change the default password for the `pi` user account once
    you have logged in, as the default password is well known. This is particularly
    important if you connect to public networks. You can do this with the `passwd`
    command, as shown in the following screenshot:'
  id: totrans-136
  prefs: []
  type: TYPE_NORMAL
  zh: 确保在登录后更改`pi`用户帐户的默认密码，因为默认密码是众所周知的。 如果您连接到公共网络，这一点尤为重要。 您可以使用`passwd`命令来执行此操作，如下面的屏幕截图所示：
- en: '![](Images/4ea09f37-0f50-4cca-8e23-29a824830576.png)Setting a new password
    for the Pi user'
  id: totrans-137
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/4ea09f37-0f50-4cca-8e23-29a824830576.png)为Pi用户设置新密码'
- en: This provides greater confidence because if you later connect to another network,
    only you will be able to access your files and take control of your Raspberry
    Pi.
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 这样可以更加放心，因为如果您以后连接到另一个网络，只有您才能访问您的文件并控制您的树莓派。
- en: Ensuring that you shut down safely
  id: totrans-139
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 确保安全关闭
- en: 'To avoid any data corruption, you must ensure that you correctly shut down
    Raspberry Pi by issuing a `shutdown` command, as follows:'
  id: totrans-140
  prefs: []
  type: TYPE_NORMAL
  zh: 为了避免任何数据损坏，您必须确保通过发出`shutdown`命令正确关闭树莓派，如下所示：
- en: '[PRE0]'
  id: totrans-141
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Or, use this one:'
  id: totrans-142
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，使用这个：
- en: '[PRE1]'
  id: totrans-143
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: You must wait until this command completes before you remove power from Raspberry
    Pi (wait for at least 10 seconds after the SD card access light has stopped flashing).
  id: totrans-144
  prefs: []
  type: TYPE_NORMAL
  zh: 在从树莓派断电之前，必须等待此命令完成（在SD卡访问指示灯停止闪烁后等待至少10秒）。
- en: 'You can also restart the system with the `reboot` command, as follows:'
  id: totrans-145
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以使用`reboot`命令重新启动系统，如下所示：
- en: '[PRE2]'
  id: totrans-146
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: Preparing an SD card manually
  id: totrans-147
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 手动准备SD卡
- en: An alternative to using NOOBS is to manually write the operating system image
    to the SD card. While this was originally the only way to install the operating
    system, some users still prefer it. It allows the SD cards to be prepared before
    they are used in Raspberry Pi. It can also provide easier access to startup and
    configuration files, and it leaves more space available for the user (unlike NOOBS,
    a `RECOVERY` partition isn't included).
  id: totrans-148
  prefs: []
  type: TYPE_NORMAL
  zh: 使用NOOBS的替代方法是手动将操作系统映像写入SD卡。 尽管最初这是安装操作系统的唯一方法，但一些用户仍然更喜欢它。 它允许在将SD卡用于树莓派之前准备SD卡。
    它还可以更容易地访问启动和配置文件，并且为用户留下更多的空间（与NOOBS不同，不包括`RECOVERY`分区）。
- en: The default Raspbian image actually consists of two partitions, `BOOT` and `SYSTEM`,
    which will fit into a 2 GB SD card (4 GB or more is recommended).
  id: totrans-149
  prefs: []
  type: TYPE_NORMAL
  zh: 默认的Raspbian映像实际上由两个分区`BOOT`和`SYSTEM`组成，可以放入2GB的SD卡（建议使用4GB或更多）。
- en: You need a computer running Windows/Mac OS X/Linux (although it is possible
    to use another Raspberry Pi to write your card; be prepared for a very long wait).
  id: totrans-150
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要一台运行Windows/Mac OS X/Linux的计算机（尽管可以使用另一台树莓派来写入您的卡；请准备等待很长时间）。
- en: Download the latest version of the operating system you wish to use. For the
    purpose of this book, it is assumed you are using the latest version of Raspbian
    available at [http://www.raspberrypi.org/downloads](http://www.raspberrypi.org/downloads).
  id: totrans-151
  prefs: []
  type: TYPE_NORMAL
  zh: 下载您希望使用的操作系统的最新版本。 本书假定您正在使用[http://www.raspberrypi.org/downloads](http://www.raspberrypi.org/downloads)上提供的最新版本的Raspbian。
- en: Perform the following steps depending on the type of computer you plan to use
    to write to the SD card (the `.img` file you need is sometimes compressed, so
    before you start, you will need to extract the file).
  id: totrans-152
  prefs: []
  type: TYPE_NORMAL
  zh: 根据您计划用于写入SD卡的计算机类型执行以下步骤（您需要的`.img`文件有时会被压缩，因此在开始之前，您需要提取文件）。
- en: 'The following steps are for Windows:'
  id: totrans-153
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤适用于Windows：
- en: Ensure that you have downloaded the Raspbian image, as previously detailed,
    and extracted it to a convenient folder to obtain an `.img` file.
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保您已经下载了Raspbian映像，并将其提取到一个方便的文件夹以获取`.img`文件。
- en: Obtain the `Win32DiskImager.exe` file available at [http://www.sourceforge.net/projects/win32diskimager](http://www.sourceforge.net/projects/win32diskimager).
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 获取[http://www.sourceforge.net/projects/win32diskimager](http://www.sourceforge.net/projects/win32diskimager)上提供的`Win32DiskImager.exe`文件。
- en: Run `Win32DiskImager.exe` from your downloaded location.
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从下载位置运行`Win32DiskImager.exe`。
- en: Click on the folder icon and navigate to the location of the `.img` file and
    click on Save.
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击文件夹图标，导航到`.img`文件的位置，然后单击保存。
- en: If you haven't already done so, insert your SD card into your card reader and
    plug it into your computer.
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果尚未这样做，请将SD卡插入卡读卡器并将其插入计算机。
- en: Select the Device drive letter that corresponds to your SD card from the small
    drop-down box. Double-check that this is the correct device (as the program will
    overwrite whatever is on the device when you write the image).
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从小下拉框中选择与您的SD卡对应的设备驱动器号。 仔细检查这是否是正确的设备（因为在写入映像时，程序将覆盖设备上的任何内容）。
- en: The drive letter may not be listed until you select a source image file.
  id: totrans-160
  prefs: []
  type: TYPE_NORMAL
  zh: 在选择源映像文件之前，可能不会列出驱动器号。
- en: 'Finally, click on the Write button and wait for the program to write the image
    to the SD card, as shown in the following screenshot:'
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，单击“写入”按钮，等待程序将映像写入SD卡，如下图所示：
- en: '![](Images/049daa83-6669-47de-b5c0-01a76330e233.png)Manually writing operating
    system images to the SD card, using Disk Imager'
  id: totrans-162
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/049daa83-6669-47de-b5c0-01a76330e233.png)手动将操作系统映像写入SD卡，使用Disk Imager'
- en: Once completed, you can exit the program. Your SD card is ready.
  id: totrans-163
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成后，您可以退出程序。 您的SD卡已准备就绪。
- en: 'The following steps should work for the most common Linux distributions, such
    as Ubuntu and Debian:'
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤适用于大多数常见的Linux发行版，如Ubuntu和Debian：
- en: Using your preferred web browser, download the Raspbian image and save it in
    a suitable place.
  id: totrans-165
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您喜欢的网络浏览器下载Raspbian映像并将其保存在合适的位置。
- en: 'Extract the file from the file manager or locate the folder in the terminal
    and unzip the `.img` file with the following command:'
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从文件管理器中提取文件或在终端中找到文件夹并使用以下命令解压`.img`文件：
- en: '[PRE3]'
  id: totrans-167
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: If you haven't already done so, insert your SD card into your card reader and
    plug it into your computer.
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果尚未这样做，请将SD卡插入卡读卡器并将其插入计算机。
- en: Use the `df -h` command and identify the **sdX** identifier for the SD card.
    Each partition will be displayed as sdX1, sdX2, and so on, where X will be `a`,
    `b`, `c`, `d`, and so on for the device ID.
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`df -h`命令并识别SD卡的**sdX**标识符。 每个分区将显示为sdX1，sdX2等，其中X将是`a`，`b`，`c`，`d`等，用于设备ID。
- en: Ensure that all the partitions on the SD card are unmounted using the
  id: totrans-170
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保使用以下命令卸载SD卡上的所有分区
- en: '`umount /dev/sdXn` command for each partition, where `sdXn` is the partition
    being unmounted.'
  id: totrans-171
  prefs: []
  type: TYPE_NORMAL
  zh: 对于每个分区，使用`umount /dev/sdXn`命令，其中`sdXn`是要卸载的分区。
- en: 'Write the image file to the SD card, with the following command:'
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令将映像文件写入SD卡：
- en: '[PRE4]'
  id: totrans-173
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The process will take some time to write to the SD card, returning to the Terminal
    prompt when complete.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 写入SD卡的过程需要一些时间，在完成时返回终端提示符。
- en: 'Unmount the SD card before removing it from the computer, using the following
    command:'
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令卸载SD卡，然后从计算机中取出它：
- en: '[PRE5]'
  id: totrans-176
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: 'The following steps should work for most of the versions of OS X:'
  id: totrans-177
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤适用于大多数OS X版本：
- en: Using your preferred web browser, download the Raspbian image and save it somewhere
    suitable.
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用您喜欢的网络浏览器下载Raspbian映像并将其保存在合适的位置。
- en: 'Extract the file from the file manager or locate the folder in the terminal
    and unzip the `.img` file, with the following command:'
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从文件管理器中提取文件或在终端中找到文件夹并解压`.img`文件，使用以下命令：
- en: '[PRE6]'
  id: totrans-180
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: If you haven't already done so, insert your SD card into your card reader and
    plug it into your computer.
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果尚未这样做，请将SD卡插入卡读卡器并将其插入计算机。
- en: 'Use the `diskutil list` command and identify the **disk#** identifier for the
    SD card. Each partition will be displayed as disk#s1, disk#s2, and so on, where
    # will be `1`, `2`, `3`, `4`, and so on, for the device ID.'
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`diskutil list`命令并为SD卡标识**disk#**标识符。每个分区将显示为disk#s1，disk#s2等，其中#将是`1`，`2`，`3`，`4`等，用于设备ID。
- en: If rdisk# is listed, use this for faster writing (this uses a raw path and skips
    data buffering).
  id: totrans-183
  prefs: []
  type: TYPE_NORMAL
  zh: 如果列出了rdisk#，则使用它可以更快地写入（这使用原始路径并跳过数据缓冲）。
- en: Ensure that the SD card is unmounted using the `unmountdisk /dev/diskX` command,
    where `diskX` is the device being unmounted.
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保使用`unmountdisk /dev/diskX`命令卸载SD卡，其中`diskX`是要卸载的设备。
- en: 'Write the image file to the SD card, with the following command:'
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令将映像文件写入SD卡：
- en: '[PRE7]'
  id: totrans-186
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: The process will take some time to write to the SD card, returning to the Terminal
    prompt when complete.
  id: totrans-187
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 该过程将花费一些时间来写入SD卡，并在完成时返回到终端提示符。
- en: Unmount the SD card before removing it from the computer, using the
  id: totrans-188
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在从计算机中移除SD卡之前卸载SD卡，使用
- en: 'following command:'
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
  zh: 以下命令：
- en: '[PRE8]'
  id: totrans-190
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Refer to the following diagram:'
  id: totrans-191
  prefs: []
  type: TYPE_NORMAL
  zh: 请参阅以下图表：
- en: '![](Images/30a0a201-910a-4aee-8735-3f354c3f9228.png)The boot process of a manually
    installed OS image'
  id: totrans-192
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/30a0a201-910a-4aee-8735-3f354c3f9228.png)手动安装的OS映像的引导过程'
- en: Expanding the system to fit in your SD card
  id: totrans-193
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 扩展系统以适应您的SD卡
- en: A manually written image will be of a fixed size (usually made to fit the smallest-sized
    SD card possible). To make full use of the SD card, you will need to expand the
    system partition to fill the remainder of the SD card. This can be achieved using
    the Raspberry Pi Configuration tool.
  id: totrans-194
  prefs: []
  type: TYPE_NORMAL
  zh: 手动编写的映像将是固定大小的（通常是为了适应最小尺寸的SD卡）。要充分利用SD卡，您需要扩展系统分区以填满SD卡的其余部分。这可以通过Raspberry
    Pi配置工具实现。
- en: 'Select `Expand Filesystem,` as shown in the following screenshot:'
  id: totrans-195
  prefs: []
  type: TYPE_NORMAL
  zh: 选择“扩展文件系统”，如下截图所示：
- en: '![](Images/82597568-2a12-462d-b662-d7333f7ae747.png)Raspberry Pi Configuration
    tool'
  id: totrans-196
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/82597568-2a12-462d-b662-d7333f7ae747.png)Raspberry Pi配置工具'
- en: Accessing the RECOVERY/BOOT partition
  id: totrans-197
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 访问RECOVERY/BOOT分区
- en: Windows and macOS X do not support the `ext4` format, so when you read the SD
    card, only the **File Allocation Table** (**FAT**) partitions will be accessible.
    In addition, Windows only supports the first partition on an SD card, so if you've
    installed NOOBS, only the `RECOVERY` partition will be visible. If you've written
    your card manually, you will be able to access the `BOOT` partition.
  id: totrans-198
  prefs: []
  type: TYPE_NORMAL
  zh: Windows和macOS X不支持`ext4`格式，因此在读取SD卡时，只有**文件分配表**（**FAT**）分区可访问。此外，Windows只支持SD卡上的第一个分区，因此如果您安装了NOOBS，则只能看到`RECOVERY`分区。如果您手动写入了卡，您将能够访问`BOOT`分区。
- en: The `data` partition (if you installed one via NOOBS) and the `root` partition
    are in `ext4` format and won't usually be visible on non-Linux systems.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: '`data`分区（如果您通过NOOBS安装了它）和`root`分区采用`ext4`格式，通常在非Linux系统上不可见。'
- en: If you do need to read files from the SD card using Windows, a freeware program,
    **Linux Reader** (available at [www.diskinternals.com/linux-reader](https://www.diskinternals.com/linux-reader))
    can provide read-only access to all of the partitions on the SD card.
  id: totrans-200
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您确实需要使用Windows从SD卡读取文件，一个免费软件**Linux Reader**（可在[www.diskinternals.com/linux-reader](https://www.diskinternals.com/linux-reader)获取）可以提供对SD卡上所有分区的只读访问。
- en: 'Access the partitions from Raspberry Pi. To view the currently mounted partitions,
    use `df`, as shown in the following screenshot:'
  id: totrans-201
  prefs: []
  type: TYPE_NORMAL
  zh: 从Raspberry Pi访问分区。要查看当前已挂载的分区，请使用`df`，如下截图所示：
- en: '![](Images/0ba3c22d-241e-4ea5-a000-1eed0113eedd.png)The result of the df command'
  id: totrans-202
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/0ba3c22d-241e-4ea5-a000-1eed0113eedd.png)df命令的结果'
- en: 'To access the `BOOT` partition from within Raspbian, use the following command:'
  id: totrans-203
  prefs: []
  type: TYPE_NORMAL
  zh: 要从Raspbian内部访问`BOOT`分区，请使用以下命令：
- en: '[PRE9]'
  id: totrans-204
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: To access the `RECOVERY` or `data` partition, we have to mount it by performing
    the
  id: totrans-205
  prefs: []
  type: TYPE_NORMAL
  zh: 要访问`RECOVERY`或`data`分区，我们必须通过执行以下操作来挂载它
- en: 'following steps:'
  id: totrans-206
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤：
- en: 'Determine the name of the partition as the system refers to it by listing all
    the partitions, even the unmounted ones. The `sudo fdisk -l` command lists the
    partitions, as shown in the following screenshot:'
  id: totrans-207
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过列出所有分区（包括未挂载的分区）来确定分区的名称，系统将引用它。`sudo fdisk -l`命令列出分区，如下截图所示：
- en: '![](Images/e3c01d3d-a6bc-4236-a11c-16928be5f30f.png)NOOBS installation and
    data partition'
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/e3c01d3d-a6bc-4236-a11c-16928be5f30f.png)NOOBS安装和数据分区'
- en: The following table shows the names of partitions and their meanings
  id: totrans-209
  prefs: []
  type: TYPE_NORMAL
  zh: 以下表格显示了分区的名称及其含义
- en: '| **Partition name** | **Meaning** |'
  id: totrans-210
  prefs: []
  type: TYPE_TB
  zh: '| **分区名称** | **含义** |'
- en: '| `mmcblk0p1` | (`VFAT`) `RECOVERY` |'
  id: totrans-211
  prefs: []
  type: TYPE_TB
  zh: '| `mmcblk0p1` | (`VFAT`) `RECOVERY` |'
- en: '| `mmcblk0p2` | (Extended partition) contains (`root`, `data`, `BOOT`) |'
  id: totrans-212
  prefs: []
  type: TYPE_TB
  zh: '| `mmcblk0p2` | (扩展分区) 包含 (`root`, `data`, `BOOT`) |'
- en: '| `mmcblk0p5` | (`ext4`) `root` |'
  id: totrans-213
  prefs: []
  type: TYPE_TB
  zh: '| `mmcblk0p5` | (`ext4`) `root` |'
- en: '| `mmcblk0p6` | (`VFAT`) `BOOT` |'
  id: totrans-214
  prefs: []
  type: TYPE_TB
  zh: '| `mmcblk0p6` | (`VFAT`) `BOOT` |'
- en: '| `mmcblk0p7` | (`ext4`) `SETTINGS` |'
  id: totrans-215
  prefs: []
  type: TYPE_TB
  zh: '| `mmcblk0p7` | (`ext4`) `SETTINGS` |'
- en: If you have installed additional operating systems on the same card, the partition
    identifiers shown in the preceding table will be different.
  id: totrans-216
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在同一张卡上安装了其他操作系统，则前面表中显示的分区标识符将不同。
- en: 'Create a folder and set it as the mount point for the partition; for the `RECOVERY`
    partition, use the following command:'
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 创建一个文件夹，并将其设置为分区的挂载点；对于`RECOVERY`分区，请使用以下命令：
- en: '[PRE10]'
  id: totrans-218
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: 'To ensure that they are mounted each time the system is started, perform the
    following steps:'
  id: totrans-219
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保它们在每次系统启动时都被挂载，请执行以下步骤：
- en: 'Add the `sudo` mount commands to `/etc/rc.local` before `exit 0`. If you have
    a different username, you will need to change `pi` to match:'
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`/etc/rc.local`中添加`sudo`挂载命令，然后是`exit 0`。如果您有不同的用户名，您需要将`pi`更改为匹配的用户名：
- en: '[PRE11]'
  id: totrans-221
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: Save and exit by pressing *Ctrl* + *X*, *Y*, and *Enter*.
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按*Ctrl* + *X*，*Y*和*Enter*保存并退出。
- en: Commands added to `/etc/rc.local` will be run for any user who logs on to Raspberry
    Pi. If you only want the drive to be mounted for the current user, the commands
    can be added to `.bash_profile` instead.
  id: totrans-223
  prefs: []
  type: TYPE_NORMAL
  zh: 添加到`/etc/rc.local`的命令将在登录到Raspberry Pi的任何用户上运行。如果您只希望该驱动器对当前用户进行挂载，则可以将命令添加到`.bash_profile`中。
- en: If you have to install additional operating systems on the same card, the partition
    identifiers shown here will be different.
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 如果必须在同一张卡上安装其他操作系统，则此处显示的分区标识符将不同。
- en: Using the tools to back up your SD card in case of failure
  id: totrans-225
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用工具备份SD卡以防故障
- en: You can use **Win32 Disk Imager** to make a full backup image of your SD card
    by inserting your SD card into your reader, starting the program, and creating
    a filename to store the image in. Simply click on the Read button instead to read
    the image from the SD card and write it to a new image file.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用**Win32 Disk Imager**通过将SD卡插入读卡器，启动程序并创建一个文件名来存储图像来制作SD卡的完整备份图像。只需点击读取按钮，将图像从SD卡读取并写入新的图像文件。
- en: To make a backup of your system, or to clone to another SD card using Raspberry
    Pi, use the SD Card Copier (available from the desktop menu via the Accessories
    | SD Card Copier).
  id: totrans-227
  prefs: []
  type: TYPE_NORMAL
  zh: 要备份系统，或者使用树莓派克隆到另一个SD卡，请使用SD卡复制器（可通过桌面菜单的附件| SD卡复制器获得）。
- en: 'Insert an SD card into a card reader into a spare USB port of Raspberry Pi
    and select the new storage device, as shown in the following screenshot:'
  id: totrans-228
  prefs: []
  type: TYPE_NORMAL
  zh: 将SD卡插入树莓派的USB端口的读卡器中，并选择新的存储设备，如下截图所示：
- en: '![](Images/33074ea1-d5f9-4519-9f99-c56cdb9da373.png)SD Card Copier program'
  id: totrans-229
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/33074ea1-d5f9-4519-9f99-c56cdb9da373.png)SD卡复制程序'
- en: Before continuing, the SD Card Copier will confirm that you wish to format and
    overwrite the target device and, if there is sufficient space, make a clone of
    your system.
  id: totrans-230
  prefs: []
  type: TYPE_NORMAL
  zh: 在继续之前，SD卡复制器将确认您是否希望格式化和覆盖目标设备，并且如果有足够的空间，将克隆您的系统。
- en: 'The `dd` command can similarly be used to back up the card, as follows:'
  id: totrans-231
  prefs: []
  type: TYPE_NORMAL
  zh: '`dd`命令也可以用来备份卡，如下所示：'
- en: 'For Linux, replacing `sdX` with your device ID, use this command:'
  id: totrans-232
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于Linux，用您的设备ID替换`sdX`，使用以下命令：
- en: '[PRE12]'
  id: totrans-233
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'For OS X, replacing `diskX` with your device ID, use the following command:'
  id: totrans-234
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于OS X，用以下命令替换`diskX`为您的设备ID：
- en: '[PRE13]'
  id: totrans-235
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'You can also use `gzip` and split to compress the contents of the card and
    split them into multiple files, if required, for easy archiving, as follows:'
  id: totrans-236
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您还可以使用`gzip`和split来压缩卡的内容并将其拆分成多个文件，如果需要的话，以便进行简单的存档，如下所示：
- en: '[PRE14]'
  id: totrans-237
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: 'To restore the split image, use the following command:'
  id: totrans-238
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 要恢复拆分的图像，请使用以下命令：
- en: '[PRE15]'
  id: totrans-239
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Networking and connecting your Raspberry Pi to the internet via an Ethernet
    port, using a CAT6 Ethernet cable
  id: totrans-240
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过以太网端口将树莓派连接到互联网的网络和连接，使用CAT6以太网电缆
- en: The simplest way to connect Raspberry Pi to the internet is by using the built-in
    LAN connection on the Model B. If you are using a Model A Raspberry Pi, a USB-to-LAN
    adapter can be used (refer to the *There's more...* section of the *Networking
    and connecting your Raspberry Pi to the internet via a USB Wi-Fi dongle* recipe
    for details of how to configure this).
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 将树莓派连接到互联网的最简单方法是使用Model B上的内置LAN连接。如果您使用的是Model A树莓派，则可以使用USB到LAN适配器（有关如何配置此适配器的详细信息，请参阅*还有更多...*部分的*通过USB无线网络适配器连接树莓派到互联网*配方）。
- en: Getting ready
  id: totrans-242
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: You will need access to a suitable wired network, which will be connected to
    the internet, and a standard network cable (with an **RJ45** type connector for
    connecting to Raspberry Pi).
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 您将需要访问适当的有线网络，该网络将连接到互联网，并且标准网络电缆（带有**RJ45**类型连接器，用于连接到树莓派）。
- en: How to do it...
  id: totrans-244
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 操作步骤
- en: Many networks connect and configure themselves automatically using the **Dynamic
    Host Configuration Protocol** (**DHCP**), which is controlled by the router or
    switch. If this is the case, simply plug the network cable into a spare network
    port on your router or network switch (or wall network socket if applicable).
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 许多网络使用**动态主机配置协议**（**DHCP**）自动连接和配置，由路由器或交换机控制。如果是这种情况，只需将网络电缆插入路由器或网络交换机上的空闲网络端口（或者如果适用，墙壁网络插座）。
- en: Alternatively, if a DHCP server is not available, you shall have to configure
    the settings manually (refer to the *There's more...* section for details).
  id: totrans-246
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，如果没有DHCP服务器，您将不得不手动配置设置（有关详细信息，请参阅*还有更多...*部分）。
- en: 'You can confirm this is functioning successfully with the following steps:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过以下步骤确认这一功能是否成功运行：
- en: Ensure that the two LEDs on either side of Raspberry Pi light up (the left orange
    LED indicates a connection and the green LED on the right shows activity by flashing).
    This will indicate that there is a physical connection to the router and that
    the equipment is powered and functioning.
  id: totrans-248
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保树莓派两侧的两个LED灯亮起（左侧橙色LED指示连接，右侧绿色LED显示闪烁的活动）。这将表明与路由器有物理连接，并且设备已经供电并正常工作。
- en: 'Test the link to your local network using the `ping` command. First, find out
    the IP address of another computer on the network (or the address of your router,
    perhaps, often `192.168.0.1` or `192.168.1.254`). Now, on the Raspberry Pi Terminal,
    use the `ping` command (the `-c 4` parameter is used to send just four messages;
    otherwise, press *Ctrl* + *C* to stop) to ping the IP address, as follows:'
  id: totrans-249
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`ping`命令测试与本地网络的连接。首先，找出网络上另一台计算机的IP地址（或者您的路由器的地址，通常为`192.168.0.1`或`192.168.1.254`）。现在，在树莓派终端上，使用`ping`命令（使用`-c
    4`参数仅发送四条消息；否则，按*Ctrl* + *C*停止）ping IP地址，如下所示：
- en: '[PRE16]'
  id: totrans-250
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'Test the link to the internet (this will fail if you usually connect to the
    internet through a proxy server) as follows:'
  id: totrans-251
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 测试连接到互联网（如果您通常通过代理服务器连接到互联网，这将失败）如下：
- en: '[PRE17]'
  id: totrans-252
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: Finally, you can test the link back to Raspberry Pi by discovering the
  id: totrans-253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，您可以通过发现来测试与树莓派的连接
- en: IP address using `hostname -I` on Raspberry Pi. You can then use the ping command
    on another computer on the network to ensure it is accessible (using Raspberry
    Pi's IP address in place of [www.raspberrypi.org](https://www.raspberrypi.org/)).
    The Windows version of the `ping` command will perform five pings and stop automatically,
    and will not need the `-c 4` option.
  id: totrans-254
  prefs: []
  type: TYPE_NORMAL
  zh: 在树莓派上使用`hostname -I`命令查找IP地址。然后，您可以在网络上的另一台计算机上使用`ping`命令来确保可以访问（使用树莓派的IP地址代替[www.raspberrypi.org](https://www.raspberrypi.org/)）。Windows版本的`ping`命令将执行五次ping并自动停止，并且不需要`-c
    4`选项。
- en: If the aforementioned tests fail, you will need to check your connections and
    then confirm the correct configuration for your network.
  id: totrans-255
  prefs: []
  type: TYPE_NORMAL
  zh: 如果上述测试失败，您需要检查您的连接，然后确认您的网络的正确配置。
- en: There's more...
  id: totrans-256
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: If you find yourself using your Raspberry Pi regularly on the network, you won't
    want to have to look up the IP address each time you want to connect to it.
  id: totrans-257
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您经常在网络上使用树莓派，您就不想每次连接时都要查找IP地址。
- en: On some networks, you may be able to use Raspberry Pi's hostname instead of
    its IP address (the default is `raspberrypi`). To assist with this, you may need
    some additional software, such as **Bonjour**, to ensure hostnames on the network
    are correctly registered. If you have macOS X, you will have Bonjour running already.
  id: totrans-258
  prefs: []
  type: TYPE_NORMAL
  zh: 在一些网络上，您可以使用树莓派的主机名而不是其IP地址（默认为`raspberrypi`）。为了帮助实现这一点，您可能需要一些额外的软件，比如**Bonjour**，以确保网络上的主机名被正确注册。如果您使用的是macOS
    X，那么Bonjour已经在运行了。
- en: On Windows, you can either install iTunes (if you haven't got it), which also
    includes the service, or you can install it separately (via the Apple Bonjour
    Installer available from [https://support.apple.com/kb/DL999](https://support.apple.com/kb/DL999)).
    Then you can use the hostname, `raspberrypi` or `raspberrypi.local`, to connect
    to Raspberry Pi over the network. If you need to change the hostname, then you
    can do so with the Raspberry Pi configuration tool, shown previously.
  id: totrans-259
  prefs: []
  type: TYPE_NORMAL
  zh: 在Windows上，您可以安装iTunes（如果您没有安装），它也包括了该服务，或者您可以单独安装（通过[https://support.apple.com/kb/DL999](https://support.apple.com/kb/DL999)提供的Apple
    Bonjour Installer）。然后您可以使用主机名`raspberrypi`或`raspberrypi.local`来连接到树莓派。如果您需要更改主机名，那么您可以使用之前显示的树莓派配置工具来进行更改。
- en: Alternatively, you may find it helpful to fix the IP address to a known value
    by manually setting the IP address. However, remember to switch it back to use
    DHCP when connecting to another network.
  id: totrans-260
  prefs: []
  type: TYPE_NORMAL
  zh: 或者，您可能会发现手动设置IP地址为已知值并将其固定对您有所帮助。但是，请记住在连接到另一个网络时切换回使用DHCP。
- en: Some routers will also have an option to set a **Static IP DHCP address**, so
    the same address is always given to Raspberry Pi (how this is set will vary depending
    on the router itself).
  id: totrans-261
  prefs: []
  type: TYPE_NORMAL
  zh: 一些路由器还可以设置**静态IP DHCP地址**的选项，这样相同的地址就会始终分配给树莓派（如何设置取决于路由器本身）。
- en: Knowing your Raspberry Pi's IP address or using the hostname is particularly
    useful if you intend to use one of the remote access solutions described later
    on, which avoids the need for a display.
  id: totrans-262
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您打算使用后面描述的远程访问解决方案之一，那么了解树莓派的IP地址或使用主机名尤其有用，这样就避免了需要显示器。
- en: Using built-in Wi-Fi and Bluetooth on Raspberry Pi
  id: totrans-263
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用树莓派上的内置Wi-Fi和蓝牙
- en: Many home networks provide a wireless network over Wi-Fi; if you have Raspberry
    Pi 3, then you can make use of the on-board Broadcom Wi-Fi to connect to it. Raspberry
    Pi 3 also supports Bluetooth, so you can connect most standard Bluetooth devices
    and use them like you would on any other computer.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 许多家庭网络通过Wi-Fi提供无线网络；如果您有树莓派3，那么您可以利用板载的Broadcom Wi-Fi来连接。树莓派3也支持蓝牙，因此您可以连接大多数标准蓝牙设备，并像在任何其他计算机上一样使用它们。
- en: This method should also work for any supported USB Wi-Fi and Bluetooth devices;
    see the *Networking and connecting your Raspberry Pi to the internet via a USB
    Wi-Fi dongle* recipe for extra help on identifying devices and installing firmware
    (if required).
  id: totrans-265
  prefs: []
  type: TYPE_NORMAL
  zh: 这种方法也适用于任何受支持的USB Wi-Fi和蓝牙设备；有关识别设备和安装固件（如果需要）的额外帮助，请参阅*通过USB Wi-Fi dongle将树莓派连接到互联网的网络和连接*配方。
- en: Getting ready
  id: totrans-266
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备好了
- en: The latest version of Raspbian includes helpful utilities to quickly and easily
    configure your Wi-Fi and Bluetooth through the graphical interface.
  id: totrans-267
  prefs: []
  type: TYPE_NORMAL
  zh: Raspbian的最新版本包括有用的实用程序，通过图形界面快速轻松地配置您的Wi-Fi和蓝牙。
- en: '**Note**: If you need to configure the Wi-Fi via the command line, then see
    the *Networking and connecting your Raspberry Pi to the internet via a USB Wi-Fi
    dongle* recipe for details.![](Images/c665e469-5c0e-4791-81c9-71f74ebd531a.png)Wi-Fi
    and Bluetooth configuration applications'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: '**注意**：如果您需要通过命令行配置Wi-Fi，请参阅*通过USB Wi-Fi dongle将树莓派连接到互联网的网络和连接*配方以获取详细信息。![](Images/c665e469-5c0e-4791-81c9-71f74ebd531a.png)Wi-Fi和蓝牙配置应用程序'
- en: You can use the built-in Bluetooth to connect a wireless keyboard, a mouse,
    or even wireless speakers. This can be exceptionally helpful for projects where
    additional cables and wires are an issue, such as robotic projects, or when Raspberry
    Pi is installed in hard-to-reach locations (acting as a server or security camera).
  id: totrans-269
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用内置的蓝牙连接无线键盘、鼠标，甚至无线扬声器。这对于一些需要额外电缆和线缆的项目非常有帮助，比如机器人项目，或者当树莓派安装在难以到达的位置时（作为服务器或安全摄像头）。
- en: How to do it...
  id: totrans-270
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做...
- en: Here are the various methods.
  id: totrans-271
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是各种方法。
- en: Connecting to your Wi-Fi network
  id: totrans-272
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 连接到您的Wi-Fi网络
- en: 'To configure your Wi-Fi connection, click on the networking symbol to list
    the local available Wi-Fi networks:'
  id: totrans-273
  prefs: []
  type: TYPE_NORMAL
  zh: 要配置您的Wi-Fi连接，请单击网络符号以列出本地可用的Wi-Fi网络：
- en: '![](Images/3bfd82d0-7b3a-4cca-9ab6-c883a400f68d.png)Wi-Fi listing of the available
    access points in the area'
  id: totrans-274
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/3bfd82d0-7b3a-4cca-9ab6-c883a400f68d.png)区域内可用接入点的Wi-Fi列表'
- en: 'Select the required network (for example, `Demo`) and, if required, enter your
    password (also known as a `Pre Shared Key`):'
  id: totrans-275
  prefs: []
  type: TYPE_NORMAL
  zh: 选择所需的网络（例如，`Demo`），如果需要，输入您的密码（也称为`预共享密钥`）：
- en: '![](Images/248e4d19-cf0c-4e24-8142-c96c598a74a6.png)Providing the password
    for the access point'
  id: totrans-276
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/248e4d19-cf0c-4e24-8142-c96c598a74a6.png)为接入点提供密码'
- en: 'After a short while, you should see that you have connected to the network
    and the icon will change to a Wi-Fi symbol. If you encounter problems, ensure
    you have the correct password/key:'
  id: totrans-277
  prefs: []
  type: TYPE_NORMAL
  zh: 过一会儿，您应该会看到您已连接到网络，图标将变成Wi-Fi符号。如果遇到问题，请确保您有正确的密码/密钥：
- en: '![](Images/51496409-6ba4-4dbd-ab18-6e596404e97b.png)Successful connection to
    an access point'
  id: totrans-278
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/51496409-6ba4-4dbd-ab18-6e596404e97b.png)成功连接到接入点'
- en: That is it; it's as easy as that!
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 就是这样；就是这么简单！
- en: 'You can now test your connection and ensure it is working by using the web
    browser to navigate to a website or by using the following command in the terminal:'
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在可以通过使用Web浏览器导航到网站或在终端中使用以下命令来测试连接并确保其正常工作：
- en: '[PRE18]'
  id: totrans-281
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: Connecting to Bluetooth devices
  id: totrans-282
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 连接到蓝牙设备
- en: 'To start, we need to put the Bluetooth device into discoverable mode by clicking
    on the Bluetooth icon and selecting **Make Discoverable**. You will also need
    to make the device you want to connect to discoverable and ready to pair; this
    may vary from device to device (such as pressing a pairing button):'
  id: totrans-283
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们需要通过单击蓝牙图标并选择**使可发现**将蓝牙设备设置为可发现模式。您还需要使要连接的设备处于可发现和配对准备状态；这可能因设备而异（例如按配对按钮）：
- en: '![](Images/4283c612-ff0d-4172-9a8d-315ed757ce2e.png)Setting the Bluetooth up
    as discoverable'
  id: totrans-284
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/4283c612-ff0d-4172-9a8d-315ed757ce2e.png)设置蓝牙为可发现状态'
- en: 'Next, select **Add Device...** and select the target device and **Pair**:'
  id: totrans-285
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，选择**添加设备...**并选择目标设备和**配对**：
- en: '![](Images/a7c44c57-340a-47a4-84b8-e23818476ea5.png)Selecting and pairing the
    required device'
  id: totrans-286
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/a7c44c57-340a-47a4-84b8-e23818476ea5.png)选择并配对所需的设备'
- en: 'The pairing process will then start; for example, the BTKB-71DB keyboard will
    need the pairing code `467572` to be entered onto the keyboard for the pairing
    to complete. Other devices may use default pairing codes, often set to 0000, 1111,
    1234, or similar:'
  id: totrans-287
  prefs: []
  type: TYPE_NORMAL
  zh: 然后配对过程将开始；例如，BTKB-71DB键盘将需要输入配对码`467572`到键盘上以完成配对。其他设备可能使用默认配对码，通常设置为0000、1111、1234或类似的：
- en: '![](Images/fa1ee0aa-d515-47ef-9848-97d3ebaca610.png)Following the instructions
    to pair the device with the required pairing code'
  id: totrans-288
  prefs: []
  type: TYPE_NORMAL
  zh: 按照说明使用所需的配对码将设备配对
- en: Once the process has completed, the device will be listed and will connect automatically
    each time the devices are present and booted.
  id: totrans-289
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦过程完成，设备将被列出，并且每次设备出现并引导时都会自动连接。
- en: Configuring your network manually
  id: totrans-290
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 手动配置您的网络
- en: If your network does not include a DHCP server or it is disabled (typically,
    these are built into most modern ADSL/cable modems or routers), you may need to
    configure your network settings manually.
  id: totrans-291
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您的网络不包括DHCP服务器或者已禁用（通常，这些都内置在大多数现代ADSL/电缆调制解调器或路由器中），则可能需要手动配置您的网络设置。
- en: Getting ready
  id: totrans-292
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: Before you start, you will need to determine the network settings for your network.
  id: totrans-293
  prefs: []
  type: TYPE_NORMAL
  zh: 在开始之前，您需要确定网络的网络设置。
- en: 'You will need to find out the following information from your router''s settings
    or another computer connected to the network:'
  id: totrans-294
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要从路由器的设置或连接到网络的另一台计算机中找到以下信息：
- en: '**IPv4 address**: This address will need to be selected to be similar to other
    computers on the network (typically, the first three numbers should match, that
    is, `192.168.1.X` if `netmask` is `255.255.255.0`), but it should not already
    be used by another computer. However, avoid `x.x.x.255` as the last address, since
    this is reserved as a broadcast address.'
  id: totrans-295
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**IPv4地址**：此地址需要选择与网络上其他计算机相似（通常，前三个数字应匹配，即，如果`netmask`为`255.255.255.0`，则应为`192.168.1.X`），但不应该已被其他计算机使用。但是，避免使用`x.x.x.255`作为最后一个地址，因为这是保留的广播地址。'
- en: '**Subnet mask**: This number determines the range of addresses the computer
    will respond to (for a home network, it is typically `255.255.255.0`, which allows
    up to 254 addresses). This is also sometimes referred to as the **netmask**.'
  id: totrans-296
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**子网掩码**：此数字确定计算机将响应的地址范围（对于家庭网络，通常为`255.255.255.0`，允许最多254个地址）。这有时也被称为**netmask**。'
- en: '**Default gateway address**: This address is usually your router''s IP address,
    through which the computers connect to the internet.'
  id: totrans-297
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**默认网关地址**：此地址通常是您的路由器的IP地址，通过它，计算机连接到互联网。'
- en: '**DNS servers**: The **Domain Name Service** (**DNS**) server converts names
    into IP addresses by looking them up. Usually, they will already be configured
    on your router, in which case you can use your router''s address. Alternatively,
    your **Internet Service Provider** (**ISP**) may provide some addresses, or you
    can use Google''s public DNS servers at the addresses `8.8.8.8` and `8.8.4.4`.
    These are also called **nameservers** in some systems.'
  id: totrans-298
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '**DNS服务器**：**域名服务**（**DNS**）服务器通过查找名称将名称转换为IP地址。通常，它们将已配置在您的路由器上，在这种情况下，您可以使用您的路由器的地址。或者，您的**互联网服务提供商**（**ISP**）可能会提供一些地址，或者您可以使用Google的公共DNS服务器的地址`8.8.8.8`和`8.8.4.4`。在某些系统中，这些也称为**名称服务器**。'
- en: 'For Windows, you can obtain this information by connecting to the internet
    and running the following command:'
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Windows，您可以通过连接到互联网并运行以下命令来获取此信息：
- en: '[PRE19]'
  id: totrans-300
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: 'Locate the active connection (usually called `Local Area Connection 1` or similar
    if you are using a wired connection, or if you are using Wi-Fi, it is called a
    wireless network connection) and find the information required, as follows:'
  id: totrans-301
  prefs: []
  type: TYPE_NORMAL
  zh: 找到活动连接（通常称为`本地连接1`或类似的，如果您使用有线连接，或者如果您使用Wi-Fi，则称为无线网络连接），并找到所需的信息，如下所示：
- en: '![](Images/a12947df-85ea-47f6-8a0d-ab3dde091efc.png)The ipconfig/all command
    shows useful information about your network settings'
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/a12947df-85ea-47f6-8a0d-ab3dde091efc.png)ipconfig/all命令显示有关网络设置的有用信息'
- en: 'For Linux and macOS X, you can obtain the required information with the following
    command (note that it is `ifconfig` rather than `ipconfig`):'
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Linux和macOS X，您可以使用以下命令获取所需的信息（请注意，这是`ifconfig`而不是`ipconfig`）：
- en: '[PRE20]'
  id: totrans-304
  prefs: []
  type: TYPE_PRE
  zh: '[PRE20]'
- en: 'The DNS servers are called nameservers and are usually listed in the `resolv.conf`
    file. You can use the `less` command as follows to view its contents (press Q
    to quit when you have finished viewing it):'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: DNS服务器称为名称服务器，并且通常列在`resolv.conf`文件中。您可以使用以下方式使用`less`命令查看其内容（完成查看后按Q退出）：
- en: '[PRE21]'
  id: totrans-306
  prefs: []
  type: TYPE_PRE
  zh: '[PRE21]'
- en: How to do it...
  id: totrans-307
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做到...
- en: To set the network interface settings, edit `/etc/network/interfaces` using
    the
  id: totrans-308
  prefs: []
  type: TYPE_NORMAL
  zh: 要设置网络接口设置，请使用编辑`/etc/network/interfaces`
- en: 'following code:'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 以下代码：
- en: '[PRE22]'
  id: totrans-310
  prefs: []
  type: TYPE_PRE
  zh: '[PRE22]'
- en: 'Now perform the following steps:'
  id: totrans-311
  prefs: []
  type: TYPE_NORMAL
  zh: 现在执行以下步骤：
- en: 'We can add the details for our particular network, the IP `address` number
    we want to allocate to it, the `netmask` address of the network, and the `gateway`
    address, as follows:'
  id: totrans-312
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们可以添加我们特定网络的详细信息，我们要为其分配的IP`地址`号，网络的`netmask`地址和`gateway`地址，如下所示：
- en: '[PRE23]'
  id: totrans-313
  prefs: []
  type: TYPE_PRE
  zh: '[PRE23]'
- en: Save and exit by pressing *Ctrl* + *X*, *Y*, and *Enter*.
  id: totrans-314
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按下*Ctrl* + *X*，*Y*和*Enter*保存并退出。
- en: 'To set the name servers for DNS, edit `/etc/resolv.conf` using the following
    code:'
  id: totrans-315
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要为DNS设置名称服务器，请使用以下代码编辑`/etc/resolv.conf`：
- en: '[PRE24]'
  id: totrans-316
  prefs: []
  type: TYPE_PRE
  zh: '[PRE24]'
- en: 'Add the addresses for your DNS servers as follows:'
  id: totrans-317
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按照以下方式添加DNS服务器的地址：
- en: '[PRE25]'
  id: totrans-318
  prefs: []
  type: TYPE_PRE
  zh: '[PRE25]'
- en: Save and exit by pressing *Ctrl* + *X*, *Y*, and *Enter*.
  id: totrans-319
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 按下*Ctrl* + *X*，*Y*和*Enter*保存并退出。
- en: There's more...
  id: totrans-320
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: You can configure the network settings by editing `cmdline.txt` in the `BOOT`
    partition and adding settings to the startup command line with `ip`.
  id: totrans-321
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以通过编辑`cmdline.txt`在`BOOT`分区中配置网络设置，并使用`ip`将设置添加到启动命令行。
- en: 'The `ip` option takes the following form:'
  id: totrans-322
  prefs: []
  type: TYPE_NORMAL
  zh: '`ip`选项采用以下形式：'
- en: '[PRE26]'
  id: totrans-323
  prefs: []
  type: TYPE_PRE
  zh: '[PRE26]'
- en: The `client-ip` option is the IP address you want to allocate to Raspberry Pi
  id: totrans-324
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`client-ip`选项是您要分配给树莓派的IP地址'
- en: The `gw-ip` option will set the gateway server address if you need to set it
    manually
  id: totrans-325
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`gw-ip`选项将手动设置网关服务器地址'
- en: The `netmask` option will directly set the `netmask` of the network
  id: totrans-326
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`netmask`选项将直接设置网络的`netmask`'
- en: The `hostname` option will allow you to change the default `raspberrypi` hostname
  id: totrans-327
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`hostname`选项将允许您更改默认的`raspberrypi`主机名'
- en: The `device` option allows you to specify a default network device if more than
    one network device is present
  id: totrans-328
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`device`选项允许您指定默认的网络设备（如果存在多个网络设备）'
- en: The `autoconf` option allows the automatic configuration to be switched on or
    off
  id: totrans-329
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`autoconf`选项允许自动配置打开或关闭'
- en: Networking directly to a laptop or computer
  id: totrans-330
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 直接连接到笔记本电脑或计算机
- en: 'It is possible to connect Raspberry Pi LAN port directly to a laptop or computer
    using a single network cable. This will create a local network link between the
    computers, allowing all the things you can do if connected to a normal network
    without the need for a hub or a router, including connection to the internet,
    if **Internet Connection Sharing** (**ICS**) is used, as follows:'
  id: totrans-331
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用单个网络电缆直接连接树莓派LAN端口到笔记本电脑或计算机。这将在计算机之间创建一个本地网络链接，允许您进行连接到正常网络时可以做的所有事情，而无需使用集线器或路由器，包括连接到互联网，如果使用**Internet
    Connection Sharing** (**ICS**)，如下所示：
- en: '![](Images/69bce998-225c-4d4e-ac1a-86b7b41ca09b.png)Make use of Raspberry Pi,
    with just a network cable, a standard imaged SD card, and power.'
  id: totrans-332
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/69bce998-225c-4d4e-ac1a-86b7b41ca09b.png)只需使用一个网络电缆，一个标准镜像的SD卡和电源即可使用树莓派。'
- en: ICS allows Raspberry Pi to connect to the internet through another computer.
    However, some additional configuration is required for the computers to communicate
    across the link, as Raspberry Pi does not automatically allocate its own IP address.
  id: totrans-333
  prefs: []
  type: TYPE_NORMAL
  zh: ICS允许树莓派通过另一台计算机连接到互联网。但是，需要对计算机进行一些额外的配置，以便它们在链接上进行通信，因为树莓派不会自动分配自己的IP地址。
- en: We will use the ICS to share a connection from another network link, such as
    a built-in Wi-Fi on a laptop. Alternatively, we can use a direct network link
    (refer to the *Direct network link* section under the *There's more...* section)
    if the internet is not required or if the computer has only a single network adapter.
  id: totrans-334
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用ICS来共享来自另一个网络链接的连接，例如笔记本电脑上的内置Wi-Fi。或者，如果不需要互联网或计算机只有一个网络适配器，我们可以使用直接网络链接（请参阅*There's
    more...*部分下的*Direct network link*部分）。
- en: Although this setup should work for most computers, some setups are more difficult
    than the others. For additional information, see [www.pihardware.com/guides/direct-network-connection](http://www.pihardware.com/guides/direct-network-connection).
  id: totrans-335
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管这个设置对大多数计算机都适用，但有些设置比其他设置更困难。有关更多信息，请参见[www.pihardware.com/guides/direct-network-connection](http://www.pihardware.com/guides/direct-network-connection)。
- en: Getting ready
  id: totrans-336
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: You will need Raspberry Pi with power and a standard network cable.
  id: totrans-337
  prefs: []
  type: TYPE_NORMAL
  zh: 您将需要带电源和标准网络电缆的树莓派。
- en: Raspberry Pi Model B LAN chip includes **Auto-MDIX** (**Automatic Medium-Dependent
    Interface Crossover**). Removing the need to use a special crossover cable (a
    special network cable wired so that the transmit lines connect to receive lines
    for direct network links), the chip will decide and change the setup as required
    automatically.
  id: totrans-338
  prefs: []
  type: TYPE_NORMAL
  zh: 树莓派Model B LAN芯片包括**Auto-MDIX**（**Automatic Medium-Dependent Interface Crossover**）。无需使用特殊的交叉电缆（一种特殊的网络电缆，布线使传输线连接到直接网络链接的接收线），芯片将根据需要自动决定和更改设置。
- en: It may also be helpful to have a keyboard and monitor available to perform additional
    testing, particularly if this is the first time you have tried this.
  id: totrans-339
  prefs: []
  type: TYPE_NORMAL
  zh: 如果这是您第一次尝试，可能还需要键盘和显示器来进行额外的测试。
- en: To ensure that you can restore your network settings to their original values,
    you should check whether it has a fixed IP address or the network is configured
    automatically.
  id: totrans-340
  prefs: []
  type: TYPE_NORMAL
  zh: 为了确保您可以将网络设置恢复到其原始值，您应该检查它是否具有固定的IP地址或网络是否自动配置。
- en: 'To check the network settings on Windows 10, perform these steps:'
  id: totrans-341
  prefs: []
  type: TYPE_NORMAL
  zh: 要检查Windows 10上的网络设置，请执行以下步骤：
- en: Open Settings from the start menu, then select Network and Internet, then Ethernet,
    and click on Change adapter options from the list of Related Settings.
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从开始菜单打开设置，然后选择网络和Internet，然后以太网，然后从相关设置列表中点击更改适配器选项。
- en: 'To check the network settings on Windows 7 and Vista, perform the following
    steps:'
  id: totrans-343
  prefs: []
  type: TYPE_NORMAL
  zh: 要检查Windows 7和Vista上的网络设置，请执行以下步骤：
- en: Open Network and Sharing Center from the Control Panel and click on Change adapter
    settings on the left-hand side.
  id: totrans-344
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从控制面板打开网络和共享中心，然后在左侧点击更改适配器设置。
- en: To check the network settings on Windows XP, open Network Connections from the
    Control Panel.
  id: totrans-345
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Windows XP上检查网络设置，从控制面板打开网络连接。
- en: 'Find the item that relates to your wired network adapter (by default, this
    is usually called Ethernet or Local Area Connection, as shown in the following
    screenshot):'
  id: totrans-346
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 找到与您的有线网络适配器相关的项目（默认情况下，通常称为以太网或本地连接，如下图所示）：
- en: '![](Images/8b2bf252-e5db-4372-8aa5-ca76a0055246.png)Locating your wired network
    connection'
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/8b2bf252-e5db-4372-8aa5-ca76a0055246.png)查找有线网络连接'
- en: 'Right-click on its icon and click on Properties. A dialog box will appear,
    as shown in this screenshot:'
  id: totrans-348
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 右键单击其图标，然后单击属性。将出现对话框，如此屏幕截图所示：
- en: '![](Images/4945c960-282d-462e-b9a7-acaec76a4cd3.png)Selecting the TCP/IP properties
    and checking the settings'
  id: totrans-349
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/4945c960-282d-462e-b9a7-acaec76a4cd3.png)选择TCP/IP属性并检查设置'
- en: Select the item called Internet Protocol (TCP/IP) or Internet Protocol Version
    4 (TCP/IPv4) if there are two versions (the other is Version 6), and click on
    the Properties button.
  id: totrans-350
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择名为Internet Protocol（TCP/IP）或Internet Protocol Version 4（TCP/IPv4）的项目（如果有两个版本（另一个是版本6），然后单击属性按钮。
- en: You can confirm that your network is set by using automatic settings or a specific
    IP address (if so, take note of this address and the remaining details as you
    may want to revert the settings at a later point).
  id: totrans-351
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以通过使用自动设置或特定IP地址来确认您的网络设置（如果是这样，请记下此地址和其余细节，因为您可能希望在以后的某个时间点恢复设置）。
- en: 'To check the network settings on Linux, perform the following steps:'
  id: totrans-352
  prefs: []
  type: TYPE_NORMAL
  zh: 要检查Linux上的网络设置，请执行以下步骤：
- en: 'Open the Network Settings dialog box and select Configure Interface. Refer
    to the following screenshot:'
  id: totrans-353
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开网络设置对话框，然后选择配置接口。请参考以下屏幕截图：
- en: '![](Images/73215059-cead-4ec9-ab5b-67042c8ae2ea.png)Linux Network Settings
    dialog box'
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/73215059-cead-4ec9-ab5b-67042c8ae2ea.png)Linux网络设置对话框'
- en: If any settings are manually set, ensure you take note of them so that you can
    restore them later if you want.
  id: totrans-355
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果有任何手动设置，请确保记下它们，以便以后可以恢复它们。
- en: 'To check the network settings on macOS X, perform the following steps:'
  id: totrans-356
  prefs: []
  type: TYPE_NORMAL
  zh: 要检查macOS X上的网络设置，请执行以下步骤：
- en: Open System Preferences and click on Networks. You can then confirm whether
    the IP address is allocated automatically (using DHCP) or not.
  id: totrans-357
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开系统偏好设置，然后单击网络。然后您可以确认IP地址是否自动分配（使用DHCP）。
- en: 'Ensure that if any settings are manually set you take note of them so you can
    restore them later if you want to. Refer to the following screenshot:'
  id: totrans-358
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保如果有任何手动设置，您记下它们，以便以后可以恢复它们。请参考以下屏幕截图：
- en: '![](Images/3f602406-f5b7-4a0e-a5c3-f1a6e094dd04.png)OS X Network Settings dialog
    box'
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/3f602406-f5b7-4a0e-a5c3-f1a6e094dd04.png)OS X网络设置对话框'
- en: If you just need to access or control Raspberry Pi without an internet connection,
    refer to the *Direct network link* section in the *There's more...*section.
  id: totrans-360
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您只需要访问或控制树莓派而无需互联网连接，请参考*直接网络链接*部分中的*更多信息*部分。
- en: How to do it...
  id: totrans-361
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做...
- en: First, we need to enable ICS on our network devices. In this case, we will be
    sharing the internet, which is available on Wireless Network Connection through
    the Ethernet connection to Raspberry Pi.
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们需要在我们的网络设备上启用ICS。在这种情况下，我们将通过以太网连接将可用于无线网络连接的互联网共享到树莓派。
- en: 'For Windows, perform these steps:'
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Windows，执行以下步骤：
- en: Return to the list of network adapters, right-click on the connection that links
  id: totrans-364
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 返回到网络适配器列表，右键单击链接
- en: 'to the internet (in this case, the WiFi or Wireless Network Connection device),
    and click on Properties:'
  id: totrans-365
  prefs: []
  type: TYPE_NORMAL
  zh: 到互联网（在本例中，WiFi或无线网络连接设备），然后单击属性：
- en: '![](Images/26960d5e-bea7-4a84-add9-d377441017d6.png)Locating your wired network
    connection'
  id: totrans-366
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/26960d5e-bea7-4a84-add9-d377441017d6.png)查找有线网络连接'
- en: 'At the top of the window, select the second tab (in Windows XP, it is called
    Advanced; in Windows 7 and Windows 10, it is called Sharing), as shown in the
    following screenshot:'
  id: totrans-367
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在窗口顶部，选择第二个选项卡（在Windows XP中称为高级；在Windows 7和Windows 10中称为共享），如下屏幕截图所示：
- en: '![](Images/d786b0e6-9517-4a54-b1f5-da1fc3533f2b.png)Selecting the TCP/IP properties
    and noting the allocated IP address'
  id: totrans-368
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/d786b0e6-9517-4a54-b1f5-da1fc3533f2b.png)选择TCP/IP属性并记下分配的IP地址'
- en: 'In the Internet Connection Sharing section, check the box for Allow other network
    users to connect through this computer''s Internet connection (if present, use
    the drop-down box to select the Home networking connection: option as Ethernet
    or Local Area Connection). Click on OK and confirm whether you previously had
    a fixed IP address set for Local Area Connection.'
  id: totrans-369
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在Internet Connection Sharing部分，选中允许其他网络用户通过此计算机的Internet连接连接（如果有，请使用下拉框选择家庭网络连接：选项为以太网或本地连接）。单击确定并确认以前是否为本地连接设置了固定IP地址。
- en: 'For macOS X, to enable the ICS, perform the following steps:'
  id: totrans-370
  prefs: []
  type: TYPE_NORMAL
  zh: 对于macOS X，执行以下步骤启用ICS：
- en: Click on System Preferences and then click on Sharing.
  id: totrans-371
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击系统偏好设置，然后单击共享。
- en: Click on Internet Sharing and select the connection from which we want to share
    the internet (in this case, it will be the Wi-Fi AirPort). Then select the connection
    that we will connect Raspberry Pi to (in this case, Ethernet).
  id: totrans-372
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击Internet共享，然后选择要共享互联网的连接（在本例中，将是Wi-Fi AirPort）。然后选择我们将连接树莓派的连接（在本例中，是以太网）。
- en: 'For Linux to enable the ICS, perform the following steps:'
  id: totrans-373
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Linux启用ICS，执行以下步骤：
- en: From the System menu, click on Preferences and then on Network Connections.
    Select the connection you want to share (in this case, Wireless) and click on
    Edit or Configure. In the IPv4 Settings tab, change the Method option to Shared
    to other computers.
  id: totrans-374
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从系统菜单中，单击首选项，然后单击网络连接。选择要共享的连接（在本例中为无线），然后单击编辑或配置。在IPv4设置选项卡中，将方法选项更改为共享到其他计算机。
- en: The IP address of the network adapter will be the **Gateway IP** address to
    be used on Raspberry Pi, and will be assigned an IP address within the same range
    (it will all match, except the last number). For instance, if the computer's wired
    connection now has `192.168.137.1`, the Gateway IP of Raspberry Pi will be `192.168.137.1`
    and its own IP address might be set to `192.168.137.10`.
  id: totrans-375
  prefs: []
  type: TYPE_NORMAL
  zh: 网络适配器的IP地址将是用于树莓派的**网关IP**地址，并将分配一个在相同范围内的IP地址（它们将匹配，除了最后一个数字）。例如，如果计算机的有线连接现在为`192.168.137.1`，则树莓派的网关IP将为`192.168.137.1`，其自己的IP地址可能设置为`192.168.137.10`。
- en: Fortunately, thanks to updates in the operating system, Raspbian will now automatically
    allocate a suitable IP address to join the network and set the gateway appropriately.
    However, unless we have a screen attached to Raspberry Pi or scan for devices
    on our network, we do not know what IP address Raspberry PI has given itself.
  id: totrans-376
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，由于操作系统的更新，Raspbian现在将自动为自己分配一个合适的IP地址以加入网络，并适当设置网关。但是，除非我们将屏幕连接到树莓派或扫描我们的网络上的设备，否则我们不知道树莓派给自己分配了什么IP地址。
- en: Fortunately (as mentioned in the *Networking and connecting your Raspberry Pi
    to the internet via the LAN connector* recipe in the *There's more...* section),
    Apple's **Bonjour** software will automatically ensure hostnames on the network
    are correctly registered. As stated previously, if you have a Mac OS X, you will
    have Bonjour running already. On Windows, you can either install iTunes, or you
    can install it separately (available from [https://support.apple.com/kb/DL999](https://support.apple.com/kb/DL999)).
    By default, the hostname **raspberrypi** can be used.
  id: totrans-377
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是（如在*网络和通过LAN连接将树莓派连接到互联网*食谱中的*还有更多...*部分中提到的），苹果的**Bonjour**软件将自动确保网络上的主机名正确注册。如前所述，如果您使用的是Mac
    OS X，则已经运行了Bonjour。在Windows上，您可以安装iTunes，或者您可以单独安装它（可从[https://support.apple.com/kb/DL999](https://support.apple.com/kb/DL999)获取）。默认情况下，可以使用主机名**raspberrypi**。
- en: 'We are now ready to test the new connection, as follows:'
  id: totrans-378
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们准备测试新连接，如下所示：
- en: Connect the network cable to Raspberry Pi and the computer's network port, and
    then power up Raspberry Pi, ensuring that you have re-inserted the SD card if
    you previously removed it. To reboot Raspberry Pi, if you edited the file there,
    use `sudo reboot` to restart it.
  id: totrans-379
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 将网络电缆连接到树莓派和计算机的网络端口，然后启动树莓派，确保您已重新插入SD卡（如果之前已将其拔出）。要重新启动树莓派，如果您在那里编辑了文件，请使用`sudo
    reboot`来重新启动它。
- en: Allow a minute or two for Raspberry Pi to fully power up. We can now test the
    connection.
  id: totrans-380
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 等待一两分钟，让树莓派完全启动。现在我们可以测试连接了。
- en: 'From the connected laptop or computer, test the connection by pinging with
    the hostname of Raspberry Pi, as shown in the following command (on Linux or OS
    X, add `-c 4` to limit to four messages or press Ctrl + C to exit):'
  id: totrans-381
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从连接的笔记本电脑或计算机上，通过ping树莓派的主机名来测试连接，如下命令所示（在Linux或OS X上，添加`-c 4`以限制为四条消息，或按Ctrl
    + C退出）：
- en: '[PRE27]'
  id: totrans-382
  prefs: []
  type: TYPE_PRE
  zh: '[PRE27]'
- en: Hopefully, you will find you have a working connection and receive replies from
    the
  id: totrans-383
  prefs: []
  type: TYPE_NORMAL
  zh: 希望您会发现您已经建立了一个工作连接，并从连接的计算机接收到了回复
- en: Raspberry Pi.
  id: totrans-384
  prefs: []
  type: TYPE_NORMAL
  zh: 树莓派。
- en: If you have a keyboard and a screen connected to Raspberry Pi, you can perform
    the
  id: totrans-385
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您连接了键盘和屏幕到树莓派，您可以执行
- en: 'following steps:'
  id: totrans-386
  prefs: []
  type: TYPE_NORMAL
  zh: 以下步骤：
- en: 'You can ping the computer in return (for example, `192.168.137.1`) from Raspberry
    Pi Terminal as follows:'
  id: totrans-387
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以通过以下方式在树莓派终端上对计算机进行返回ping（例如，`192.168.137.1`）：
- en: '[PRE28]'
  id: totrans-388
  prefs: []
  type: TYPE_PRE
  zh: '[PRE28]'
- en: 'You can test the link to the internet by using `ping` to connect to a well-known
    website as follows, assuming you do not access the internet through a proxy server:'
  id: totrans-389
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以通过使用`ping`连接到一个知名网站来测试与互联网的连接，假设您不是通过代理服务器访问互联网：
- en: '[PRE29]'
  id: totrans-390
  prefs: []
  type: TYPE_PRE
  zh: '[PRE29]'
- en: If all goes well, you will have full internet available through your computer
    to Raspberry Pi, allowing you to browse the web as well as update and install
    new software.
  id: totrans-391
  prefs: []
  type: TYPE_NORMAL
  zh: 如果一切顺利，您将可以通过计算机完全访问互联网，从而可以浏览网页以及更新和安装新软件。
- en: 'If the connection fails, perform the following steps:'
  id: totrans-392
  prefs: []
  type: TYPE_NORMAL
  zh: 如果连接失败，请执行以下步骤：
- en: Repeat the process, ensuring that the first three sets of numbers match with
    Raspberry Pi and the network adapter IP addresses.
  id: totrans-393
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重复这个过程，确保前三组数字与树莓派和网络适配器的IP地址匹配。
- en: 'You can also check that when Raspberry Pi powers up, the correct IP address
    is being set using the following command:'
  id: totrans-394
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您还可以通过以下命令检查树莓派启动时是否设置了正确的IP地址：
- en: '[PRE30]'
  id: totrans-395
  prefs: []
  type: TYPE_PRE
  zh: '[PRE30]'
- en: Check your firewall settings to ensure your firewall is not blocking internal
    network connections.
  id: totrans-396
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查防火墙设置，确保防火墙不会阻止内部网络连接。
- en: How it works...
  id: totrans-397
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: When we enable ICS on the primary computer, the operating system will automatically
    allocate a new IP address to the computer. Once connected and powered up, Raspberry
    Pi will set itself to a compatible IP address and use the primary computer IP
    address as an Internet Gateway.
  id: totrans-398
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们在主要计算机上启用ICS时，操作系统将自动为计算机分配一个新的IP地址。连接并启动后，树莓派将自动设置为兼容的IP地址，并将主要计算机的IP地址用作Internet网关。
- en: By using Apple Bonjour, we are able to use `raspberrypi` hostname to connect
    to Raspberry Pi from the connected computer.
  id: totrans-399
  prefs: []
  type: TYPE_NORMAL
  zh: 通过使用Apple Bonjour，我们能够使用`raspberrypi`主机名从连接的计算机连接到树莓派。
- en: Finally, we check whether the computer can communicate over the direct network
    link to Raspberry Pi, back the other way, and also through to the internet.
  id: totrans-400
  prefs: []
  type: TYPE_NORMAL
  zh: 最后，我们检查计算机是否可以通过直接网络链路与树莓派进行通信，反之亦然，并且通过互联网进行通信。
- en: There's more...
  id: totrans-401
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'If you do not require the internet on Raspberry Pi, or your computer has only
    a single network adapter, you can still connect the computers together through
    a direct network link. Refer to the following diagram:'
  id: totrans-402
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您不需要在树莓派上使用互联网，或者您的计算机只有一个网络适配器，您仍然可以通过直接网络链路将计算机连接在一起。请参考以下图表：
- en: '![](Images/a60939c0-0e9e-4de1-9b1e-d085ca1f4b6c.png)Connecting and using Raspberry
    Pi with just a network cable, a standard imaged SD card, and power'
  id: totrans-403
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/a60939c0-0e9e-4de1-9b1e-d085ca1f4b6c.png)只使用网络电缆、标准镜像SD卡和电源连接和使用树莓派'
- en: Direct network link
  id: totrans-404
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 直接网络链路
- en: For a network link to work between two computers, they need to be using the
    same address range. The allowable address range is determined by the subnet mask
    (for example, `255.255.0.0` or `255.255.255.0` would mean all IP addresses should
    be the same except for the last two, or just the last number in the IP address;
    otherwise, they will be filtered).
  id: totrans-405
  prefs: []
  type: TYPE_NORMAL
  zh: 要使两台计算机之间的网络链接正常工作，它们需要使用相同的地址范围。可允许的地址范围由子网掩码确定（例如，`255.255.0.0`或`255.255.255.0`表示所有IP地址应该相同，除了最后两个，或者只是IP地址中的最后一个数字；否则，它们将被过滤）。
- en: To use a direct link without enabling ICS, check the IP settings of the adapter
    you are
  id: totrans-406
  prefs: []
  type: TYPE_NORMAL
  zh: 要在不启用ICS的情况下使用直接链接，请检查您正在使用的适配器的IP设置
- en: going to connect to and determine whether it is automatically allocated or fixed
    to a
  id: totrans-407
  prefs: []
  type: TYPE_NORMAL
  zh: 要连接到的IP地址，并确定它是自动分配还是固定的
- en: specific IP address.
  id: totrans-408
  prefs: []
  type: TYPE_NORMAL
  zh: 特定的IP地址。
- en: Most PCs connected directly to another computer will allocate an IP address
    in the range `169.254.X.X` (with a subnet mask of `255.255.0.0`). However, we
    must ensure that the network adaptor is set to Obtain an IP address automatically.
  id: totrans-409
  prefs: []
  type: TYPE_NORMAL
  zh: 直接连接到另一台计算机的大多数PC将在`169.254.X.X`范围内分配IP地址（子网掩码为`255.255.0.0`）。但是，我们必须确保网络适配器设置为自动获取IP地址。
- en: For Raspberry Pi to be able to communicate through the direct link, it needs
    to have an IP address in the same address range, `169.254.X.X`. As mentioned before,
    Raspberry Pi will automatically give itself a suitable IP address and connect
    to the network.
  id: totrans-410
  prefs: []
  type: TYPE_NORMAL
  zh: 为了让Raspberry Pi能够通过直接链接进行通信，它需要在相同的地址范围`169.254.X.X`内具有IP地址。如前所述，Raspberry Pi将自动为自己分配一个合适的IP地址并连接到网络。
- en: Therefore, assuming we have Apple Bonjour (mentioned previously), we only need
    to know the hostname given to Raspberry Pi (`raspberrypi`).
  id: totrans-411
  prefs: []
  type: TYPE_NORMAL
  zh: 因此，假设我们有Apple Bonjour（前面提到过），我们只需要知道分配给Raspberry Pi的主机名（`raspberrypi`）。
- en: See also
  id: totrans-412
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 另请参阅
- en: If you don't have a keyboard or screen connected to Raspberry Pi, you can use
    this network link to remotely access Raspberry Pi just as you would on a normal
    network (just use the new IP address you have set for the connection). Refer to
    the *Connecting remotely to Raspberry Pi over the network using VNC* and *Connecting
    remotely to Raspberry Pi over the network using SSH (and X11 Forwarding)* recipes.
  id: totrans-413
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您没有键盘或屏幕连接到Raspberry Pi，您可以使用此网络链接远程访问Raspberry Pi，就像在普通网络上一样（只需使用您为连接设置的新IP地址）。参考*通过VNC远程连接到Raspberry
    Pi*和*通过SSH（和X11转发）远程连接到Raspberry Pi*。
- en: There is lots of additional information available on my website, [https://pihw.wordpress.com/guides/direct-network-connection](https://pihw.wordpress.com/guides/direct-network-connection),
    including additional troubleshooting tips and several other ways to connect to
    your Raspberry Pi without needing a dedicated screen and keyboard.
  id: totrans-414
  prefs: []
  type: TYPE_NORMAL
  zh: 我的网站[https://pihw.wordpress.com/guides/direct-network-connection](https://pihw.wordpress.com/guides/direct-network-connection)上提供了大量额外信息，包括额外的故障排除提示和连接到Raspberry
    Pi的其他几种方式，而无需专用屏幕和键盘。
- en: Networking and connecting your Raspberry Pi to the internet via a USB Wi-Fi
    dongle
  id: totrans-415
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过USB Wi-Fi dongle进行网络连接和连接Raspberry Pi到互联网
- en: By adding a **USB Wi-Fi dongle** to Raspberry Pi's USB port, even models without
    built-in Wi-Fi can connect to and use the Wi-Fi network.
  id: totrans-416
  prefs: []
  type: TYPE_NORMAL
  zh: 通过在Raspberry Pi的USB端口添加**USB Wi-Fi dongle**，即使没有内置Wi-Fi的型号也可以连接并使用Wi-Fi网络。
- en: Getting ready
  id: totrans-417
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: You will need to obtain a suitable USB Wi-Fi dongle, and, in some cases, you
    may require a powered USB hub (this will depend on the hardware version of Raspberry
    Pi you have and the quality of your power supply). General suitability of USB
    Wi-Fi dongles will vary depending on the chipset that is used inside and the level
    of Linux support available. You may find that some USB Wi-Fi dongles will work
    without installing additional drivers (in which case you can jump to configuring
    it for the wireless network).
  id: totrans-418
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要获取一个合适的USB Wi-Fi dongle，并且在某些情况下，您可能需要一个有源的USB集线器（这将取决于您拥有的Raspberry Pi的硬件版本和您的电源供应的质量）。USB
    Wi-Fi dongles的一般适用性将取决于内部使用的芯片组以及可用的Linux支持水平。您可能会发现一些USB Wi-Fi dongles可以在不安装额外驱动程序的情况下工作（在这种情况下，您可以跳转到为无线网络配置它）。
- en: A list of supported Wi-Fi adapters is available at [http://elinux.org/RPi_USB_Wi-Fi_Adapters](http://elinux.org/RPi_USB_Wi-Fi_Adapters).
  id: totrans-419
  prefs: []
  type: TYPE_NORMAL
  zh: 支持的Wi-Fi适配器列表可在[http://elinux.org/RPi_USB_Wi-Fi_Adapters](http://elinux.org/RPi_USB_Wi-Fi_Adapters)找到。
- en: You will need to ensure that your Wi-Fi adapter is also compatible with your
    intended network; for example, it supports the same types of signals **802.11bgn**
    and the encryptions **WEP**, **WPA**, and **WPA2** (although most networks are
    backward compatible).
  id: totrans-420
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要确保您的Wi-Fi适配器也与您打算连接的网络兼容；例如，它支持相同类型的信号**802.11bgn**和加密**WEP**、**WPA**和**WPA2**（尽管大多数网络都是向后兼容的）。
- en: 'You will also need the following details of your network:'
  id: totrans-421
  prefs: []
  type: TYPE_NORMAL
  zh: 您还需要了解您网络的以下详细信息：
- en: '**Service set identifier (SSID)**: This is the name of your Wi-Fi network and
    should be visible if you use the following command:'
  id: totrans-422
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 服务集标识符（SSID）：这是您的Wi-Fi网络的名称，如果您使用以下命令，应该是可见的：
- en: '[PRE31]'
  id: totrans-423
  prefs: []
  type: TYPE_PRE
  zh: '[PRE31]'
- en: '**Encryption type and key**: This value will be None, WEP, WPA, or WPA2, and
    the key will be the code you normally enter when you connect your phone or laptop
    to the wireless network (sometimes, it is printed on the router).'
  id: totrans-424
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 加密类型和密钥：此值将为None、WEP、WPA或WPA2，密钥将是您通常在连接手机或笔记本电脑到无线网络时输入的代码（有时它会被打印在路由器上）。
- en: 'You will require a working internet connection (that is, wired Ethernet) to
    download the required drivers. Otherwise, you may be able to locate the required
    firmware files (they will be the `.deb` files) and copy them to Raspberry Pi (that
    is, via a USB flash drive; the drive should be automatically mounted if you are
    running in desktop mode). Copy the file to a suitable location and install it,
    using the following command:'
  id: totrans-425
  prefs: []
  type: TYPE_NORMAL
  zh: 您将需要一个工作的互联网连接（即有线以太网）来下载所需的驱动程序。否则，您可以找到所需的固件文件（它们将是`.deb`文件）并将它们复制到Raspberry
    Pi（即通过USB闪存驱动器；如果您在桌面模式下运行，驱动器应该会自动挂载）。将文件复制到适当的位置并安装它，使用以下命令：
- en: '[PRE32]'
  id: totrans-426
  prefs: []
  type: TYPE_PRE
  zh: '[PRE32]'
- en: How to do it...
  id: totrans-427
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'This task has two stages: first, we identify and install firmware for the Wi-Fi
    adapter, and then we need to configure it for the wireless network.'
  id: totrans-428
  prefs: []
  type: TYPE_NORMAL
  zh: 此任务有两个阶段：首先，我们识别并安装Wi-Fi适配器的固件，然后我们需要为无线网络配置它。
- en: We will try to identify the chipset of your Wi-Fi adapter (the part that handles
    the connection); this may not match the actual manufacturer of the device.
  id: totrans-429
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将尝试识别您的Wi-Fi适配器的芯片组（处理连接的部分）；这可能与设备的实际制造商不匹配。
- en: 'An approximate list of supported firmware can be found with this command:'
  id: totrans-430
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用此命令找到支持的固件的近似列表：
- en: '[PRE33]'
  id: totrans-431
  prefs: []
  type: TYPE_PRE
  zh: '[PRE33]'
- en: 'This will produce results similar to the following output (disregarding any
    results without `firmware` in the package title):'
  id: totrans-432
  prefs: []
  type: TYPE_NORMAL
  zh: 这将产生类似以下输出的结果（忽略任何没有`firmware`在软件包标题中的结果）：
- en: '[PRE34]'
  id: totrans-433
  prefs: []
  type: TYPE_PRE
  zh: '[PRE34]'
- en: 'To find out the chipset of your wireless adapter, plug the Wi-Fi-adapter into
    Raspberry Pi, and from the terminal, run the following command:'
  id: totrans-434
  prefs: []
  type: TYPE_NORMAL
  zh: 要找出无线适配器的芯片组，将Wi-Fi适配器插入树莓派，然后从终端运行以下命令：
- en: '[PRE35]'
  id: totrans-435
  prefs: []
  type: TYPE_PRE
  zh: '[PRE35]'
- en: This command stitches together two commands into one. First, `dmesg` displays
    the message buffer of the kernel (this is an internal record of system events
    that have occurred since power on, such as detected USB devices). You can try
    the command on its own to observe the complete output.
  id: totrans-436
  prefs: []
  type: TYPE_NORMAL
  zh: 这个命令将两个命令合并成一个。首先，`dmesg`显示内核的消息缓冲区（这是自动开机以来发生的系统事件的内部记录，比如检测到的USB设备）。您可以尝试单独使用该命令来观察完整的输出。
- en: The `|` (pipe) sends the output to the `grep` command; `grep 'Product:|Manufacturer'`
    checks it and only returns lines that contain `Product` or `Manufacturer` (so
    we should get a summary of any items that are listed as `Product` and `Manufacturer`).
    If you don't find anything or want to see all your USB devices, try the `grep
    'usb'` command instead.
  id: totrans-437
  prefs: []
  type: TYPE_NORMAL
  zh: '`|`（管道）将输出发送到`grep`命令；`grep ''Product:|Manufacturer''`检查它，并且只返回包含`Product`或`Manufacturer`的行（因此我们应该得到列为`Product`和`Manufacturer`的任何项目的摘要）。如果您找不到任何内容，或者想要查看所有USB设备，请尝试`grep
    ''usb''`命令。'
- en: 'This should return something similar to the following output—in this case,
    I''ve got a `ZyXEL` device, which has a `ZyDAS` chipset (a quick Google search
    reveals that `zd1211-firmware` is for `ZyDAS` devices):'
  id: totrans-438
  prefs: []
  type: TYPE_NORMAL
  zh: 这应该返回类似于以下输出——在这种情况下，我有一个`ZyXEL`设备，它有一个`ZyDAS`芯片组（快速的谷歌搜索显示`zd1211-firmware`适用于`ZyDAS`设备）：
- en: '[PRE36]'
  id: totrans-439
  prefs: []
  type: TYPE_PRE
  zh: '[PRE36]'
- en: 'Once you have identified your device and the correct firmware, you can install
    it as you would any other package available through `apt-get` (where `zd1211-firmware`
    can be replaced with your required firmware). This is shown in the following command:'
  id: totrans-440
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦您确定了您的设备和正确的固件，您可以像安装其他通过`apt-get`可用的软件包一样安装它（其中`zd1211-firmware`可以替换为您需要的固件）。如下所示：
- en: '[PRE37]'
  id: totrans-441
  prefs: []
  type: TYPE_PRE
  zh: '[PRE37]'
- en: 'Remove and reinsert the USB Wi-Fi dongle to allow it to be detected and the
    drivers loaded. We can now test whether the new adapter is correctly installed
    with `ifconfig`. The output is shown as follows:'
  id: totrans-442
  prefs: []
  type: TYPE_NORMAL
  zh: 拔出并重新插入USB Wi-Fi dongle，以便它被检测到并加载驱动程序。我们现在可以使用`ifconfig`测试新适配器是否正确安装。输出如下所示：
- en: '[PRE38]'
  id: totrans-443
  prefs: []
  type: TYPE_PRE
  zh: '[PRE38]'
- en: The command will show the network adapters present on the system. For Wi-Fi,
    this is usually `wlan0` or `wlan1` and so on if you have installed more than one.
    If not, double-check the selected firmware and perhaps try an alternative or check
    on the site for troubleshooting tips.
  id: totrans-444
  prefs: []
  type: TYPE_NORMAL
  zh: 该命令将显示系统上存在的网络适配器。对于Wi-Fi，通常是`wlan0`或`wlan1`，如果您安装了多个，则会有更多。如果没有，请仔细检查所选的固件，或者尝试替代方案，或者在网站上查看故障排除提示。
- en: 'Once we have the firmware installed for the Wi-Fi adapter, we will need to
    configure it for the network we wish to connect to. We can use the GUI as shown
    in the previous recipe, or we can manually configure it through the Terminal,
    as shown in the following steps:'
  id: totrans-445
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦我们安装了Wi-Fi适配器的固件，我们就需要为我们希望连接的网络进行配置。我们可以使用GUI，就像前面的示例中所示，或者我们可以通过终端手动配置，就像以下步骤中所示：
- en: 'We will need to add the wireless adapter to the list of network interfaces,
    which is set in `/etc/network/interfaces`, as follows:'
  id: totrans-446
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们需要将无线适配器添加到网络接口列表中，该列表设置在`/etc/network/interfaces`中，如下所示：
- en: '[PRE39]'
  id: totrans-447
  prefs: []
  type: TYPE_PRE
  zh: '[PRE39]'
- en: 'Using the previous `wlan#` value in place of `wlan0` if required, add the following
    command:'
  id: totrans-448
  prefs: []
  type: TYPE_NORMAL
  zh: 使用以前的`wlan#`值替换`wlan0`，如果需要，添加以下命令：
- en: '[PRE40]'
  id: totrans-449
  prefs: []
  type: TYPE_PRE
  zh: '[PRE40]'
- en: When the changes have been made, save and exit by pressing *Ctrl* + *X*, *Y*,
    and *Enter*.
  id: totrans-450
  prefs: []
  type: TYPE_NORMAL
  zh: 更改后，按*Ctrl* + *X*，*Y*和*Enter*保存并退出。
- en: 'We will now store the Wi-Fi network settings of our network in the `wpa_supplicant.conf`
    file (don''t worry if your network doesn''t use the `wpa` encryption; it is just
    the default name for the file):'
  id: totrans-451
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 我们现在将我们网络的Wi-Fi网络设置存储在`wpa_supplicant.conf`文件中（如果您的网络不使用`wpa`加密，不用担心；这只是文件的默认名称）：
- en: '[PRE41]'
  id: totrans-452
  prefs: []
  type: TYPE_PRE
  zh: '[PRE41]'
- en: 'It should include the following:'
  id: totrans-453
  prefs: []
  type: TYPE_NORMAL
  zh: 它应该包括以下内容：
- en: '[PRE42]'
  id: totrans-454
  prefs: []
  type: TYPE_PRE
  zh: '[PRE42]'
- en: 'The network settings can be written within this file as follows (that is, if
    the SSID is set as `theSSID`):'
  id: totrans-455
  prefs: []
  type: TYPE_NORMAL
  zh: 网络设置可以写入此文件，如下所示（即，如果SSID设置为`theSSID`）：
- en: 'If no encryption is used, use this code:'
  id: totrans-456
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如果不使用加密，请使用此代码：
- en: '[PRE43]'
  id: totrans-457
  prefs: []
  type: TYPE_PRE
  zh: '[PRE43]'
- en: 'With the `WEP` encryption (that is, if the `WEP` key is set as `theWEPkey`),
    use the following code:'
  id: totrans-458
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
  zh: 使用`WEP`加密（即，如果`WEP`密钥设置为`theWEPkey`），使用以下代码：
- en: '[PRE44]'
  id: totrans-459
  prefs: []
  type: TYPE_PRE
  zh: '[PRE44]'
- en: 'For the `WPA` or `WPA2` encryption (that is, if the `WPA` key is set as `theWPAkey`),
    use the following code:'
  id: totrans-460
  prefs:
  - PREF_UL
  - PREF_UL
  type: TYPE_NORMAL
  zh: 对于`WPA`或`WPA2`加密（即，如果`WPA`密钥设置为`theWPAkey`），使用以下代码：
- en: '[PRE45]'
  id: totrans-461
  prefs: []
  type: TYPE_PRE
  zh: '[PRE45]'
- en: 'You can enable the adapter with the following command (again, replace `wlan0`
    if required):'
  id: totrans-462
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您可以使用以下命令启用适配器（如果需要，请再次替换`wlan0`）：
- en: '[PRE46]'
  id: totrans-463
  prefs: []
  type: TYPE_PRE
  zh: '[PRE46]'
- en: 'Use the following command to list the wireless network connections:'
  id: totrans-464
  prefs: []
  type: TYPE_NORMAL
  zh: 使用以下命令列出无线网络连接：
- en: '[PRE47]'
  id: totrans-465
  prefs: []
  type: TYPE_PRE
  zh: '[PRE47]'
- en: 'You should see your wireless network connected with your SSID listed, as follows:'
  id: totrans-466
  prefs: []
  type: TYPE_NORMAL
  zh: 您应该看到您的无线网络连接，并列出您的SSID，如下所示：
- en: '[PRE48]'
  id: totrans-467
  prefs: []
  type: TYPE_PRE
  zh: '[PRE48]'
- en: If not, adjust your settings and use `sudo ifdown wlan0` to switch off the network
    interface, and then `sudo ifup wlan0` to switch it back on. This will confirm
    that you have successfully connected to your Wi-Fi network.
  id: totrans-468
  prefs: []
  type: TYPE_NORMAL
  zh: 如果不是，请调整您的设置，并使用`sudo ifdown wlan0`关闭网络接口，然后使用`sudo ifup wlan0`打开它。这将确认您已成功连接到您的Wi-Fi网络。
- en: Finally, we will need to check whether we have access to the internet. Here,
    we have assumed that the network is automatically configured with DHCP and no
    proxy server is used. If not, refer to the *Connecting to the internet through
    a proxy server* recipe.
  id: totrans-469
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，我们需要检查我们是否可以访问互联网。在这里，我们假设网络已自动配置为DHCP，并且不使用代理服务器。如果不是，请参考*通过代理服务器连接到互联网*的示例。
- en: 'Unplug the wired network cable, if still connected, and see whether you can
    ping the Raspberry Pi website, as follows:'
  id: totrans-470
  prefs: []
  type: TYPE_NORMAL
  zh: 拔掉有线网络电缆（如果仍然连接），然后查看是否可以ping通树莓派网站，如下所示：
- en: '[PRE49]'
  id: totrans-471
  prefs: []
  type: TYPE_PRE
  zh: '[PRE49]'
- en: If you want to quickly know the IP address currently in use by Raspberry Pi,
    you can use `hostname -I`, or to find out which adapter is connected to which
    IP address, use `ifconfig`.
  id: totrans-472
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想快速知道树莓派当前使用的IP地址，可以使用`hostname -I`，或者要找出哪个适配器连接到哪个IP地址，可以使用`ifconfig`。
- en: There's more...
  id: totrans-473
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: The Model A version of Raspberry Pi does not have a built-in network port, so
    to get a network connection, a USB network adapter will have to be added (either
    a Wi-Fi dongle, as explained in the preceding section, or a LAN-to-USB adapter,
    as described in the following section).
  id: totrans-474
  prefs: []
  type: TYPE_NORMAL
  zh: Raspberry Pi的A型版本没有内置的网络端口，因此为了获得网络连接，必须添加USB网络适配器（可以是Wi-Fi dongle，如前一节所述，也可以是LAN-to-USB适配器，如下一节所述）。
- en: Using USB wired network adapters
  id: totrans-475
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用USB有线网络适配器
- en: Just like USB Wi-Fi, the adapter support will depend on the chipset used and
    the drivers available. Unless the device comes with Linux drivers, you may have
    to search the internet to obtain the suitable Debian Linux drivers.
  id: totrans-476
  prefs: []
  type: TYPE_NORMAL
  zh: 就像USB Wi-Fi一样，适配器的支持取决于所使用的芯片组和可用的驱动程序。除非设备配备了Linux驱动程序，否则您可能需要在互联网上搜索以获取适用的Debian
    Linux驱动程序。
- en: 'If you find a suitable `.deb` file, you can install it with the following command:'
  id: totrans-477
  prefs: []
  type: TYPE_NORMAL
  zh: 如果找到合适的`.deb`文件，可以使用以下命令进行安装：
- en: '[PRE50]'
  id: totrans-478
  prefs: []
  type: TYPE_PRE
  zh: '[PRE50]'
- en: Also, check using `ifconfig`, as some devices will be supported automatically,
    appear as `eth1` (or `eth0` on Model A), and be ready for use immediately.
  id: totrans-479
  prefs: []
  type: TYPE_NORMAL
  zh: 还可以使用`ifconfig`进行检查，因为一些设备将自动受支持，显示为`eth1`（或者在A型上为`eth0`），并且可以立即使用。
- en: Connecting to the internet through a proxy server
  id: totrans-480
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过代理服务器连接到互联网
- en: Some networks, such as ones within workplaces or schools, often require you
    to connect to the internet through a proxy server.
  id: totrans-481
  prefs: []
  type: TYPE_NORMAL
  zh: 一些网络，例如工作场所或学校内的网络，通常要求您通过代理服务器连接到互联网。
- en: Getting ready
  id: totrans-482
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: You will need the address of the proxy server you are trying to connect to,
    including the username and password, if one is required.
  id: totrans-483
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要代理服务器的地址，包括用户名和密码（如果需要）。
- en: You should confirm that Raspberry Pi is already connected to the network and
    that you can access the proxy server.
  id: totrans-484
  prefs: []
  type: TYPE_NORMAL
  zh: 您应该确认树莓派已连接到网络，并且可以访问代理服务器。
- en: 'Use the `ping` command to check this, as follows:'
  id: totrans-485
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`ping`命令进行检查，如下所示：
- en: '[PRE51]'
  id: totrans-486
  prefs: []
  type: TYPE_PRE
  zh: '[PRE51]'
- en: If this fails (you get no responses), you will need to ensure your network settings
    are correct before continuing.
  id: totrans-487
  prefs: []
  type: TYPE_NORMAL
  zh: 如果失败（没有响应），您需要确保继续之前网络设置正确。
- en: How to do it...
  id: totrans-488
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何操作...
- en: 'Create a new file using `nano` as follows (if there is already some content
    in the file, you can add the code at the end):'
  id: totrans-489
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`nano`创建一个新文件，如下所示（如果文件中已经有一些内容，可以在末尾添加代码）：
- en: '[PRE52]'
  id: totrans-490
  prefs: []
  type: TYPE_PRE
  zh: '[PRE52]'
- en: 'To allow basic web browsing through programs such as **Midori** while using
    a proxy server, you can use the following script:'
  id: totrans-491
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要允许通过代理服务器进行基本的网页浏览，例如**Midori**，您可以使用以下脚本：
- en: '[PRE53]'
  id: totrans-492
  prefs: []
  type: TYPE_PRE
  zh: '[PRE53]'
- en: Once done, save and exit by pressing *Ctrl* + *X*, *Y*, and *Enter.*
  id: totrans-493
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成后，按*Ctrl* + *X*，*Y*和*Enter*保存并退出。
- en: The script is added to the user's own `.bash_profile` file, which is run when
    that particular user logs in. This will ensure that the proxy settings are kept
    separately for each user. If you want all users to use the same settings, you
    can add the code to `/etc/rc.local` instead (this file must have `exit 0` at the
    end).
  id: totrans-494
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本被添加到用户自己的`.bash_profile`文件中，在特定用户登录时运行。这将确保代理设置被分别保存给每个用户。如果您希望所有用户使用相同的设置，可以将代码添加到`/etc/rc.local`中（此文件必须在末尾有`exit
    0`）。
- en: How it works...
  id: totrans-495
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 工作原理...
- en: Many programs that make use of the internet will check for the `http_proxy`
    or `HTTP_PROXY` environment variables before connecting. If they are present,
    they will use the proxy settings to connect through. Some programs may also use
    the `HTTPS` and `FTP` protocols, so we can set the proxy setting for them here
    too.
  id: totrans-496
  prefs: []
  type: TYPE_NORMAL
  zh: 许多使用互联网的程序在连接之前会检查`http_proxy`或`HTTP_PROXY`环境变量。如果存在，它们将使用代理设置进行连接。一些程序也可能使用`HTTPS`和`FTP`协议，因此我们也可以在这里为它们设置代理设置。
- en: If a username is required for the proxy server, a password will be prompted
    for. It is generally not recommended to store your passwords inside scripts unless
    you are confident that no one else will have access to your device (either physically
    or through the internet).
  id: totrans-497
  prefs: []
  type: TYPE_NORMAL
  zh: 如果代理服务器需要用户名，则会提示输入密码。通常不建议在脚本中存储密码，除非您确信没有其他人能够访问您的设备（无论是物理上还是通过互联网）。
- en: The last part allows any programs that execute using the `sudo` command to use
    the proxy environment variables while acting as the super user (most programs
    will try accessing the network using normal privileges first, even if running
    as a super user, so it isn't always needed).
  id: totrans-498
  prefs: []
  type: TYPE_NORMAL
  zh: 最后一部分允许使用`sudo`命令执行的任何程序在扮演超级用户时使用代理环境变量（大多数程序首先尝试使用普通权限访问网络，即使作为超级用户运行，所以并不总是需要）。
- en: There's more...
  id: totrans-499
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'We also need to allow the proxy settings to be used by some programs, which
    use superuser permissions while accessing the network (this will depend on the
    program; most don''t need this). We need to add the commands into a file stored
    in `/etc/sudoers.d/` by performing the following steps:'
  id: totrans-500
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还需要允许某些程序使用代理设置，这些程序在访问网络时使用超级用户权限（这取决于程序；大多数不需要这样做）。我们需要通过以下步骤将命令添加到存储在`/etc/sudoers.d/`中的文件中：
- en: 'Use the following command to open a new `sudoer` file:'
  id: totrans-501
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令打开一个新的`sudoer`文件：
- en: '[PRE54]'
  id: totrans-502
  prefs: []
  type: TYPE_PRE
  zh: '[PRE54]'
- en: 'Enter the following text in the file (on a single line):'
  id: totrans-503
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在文件中输入以下文本（一行）：
- en: '[PRE55]'
  id: totrans-504
  prefs: []
  type: TYPE_PRE
  zh: '[PRE55]'
- en: Once done, save and exit by pressing *Ctrl* + *X*, *Y*, and *Enter;* don't change
    the `proxy.tmp` filename (this is normal for `visudo`; it will change it to proxy
    when finished).
  id: totrans-505
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成后，按*Ctrl* + *X*，*Y*和*Enter*保存并退出；不要更改`proxy.tmp`文件名（这对于`visudo`是正常的；完成后它会将其更改为proxy）。
- en: If prompted `What now?`, there is an error in the command. Press *X* to exit
    without saving and retype the command.
  id: totrans-506
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果提示“现在怎么办？”，则命令中存在错误。按*X*退出而不保存并重新输入命令。
- en: 'After a reboot (using `sudo reboot`), you will be able to use the following
    commands to enable and disable the proxy respectively:'
  id: totrans-507
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 重新启动后（使用`sudo reboot`），您将能够使用以下命令分别启用和禁用代理：
- en: '[PRE56]'
  id: totrans-508
  prefs: []
  type: TYPE_PRE
  zh: '[PRE56]'
- en: It is important to use `visudo` here, as it ensures the permissions of the file
    are created correctly for the `sudoers` directory (read only by the `root` user).
  id: totrans-509
  prefs: []
  type: TYPE_NORMAL
  zh: 在这里使用`visudo`很重要，因为它确保了为`sudoers`目录正确创建文件的权限（只能由`root`用户读取）。
- en: Connecting remotely to Raspberry Pi over the network using VNC
  id: totrans-510
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过VNC远程连接到树莓派网络
- en: Often, it is preferable to remotely connect to and control Raspberry Pi across
    the network, for instance, using a laptop or desktop computer as a screen and
    keyboard, or while Raspberry Pi is connected elsewhere, perhaps even connected
    to some hardware it needs to be close to.
  id: totrans-511
  prefs: []
  type: TYPE_NORMAL
  zh: 通常，最好远程连接和控制树莓派跨网络，例如，使用笔记本电脑或台式电脑作为屏幕和键盘，或者当树莓派连接到其他地方时，也许甚至连接到一些需要靠近的硬件。
- en: VNC is just one way in which you can remotely connect to Raspberry Pi. It will
    create a new desktop session that will be controlled and accessed remotely. The
    VNC session here is separate from the one that may be active on Raspberry Pi's
    display.
  id: totrans-512
  prefs: []
  type: TYPE_NORMAL
  zh: VNC只是远程连接到树莓派的一种方式。它将创建一个新的桌面会话，可以远程控制和访问。这里的VNC会话与树莓派显示上可能活动的会话是分开的。
- en: Getting ready
  id: totrans-513
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure that your Raspberry Pi is powered up and connected to the internet. We
    will use the internet connection to install a program using `apt-get`. This is
    a program that allows us to find and install applications directly from the official
    repositories.
  id: totrans-514
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您的树莓派已经启动并连接到互联网。我们将使用互联网连接来使用`apt-get`安装程序。这是一个允许我们直接从官方存储库中查找和安装应用程序的程序。
- en: How to do it...
  id: totrans-515
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'First, we need to install the TightVNC server on Raspberry Pi with the following
    commands. It is advisable to run an `update` command first to get the latest version
    of the package you want to install, as follows:'
  id: totrans-516
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，我们需要使用以下命令在树莓派上安装TightVNC服务器。建议先运行`update`命令以获取要安装的软件包的最新版本，如下所示：
- en: '[PRE57]'
  id: totrans-517
  prefs: []
  type: TYPE_PRE
  zh: '[PRE57]'
- en: 'Accept the prompt to install and wait until it completes. To start a session,
    use the following command:'
  id: totrans-518
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接受提示进行安装，并等待直到完成。要启动会话，请使用以下命令：
- en: '[PRE58]'
  id: totrans-519
  prefs: []
  type: TYPE_PRE
  zh: '[PRE58]'
- en: The first time you run this, it will ask you to enter a password (of no more
    than eight characters) to access the desktop (you will use this when you connect
    from your computer).
  id: totrans-520
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 第一次运行时，它将要求您输入一个密码（不超过八个字符）以访问桌面（您在从计算机连接时将使用此密码）。
- en: 'The following message should confirm that a new desktop session has been started:'
  id: totrans-521
  prefs: []
  type: TYPE_NORMAL
  zh: 以下消息应该确认已启动新的桌面会话：
- en: '[PRE59]'
  id: totrans-522
  prefs: []
  type: TYPE_PRE
  zh: '[PRE59]'
- en: If you do not already know the IP address of Raspberry Pi, use `hostname -I`
    and take note of it.
  id: totrans-523
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您还不知道树莓派的IP地址，请使用`hostname -I`并记下它。
- en: Next, we need to run a VNC client. **VNC Viewer** is suitable program, which
    is available at [http://www.realvnc.com/](http://www.realvnc.com/) and should
    work on Windows, Linux, and OS X.
  id: totrans-524
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们需要运行VNC客户端。**VNC Viewer**是一个合适的程序，可以在[http://www.realvnc.com/](http://www.realvnc.com/)上找到，并且应该可以在Windows、Linux和OS
    X上运行。
- en: When you run VNC Viewer, you will be prompted for the Server address and Encryption
    type. Use the IP address of your Raspberry Pi with `:1`. That is, for the IP address
    `192.168.1.69`, use the `192.168.1.69:1` address.
  id: totrans-525
  prefs: []
  type: TYPE_NORMAL
  zh: 运行VNC Viewer时，将提示您输入服务器地址和加密类型。使用您的树莓派的IP地址与`:1`。也就是说，对于IP地址`192.168.1.69`，使用`192.168.1.69:1`地址。
- en: You can leave the Encryption type as Off or Automatic.
  id: totrans-526
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以将加密类型保留为关闭或自动。
- en: Depending on your network, you may be able to use the hostname; the default
    is `raspberrypi`, that is `raspberrypi:1`.
  id: totrans-527
  prefs: []
  type: TYPE_NORMAL
  zh: 根据您的网络，您可以使用主机名；默认值为`raspberrypi`，即`raspberrypi:1`。
- en: You may have a warning about not having connected to the computer before or
    having no encryption. You should enable encryption if you are using a public network
    or if you are performing connections over the internet (to stop others from being
    able to intercept your data).
  id: totrans-528
  prefs: []
  type: TYPE_NORMAL
  zh: 可能会有一个关于以前未连接到计算机或没有加密的警告。如果您正在使用公共网络或在互联网上进行连接（以阻止其他人能够拦截您的数据），您应该启用加密。
- en: There's more...
  id: totrans-529
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'You can add options to the command line to specify the resolution and also
    the color depth of the display. The higher the resolution and color depth (can
    be adjusted to use 8-bits to 32-bits per pixel to provide low or high color detail),
    the more data has to be transferred through the network link. If you find the
    refresh rate a little slow, try reducing these numbers as follows:'
  id: totrans-530
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以添加选项到命令行以指定显示的分辨率和颜色深度。分辨率和颜色深度越高（可以调整为每像素使用8位到32位以提供低或高颜色细节），通过网络链接传输的数据就越多。如果发现刷新速率有点慢，请尝试按照以下方式减少这些数字：
- en: '[PRE60]'
  id: totrans-531
  prefs: []
  type: TYPE_PRE
  zh: '[PRE60]'
- en: To allow the VNC server to start automatically when you switch on, you can add
    the `vncserver` command to `.bash_profile` (this is executed each time Raspberry
    Pi starts).
  id: totrans-532
  prefs: []
  type: TYPE_NORMAL
  zh: 要允许VNC服务器在打开时自动启动，您可以将`vncserver`命令添加到`.bash_profile`（这在每次树莓派启动时执行）。
- en: 'Use the `nano` editor as follows (the `-c` option allows the line numbers to
    be displayed):'
  id: totrans-533
  prefs: []
  type: TYPE_NORMAL
  zh: 使用`nano`编辑器如下（`-c`选项允许显示行号）：
- en: '[PRE61]'
  id: totrans-534
  prefs: []
  type: TYPE_PRE
  zh: '[PRE61]'
- en: 'Add the following line to the end of the file:'
  id: totrans-535
  prefs: []
  type: TYPE_NORMAL
  zh: 将以下行添加到文件的末尾：
- en: '[PRE62]'
  id: totrans-536
  prefs: []
  type: TYPE_PRE
  zh: '[PRE62]'
- en: The next time you power up, you should be able to remotely connect using VNC
    from
  id: totrans-537
  prefs: []
  type: TYPE_NORMAL
  zh: 下次启动时，您应该能够使用VNC从远程连接到树莓派
- en: another computer.
  id: totrans-538
  prefs: []
  type: TYPE_NORMAL
  zh: 另一台计算机。
- en: Connecting remotely to Raspberry Pi over the network using SSH (and X11 forwarding)
  id: totrans-539
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过SSH（和X11转发）远程连接到树莓派
- en: An **Secure Shell** (**SSH**) is often the preferred method for making remote
    connections, as it allows only the Terminal connections and typically requires
    fewer resources.
  id: totrans-540
  prefs: []
  type: TYPE_NORMAL
  zh: '**安全外壳**（**SSH**）通常是进行远程连接的首选方法，因为它只允许终端连接，并且通常需要更少的资源。'
- en: 'An extra feature of SSH is the ability to transfer the **X11** data to an **X
    Windows** server running on your machine. This allows you to start programs that
    would normally run on Raspberry Pi desktop, and they will appear in their own
    Windows on the local computer, as follows:'
  id: totrans-541
  prefs: []
  type: TYPE_NORMAL
  zh: SSH的一个额外功能是能够将**X11**数据传输到运行在您的计算机上的**X Windows**服务器。这允许您启动通常在树莓派桌面上运行的程序，并且它们将出现在本地计算机上的自己的窗口中，如下所示：
- en: '![](Images/13e18668-dd51-4086-8cc7-2c9e57cb722c.png)X11 forwarding on a local
    display'
  id: totrans-542
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/13e18668-dd51-4086-8cc7-2c9e57cb722c.png)在本地显示上的X11转发'
- en: X11 forwarding can be used to display applications which are running on Raspberry
    Pi on a Windows computer.
  id: totrans-543
  prefs: []
  type: TYPE_NORMAL
  zh: X11转发可用于在Windows计算机上显示在树莓派上运行的应用程序。
- en: Getting ready
  id: totrans-544
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: If you are running the latest version of Raspbian, SSH, and X11 forwarding will
    be enabled by default (otherwise, double-check the settings explained in the *How
    it works...* section).
  id: totrans-545
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您正在运行最新版本的Raspbian，则SSH和X11转发将默认启用（否则，请仔细检查*它是如何工作...*部分中解释的设置）。
- en: How to do it...
  id: totrans-546
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做...
- en: Linux and OS X have built-in support for X11 forwarding, but if you are using
    Windows, you will need to install and run the X Windows server on your computer.
  id: totrans-547
  prefs: []
  type: TYPE_NORMAL
  zh: Linux和OS X都内置支持X11转发，但如果你使用Windows，你需要在计算机上安装和运行X Windows服务器。
- en: Download and run `xming` from the **Xming** site ([http://sourceforge.net/projects/xming/](http://sourceforge.net/projects/xming/)).
  id: totrans-548
  prefs: []
  type: TYPE_NORMAL
  zh: 从**Xming**网站（[http://sourceforge.net/projects/xming/](http://sourceforge.net/projects/xming/)）下载并运行`xming`。
- en: Install `xming`, following the installation steps, including the installation
    of **PuTTY** if you don't have it already. You can also download PuTTY separately
    from [http://www.putty.org/](http://www.putty.org/).
  id: totrans-549
  prefs: []
  type: TYPE_NORMAL
  zh: 安装`xming`，按照安装步骤进行安装，包括安装**PuTTY**（如果您还没有）。您也可以从[http://www.putty.org/](http://www.putty.org/)单独下载PuTTY。
- en: Next, we need to ensure that the SSH program we use has X11 enabled when we
    connect.
  id: totrans-550
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们需要确保我们连接时使用的SSH程序启用了X11。
- en: For Windows, we shall use PuTTY to connect to Raspberry Pi.
  id: totrans-551
  prefs: []
  type: TYPE_NORMAL
  zh: 对于Windows，我们将使用PuTTY连接到树莓派。
- en: 'In the PuTTY Configuration dialog box, navigate to Connection | SSH | X11 and
    tick the checkbox for Enable X11 forwarding. If you leave the X display location
    option blank, it will assume the default `Server 0:0` as follows (you can confirm
    the server number by moving your mouse over the Xming icon in the system tray
    when it is running):'
  id: totrans-552
  prefs: []
  type: TYPE_NORMAL
  zh: 在PuTTY配置对话框中，导航到连接 | SSH | X11，并选中启用X11转发的复选框。如果将X显示位置选项留空，它将假定默认的`Server 0:0`如下（您可以通过将鼠标移到运行时系统托盘中的Xming图标上来确认服务器号）：
- en: '![](Images/97414251-ec25-4472-8a03-afe01c95f283.jpg)Enabling X11 forwarding
    within the PuTTY configuration'
  id: totrans-553
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/97414251-ec25-4472-8a03-afe01c95f283.jpg)在PuTTY配置中启用X11转发'
- en: Enter the IP address of Raspberry Pi in the Session settings (you may also find
    that you can use Raspberry Pi's hostname here instead; the default hostname is
    `raspberrypi`).
  id: totrans-554
  prefs: []
  type: TYPE_NORMAL
  zh: 在会话设置中输入树莓派的IP地址（您还可以在这里使用树莓派的主机名；默认主机名是`raspberrypi`）。
- en: Save the setting using a suitable name, `RaspberryPi`, and click on Open to
    connect to your Raspberry Pi.
  id: totrans-555
  prefs: []
  type: TYPE_NORMAL
  zh: 使用适当的名称保存设置，`RaspberryPi`，然后单击打开以连接到您的树莓派。
- en: 'You are likely to see a warning message pop up stating you haven''t connected
    to the computer before (this allows you to check whether you have everything right
    before continuing):'
  id: totrans-556
  prefs: []
  type: TYPE_NORMAL
  zh: 您可能会看到一个警告消息弹出，指出您以前没有连接到计算机（这样可以在继续之前检查是否一切正常）：
- en: '![](Images/3029d1b0-93e5-48fc-840e-fc238508e837.jpg)Opening an SSH connection
    to Raspberry Pi using PuTTY'
  id: totrans-557
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/3029d1b0-93e5-48fc-840e-fc238508e837.jpg)使用PuTTY打开到树莓派的SSH连接'
- en: For OS X or Linux, click on Terminal to open a connection to Raspberry Pi.
  id: totrans-558
  prefs: []
  type: TYPE_NORMAL
  zh: 对于OS X或Linux，单击终端以打开到树莓派的连接。
- en: 'To connect with the default `pi` username, with an IP address of `192.168.1.69`,
    use the following command; the `-X` option enables X11 forwarding:'
  id: totrans-559
  prefs: []
  type: TYPE_NORMAL
  zh: 要使用默认的`pi`用户名连接，IP地址为`192.168.1.69`，使用以下命令；`-X`选项启用X11转发：
- en: '[PRE63]'
  id: totrans-560
  prefs: []
  type: TYPE_PRE
  zh: '[PRE63]'
- en: All being well, you should be greeted with a prompt for your password (remember
    the default value for the `pi` user is `raspberry`).
  id: totrans-561
  prefs: []
  type: TYPE_NORMAL
  zh: 一切顺利的话，您应该会收到一个输入密码的提示（请记住`pi`用户的默认值是`raspberry`）。
- en: Ensure that you have Xming running by starting the Xming program from your computer's
    Start menu. Then, in the Terminal window, type a program that normally runs within
    Raspberry Pi desktop, such as `leafpad` or `scratch`. Wait a little while and
    the program should appear on your computer's desktop (if you get an error, you
    have probably forgotten to start Xming, so run it and try again).
  id: totrans-562
  prefs: []
  type: TYPE_NORMAL
  zh: 确保Xming正在运行，方法是从计算机的开始菜单启动Xming程序。然后，在终端窗口中，输入通常在树莓派桌面内运行的程序，如`leafpad`或`scratch`。等一会儿，程序应该会出现在您的计算机桌面上（如果出现错误，您可能忘记启动Xming，所以请运行它并重试）。
- en: How it works...
  id: totrans-563
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 它是如何工作的...
- en: X Windows and X11 is what provides the method by which Raspberry Pi (and many
    other Linux-based computers) can display and control graphical Windows as part
    of a desktop.
  id: totrans-564
  prefs: []
  type: TYPE_NORMAL
  zh: X Windows和X11是提供树莓派（以及许多其他基于Linux的计算机）显示和控制图形窗口作为桌面一部分的方法。
- en: 'For X11 forwarding to work over a network connection, we need both SSH and
    X11 forwarding enabled on Raspberry Pi. Perform the following steps:'
  id: totrans-565
  prefs: []
  type: TYPE_NORMAL
  zh: 要使X11转发在网络连接上工作，我们需要在树莓派上同时启用SSH和X11转发。执行以下步骤：
- en: To switch on (or off) SSH, you can access Raspberry Pi Configuration
  id: totrans-566
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要打开（或关闭）SSH，您可以访问树莓派配置
- en: 'program under the Preferences menu on the Desktop and click on SSH within the
    Interfaces tab, as shown in the following screenshot (SSH is often enabled by
    default for most distributions to help allow remote connections without needing
    a monitor to configure it):'
  id: totrans-567
  prefs: []
  type: TYPE_NORMAL
  zh: 在桌面的首选项菜单下的SSH中，单击接口选项卡，如下截图所示（大多数发行版通常默认启用SSH，以帮助允许远程连接而无需显示器进行配置）：
- en: '![](Images/72707656-f19f-49e9-9c76-0c1cf7b134a2.png)The advanced settings menu
    in the raspi-config tool'
  id: totrans-568
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/72707656-f19f-49e9-9c76-0c1cf7b134a2.png)raspi-config工具中的高级设置菜单'
- en: Ensure that X11 forwarding is enabled on Raspberry Pi (again, most distributions
    now have this enabled by default).
  id: totrans-569
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保在树莓派上启用了X11转发（大多数发行版现在默认已启用此功能）。
- en: 'Use `nano` with the following command:'
  id: totrans-570
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用以下命令使用`nano`：
- en: '[PRE64]'
  id: totrans-571
  prefs: []
  type: TYPE_PRE
  zh: '[PRE64]'
- en: 'Look for a line in the `/etc/ssh/sshd_config` file that controls X11 forwarding
    and ensure that it says `yes` (with no `#` sign before it), as follows:'
  id: totrans-572
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在`/etc/ssh/sshd_config`文件中查找控制X11转发的行，并确保它说`yes`（之前没有`#`符号），如下所示：
- en: '[PRE65]'
  id: totrans-573
  prefs: []
  type: TYPE_PRE
  zh: '[PRE65]'
- en: 'Save if required by pressing *Ctrl* + *X*, *Y*, and *Enter* and reboot (if
    you need to change it) as follows:'
  id: totrans-574
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果需要，按*Ctrl* + *X*，*Y*和*Enter*保存并重新启动（如果需要更改）如下：
- en: '[PRE66]'
  id: totrans-575
  prefs: []
  type: TYPE_PRE
  zh: '[PRE66]'
- en: There's more...
  id: totrans-576
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: SSH and X11 forwarding is a convenient way to control Raspberry Pi remotely;
    we will explore some additional tips on how to use it effectively in the following
    sections.
  id: totrans-577
  prefs: []
  type: TYPE_NORMAL
  zh: SSH和X11转发是远程控制树莓派的便捷方式；我们将在以下部分探讨如何有效使用它的一些额外提示。
- en: Running multiple programs with X11 forwarding
  id: totrans-578
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过X11转发运行多个程序
- en: 'If you want to run an **X program**, but still be able to use the same Terminal
    console for other stuff, you can run the command in the background with `&` as
    follows:'
  id: totrans-579
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您想运行**X程序**，但仍然可以在同一终端控制台上运行其他内容，可以使用`&`将命令在后台运行，如下所示：
- en: '[PRE67]'
  id: totrans-580
  prefs: []
  type: TYPE_PRE
  zh: '[PRE67]'
- en: Just remember that the more programs you run, the slower everything will get.
    You can switch to the background program by typing `fg` and check for background
    tasks with `bg`.
  id: totrans-581
  prefs: []
  type: TYPE_NORMAL
  zh: 只需记住，您运行的程序越多，一切就会变得越慢。您可以通过输入`fg`切换到后台程序，并使用`bg`检查后台任务。
- en: Running as a desktop with X11 forwarding
  id: totrans-582
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过X11转发作为桌面运行
- en: You can even run a complete desktop session through X11, although it isn't particularly
    user friendly and VNC will produce better results. To achieve this, you have to
    use `lxsession` instead of `startx` (in the way you would normally start the desktop
    from the Terminal).
  id: totrans-583
  prefs: []
  type: TYPE_NORMAL
  zh: 您甚至可以通过X11运行完整的桌面会话，尽管它并不特别用户友好，而且VNC会产生更好的结果。要实现这一点，您必须使用`lxsession`而不是`startx`（以您通常从终端启动桌面的方式）。
- en: An alternative is to use `lxpanel`, which provides the program menu bar from
    which you can start and run programs from the menu as you would on the desktop.
  id: totrans-584
  prefs: []
  type: TYPE_NORMAL
  zh: 另一种选择是使用`lxpanel`，它提供了程序菜单栏，您可以从菜单中启动和运行程序，就像在桌面上一样。
- en: Running Pygame and Tkinter with X11 forwarding
  id: totrans-585
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 通过X11转发运行Pygame和Tkinter
- en: 'You can get the following error (or similar) when running the **Pygame** or
    **Tkinter** scripts:'
  id: totrans-586
  prefs: []
  type: TYPE_NORMAL
  zh: 在运行**Pygame**或**Tkinter**脚本时，您可能会遇到以下错误（或类似错误）：
- en: '[PRE68]'
  id: totrans-587
  prefs: []
  type: TYPE_PRE
  zh: '[PRE68]'
- en: 'In this case, use the following command to fix the error:'
  id: totrans-588
  prefs: []
  type: TYPE_NORMAL
  zh: 在这种情况下，使用以下命令来修复错误：
- en: '[PRE69]'
  id: totrans-589
  prefs: []
  type: TYPE_PRE
  zh: '[PRE69]'
- en: Sharing the home folder of Raspberry Pi with SMB
  id: totrans-590
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用SMB共享树莓派的主文件夹
- en: When you have Raspberry Pi connected to your network, you can access the home
    folder by setting up file sharing; this makes it much easier to transfer files
    and provides a quick and easy way to back up your data. **Server Message Block**
    (**SMB**) is a protocol that is compatible with Windows file sharing, OS X, and
    Linux.
  id: totrans-591
  prefs: []
  type: TYPE_NORMAL
  zh: 当您将树莓派连接到网络时，您可以通过设置文件共享来访问主文件夹；这样可以更轻松地传输文件，并提供了一种快速简便的备份数据的方法。**服务器消息块**（**SMB**）是一种与Windows文件共享、OS
    X和Linux兼容的协议。
- en: Getting ready
  id: totrans-592
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备工作
- en: Ensure that you have Raspberry Pi powered and running with a working connection
    to the internet.
  id: totrans-593
  prefs: []
  type: TYPE_NORMAL
  zh: 确保您的树莓派已接通电源并连接到互联网。
- en: You will also need another computer on the same local network to test the new
    share.
  id: totrans-594
  prefs: []
  type: TYPE_NORMAL
  zh: 您还需要另一台在同一本地网络上的计算机来测试新的共享。
- en: How to do it...
  id: totrans-595
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'First, we need to install `samba`, a piece of software that handles folder
    sharing in a format that is compatible with Windows sharing methods:'
  id: totrans-596
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，我们需要安装`samba`，这是一款处理与Windows共享方法兼容的文件夹共享的软件：
- en: 'Ensure that you use `update` as follows to obtain the latest list of available
    packages:'
  id: totrans-597
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 确保您使用以下命令来获取可用软件包的最新列表：
- en: '[PRE70]'
  id: totrans-598
  prefs: []
  type: TYPE_PRE
  zh: '[PRE70]'
- en: The install will require around 20 MB of space and take a few minutes.
  id: totrans-599
  prefs: []
  type: TYPE_NORMAL
  zh: 安装将需要大约20MB的空间，并需要几分钟的时间。
- en: 'Once the installation has completed, we can make a copy of the configuration
    file as follows to allow us to restore defaults if needed:'
  id: totrans-600
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完成后，我们可以按照以下方式复制配置文件，以便在需要时恢复默认设置：
- en: '[PRE71]'
  id: totrans-601
  prefs: []
  type: TYPE_PRE
  zh: '[PRE71]'
- en: Scroll down and find the section named `Authentication`; change the `# security
    = user` line to `security = user`.
  id: totrans-602
  prefs: []
  type: TYPE_NORMAL
  zh: 向下滚动并找到名为`Authentication`的部分；将`# security = user`行更改为`security = user`。
- en: As described in the file, this setting ensures that you have to enter your username
    and password for Raspberry Pi in order to access the files (this is important
    for shared networks).
  id: totrans-603
  prefs: []
  type: TYPE_NORMAL
  zh: 如文件中所述，此设置确保您必须输入用户名和密码才能访问树莓派的文件（这对于共享网络非常重要）。
- en: Find the section called `Share Definitions` and `[homes]`, and change the `read
    only = yes` line to `read only = no`.
  id: totrans-604
  prefs: []
  type: TYPE_NORMAL
  zh: 找到名为`Share Definitions`和`[homes]`的部分，并将`read only = yes`行更改为`read only = no`。
- en: This will allow us to view and also write files to the shared home folder. Once
    done, save and exit by pressing *Ctrl* + *X*, *Y*, and *Enter.*
  id: totrans-605
  prefs: []
  type: TYPE_NORMAL
  zh: 这将允许我们查看并向共享的主文件夹写入文件。完成后，按*Ctrl* + *X*，*Y*和*Enter*保存并退出。
- en: If you have changed the default user from `pi` to something else, substitute
    it in the following instructions.
  id: totrans-606
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您已将默认用户从`pi`更改为其他内容，请在以下说明中进行替换。
- en: 'Now, we can add `pi` (the default user) to use `samba`:'
  id: totrans-607
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，我们可以添加`pi`（默认用户）来使用`samba`：
- en: '[PRE72]'
  id: totrans-608
  prefs: []
  type: TYPE_PRE
  zh: '[PRE72]'
- en: 'Now, enter a password (you can use the same password as your login or select
    a different one, but avoid using the default Raspberry password, which would be
    very easy for someone to guess). Restart `samba` to use the new configuration
    file, as follows:'
  id: totrans-609
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，输入密码（您可以使用与登录相同的密码或选择不同的密码，但避免使用默认的树莓密码，这对某人来说将非常容易猜到）。重新启动`samba`以使用新的配置文件，如下所示：
- en: '[PRE73]'
  id: totrans-610
  prefs: []
  type: TYPE_PRE
  zh: '[PRE73]'
- en: 'To test, you will need to know either Raspberry Pi''s `hostname` (the default
    `hostname` is `raspberrypi`) or its IP address. You can find both of these with
    the following command:'
  id: totrans-611
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要进行测试，您需要知道树莓派的`hostname`（默认`hostname`为`raspberrypi`）或其IP地址。您可以使用以下命令找到这两者。
- en: '[PRE74]'
  id: totrans-612
  prefs: []
  type: TYPE_PRE
  zh: '[PRE74]'
- en: 'For the IP address, add `-I`:'
  id: totrans-613
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 对于IP地址，添加`-I`：
- en: '[PRE75]'
  id: totrans-614
  prefs: []
  type: TYPE_PRE
  zh: '[PRE75]'
- en: On another computer on the network, enter the `\raspberrypipi` address in the
    explorer path.
  id: totrans-615
  prefs: []
  type: TYPE_NORMAL
  zh: 在网络上的另一台计算机上，在资源管理器路径中输入`\raspberrypipi`地址。
- en: Depending on your network, the computer should locate Raspberry Pi on the network
    and prompt for a username and password. If it can't find the share using the `hostname`,
    you can use the IP address directly, where `192.168.1.69` should be changed to
    match the IP address `\192.168.1.69pi`.
  id: totrans-616
  prefs: []
  type: TYPE_NORMAL
  zh: 根据您的网络，计算机应该能够在网络上找到树莓派，并提示输入用户名和密码。如果它无法使用`hostname`找到共享，您可以直接使用IP地址，其中`192.168.1.69`应更改为匹配IP地址`\192.168.1.69pi`。
- en: Keeping Raspberry Pi up to date
  id: totrans-617
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 保持树莓派最新
- en: The Linux image used by Raspberry Pi is often updated to include enhancements,
    fixes, and improvements to the system, as well as adding support for new hardware
    or changes made to the latest board. Many of the packages that you install can
    be updated too.
  id: totrans-618
  prefs: []
  type: TYPE_NORMAL
  zh: 树莓派使用的Linux镜像经常更新，以包括对系统的增强、修复和改进，以及对新硬件的支持或对最新板的更改。您安装的许多软件包也可以进行更新。
- en: This is particularly important if you plan on using the same system image on
    another Raspberry Pi board (particularly a newer one), as older images will lack
    support for any wiring changes or alternative RAM chips. New firmware should work
    on older Raspberry Pi boards, but older firmware may not be compatible with the
    latest hardware.
  id: totrans-619
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您打算在另一个树莓派板上使用相同的系统镜像（特别是较新的板），这一点尤为重要，因为旧镜像将缺乏对任何布线更改或替代RAM芯片的支持。新固件应该可以在较旧的树莓派板上工作，但是旧固件可能与最新的硬件不兼容。
- en: Fortunately, you need not reflash your SD card every time there is a new release,
    since you can update it instead.
  id: totrans-620
  prefs: []
  type: TYPE_NORMAL
  zh: 幸运的是，每次有新版本发布时，您无需重新刷写SD卡，因为可以进行更新。
- en: Getting ready
  id: totrans-621
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 准备就绪
- en: You will need to be connected to the internet to update your system. It is always
    advisable to make a backup of your image first (and at a minimum, make a copy
    of your important files).
  id: totrans-622
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要连接到互联网才能更新系统。始终建议首先备份您的镜像（至少复制您的重要文件）。
- en: 'You can check your current version of firmware with the `uname -a` command,
    as follows:'
  id: totrans-623
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以使用`uname -a`命令检查当前固件的版本，如下所示：
- en: '[PRE76]'
  id: totrans-624
  prefs: []
  type: TYPE_PRE
  zh: '[PRE76]'
- en: 'The GPU firmware can be checked using the `/opt/vc/bin/vcgencmd version` command,
    as follows:'
  id: totrans-625
  prefs: []
  type: TYPE_NORMAL
  zh: 可以使用`/opt/vc/bin/vcgencmd version`命令来检查GPU固件，如下所示：
- en: '[PRE77]'
  id: totrans-626
  prefs: []
  type: TYPE_PRE
  zh: '[PRE77]'
- en: This is important if you are using an older version of firmware (pre-November
    2012) on a newer board, since the original Model B board was only 254 MB RAM.
    Upgrading allows the firmware to make use of the extra memory if available.
  id: totrans-627
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您在较新的板上使用较旧的固件（2012年11月之前），这一点很重要，因为最初的B型板只有254MB RAM。升级可以使固件利用额外的内存（如果可用）。
- en: 'The `free -h` command will detail the RAM available to the main processor (the
    total RAM is split between the GPU and ARM cores) and will give the following
    output:'
  id: totrans-628
  prefs: []
  type: TYPE_NORMAL
  zh: '`free -h`命令将详细说明主处理器可用的RAM（总RAM在GPU和ARM核心之间分配），并将给出以下输出：'
- en: '[PRE78]'
  id: totrans-629
  prefs: []
  type: TYPE_PRE
  zh: '[PRE78]'
- en: You can then recheck the preceding output following a reboot to confirm that
    they have been updated (although they may have already been the latest).
  id: totrans-630
  prefs: []
  type: TYPE_NORMAL
  zh: 然后可以在重新启动后重新检查前面的输出，以确认它们已经更新（尽管它们可能已经是最新的）。
- en: How to do it...
  id: totrans-631
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何做...
- en: 'Before running any upgrades or installing any packages, it is worth ensuring
    you have the latest list of packages in the repository. The `update` command gets
    the latest list of available software and versions:'
  id: totrans-632
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在运行任何升级或安装任何软件包之前，值得确保您拥有存储库中最新的软件包列表。`update`命令获取可用软件和版本的最新列表：
- en: '[PRE79]'
  id: totrans-633
  prefs: []
  type: TYPE_PRE
  zh: '[PRE79]'
- en: 'If you just want to obtain an upgrade of your current packages, `upgrade` will
    bring them all up to date:'
  id: totrans-634
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果您只想获取当前软件包的升级，`upgrade`将使它们全部保持最新状态：
- en: '[PRE80]'
  id: totrans-635
  prefs: []
  type: TYPE_PRE
  zh: '[PRE80]'
- en: 'To ensure that you are running the latest release of Raspbian, you can run
    `dist-upgrade` (be warned: this can take an hour or so depending on the amount
    that needs to be upgraded). This will perform all the updates that `upgrade` will
    perform but will also remove redundant packages and clean up:'
  id: totrans-636
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为确保您运行的是最新版本的Raspbian，可以运行`dist-upgrade`（请注意：这可能需要一小时或更长时间，具体取决于需要升级的数量）。这将执行`upgrade`将执行的所有更新，但还将删除多余的软件包并进行清理：
- en: '[PRE81]'
  id: totrans-637
  prefs: []
  type: TYPE_PRE
  zh: '[PRE81]'
- en: Both methods will upgrade the software, including the firmware used at boot
    and startup (`bootcode.bin` and `start.elf`).
  id: totrans-638
  prefs: []
  type: TYPE_NORMAL
  zh: 这两种方法都将升级软件，包括在启动和启动时使用的固件（`bootcode.bin`和`start.elf`）。
- en: 'To update the firmware, the following command can be used:'
  id: totrans-639
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要更新固件，可以使用以下命令：
- en: '[PRE82]'
  id: totrans-640
  prefs: []
  type: TYPE_PRE
  zh: '[PRE82]'
- en: There's more...
  id: totrans-641
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 还有更多...
- en: 'You will often find that you will want to perform a clean installation of your
    setup, however, this will mean you will have to install everything from scratch.
    To avoid this, I developed the Pi-Kitchen project ([https://github.com/PiHw/Pi-Kitchen](https://github.com/PiHw/Pi-Kitchen)),
    based on the groundwork of *Kevin Hill*. This aims to provide a flexible platform
    for creating customized setups that can be automatically deployed to an SD card:'
  id: totrans-642
  prefs: []
  type: TYPE_NORMAL
  zh: 您经常会发现您想要对设置进行干净的安装，但是这意味着您将不得不从头开始安装所有内容。为了避免这种情况，我开发了Pi-Kitchen项目（[https://github.com/PiHw/Pi-Kitchen](https://github.com/PiHw/Pi-Kitchen)），基于*Kevin
    Hill*的基础工作。这旨在提供一个灵活的平台，用于创建可以自动部署到SD卡的定制设置：
- en: '![](Images/9f995257-ae35-4309-b96c-8545c63a6cdb.png)Pi Kitchen allows Raspberry
    Pi to be configured before powering up'
  id: totrans-643
  prefs: []
  type: TYPE_NORMAL
  zh: '![](Images/9f995257-ae35-4309-b96c-8545c63a6cdb.png)Pi Kitchen允许在启动之前配置树莓派'
- en: The Pi-Kitchen allows a range of flavors to be configured, which can be selected
    from the NOOBS menu. Each flavor consists of a list of recipes, each providing
    a specific function or feature to the final operating system. Recipes can range
    from setting up custom drivers for Wi-Fi devices, to mapping shared drives on
    your network, to providing a fully functional web server out of the box, all combining
    to make your required setup.
  id: totrans-644
  prefs: []
  type: TYPE_NORMAL
  zh: Pi-Kitchen允许配置各种口味，可以从NOOBS菜单中选择。每种口味都包括一系列食谱，每个食谱都提供最终操作系统的特定功能或特性。食谱可以从为Wi-Fi设备设置自定义驱动程序，到在您的网络上映射共享驱动器，再到提供一个功能齐全的网络服务器，所有这些都组合在一起，以满足您的要求。
- en: This project is in beta, developed as a proof of concept, but once you have
    everything configured, it can be incredibly useful to deploy fully working setups
    directly onto an SD card. Ultimately, the project could be combined with Kevin
    Hill's advanced version of NOOBS, called **PINN Is Not NOOBS** (**PINN**), which
    aims to allow extra features for advanced users, such as allowing operating systems
    and configurations to be stored on your network or on an external USB memory stick.
  id: totrans-645
  prefs: []
  type: TYPE_NORMAL
  zh: 该项目处于测试阶段，作为概念验证开发，但是一旦您配置好一切，将完全工作的设置直接部署到SD卡上将非常有用。最终，该项目可以与Kevin Hill的NOOBS的高级版本**PINN
    Is Not NOOBS**（**PINN**）结合使用，旨在为高级用户提供额外功能，例如允许操作系统和配置存储在您的网络上或外部USB存储器上。
