["```py\npprint(yaml_data['my_datacenter']['switch1'])\n\n{'device_template': 'vIOSL2_Template',\n 'eve_port': 32769,\n 'hostname': 'SW1',\n 'mgmt_intf': 'gig0/0',\n 'mgmt_ip': '10.10.88.111',\n 'mgmt_subnet': '255.255.255.0'}    \n```", "```py\nfor device in yaml_data['my_datacenter']:\n    print device\n\nGW\nswitch2\nswitch1\n```", "```py\npip install jinja2 \n```", "```py\nhostname {{ hostname }}\n\naaa new-model aaa session-id unique aaa authentication login default local aaa authorization exec default local none vtp mode transparent vlan 10,20,30,40,50,60,70,80,90,100,200   int {{ mgmt_intf }}\nno switchport no shut ip address {{ mgmt_ip }} {{ mgmt_subnet }}\n```", "```py\n#!/usr/bin/python   from jinja2 import Template\ntemplate = Template(''' hostname {{hostname}}   aaa new-model aaa session-id unique aaa authentication login default local aaa authorization exec default local none vtp mode transparent vlan 10,20,30,40,50,60,70,80,90,100,200   int {{mgmt_intf}}\n no switchport no shut ip address {{mgmt_ip}} {{mgmt_subnet}} ''')   sw1 = {'hostname': 'switch1', 'mgmt_intf': 'gig0/0', 'mgmt_ip': '10.10.88.111', 'mgmt_subnet': '255.255.255.0'} print(template.render(sw1))\n```", "```py\n--- dc1:\n GW: eve_port: 32773\n  device_template: vIOSL3_Template\n  hostname: R1\n  mgmt_intf: gig0/0\n  mgmt_ip: 10.10.88.110\n  mgmt_subnet: 255.255.255.0      switch1:\n eve_port: 32769\n  device_template: vIOSL2_Template\n  hostname: SW1\n  mgmt_intf: gig0/0\n  mgmt_ip: 10.10.88.111\n  mgmt_subnet: 255.255.255.0    switch2:\n eve_port: 32770\n  device_template: vIOSL2_Template\n  hostname: SW2\n  mgmt_intf: gig0/0\n  mgmt_ip: 10.10.88.112\n  mgmt_subnet: 255.255.255.0    switch3:\n eve_port: 32769\n  device_template: vIOSL2_Template\n  hostname: SW3\n  mgmt_intf: gig0/0\n  mgmt_ip: 10.10.88.113\n  mgmt_subnet: 255.255.255.0    switch4:\n eve_port: 32770\n  device_template: vIOSL2_Template\n  hostname: SW4\n  mgmt_intf: gig0/0\n  mgmt_ip: 10.10.88.114\n  mgmt_subnet: 255.255.255.0 \n```", "```py\n#!/usr/bin/python __author__ = \"Bassim Aly\" __EMAIL__ = \"basim.alyy@gmail.com\"   import yaml\nfrom jinja2 import Template\n\nwith open('/media/bassim/DATA/GoogleDrive/Packt/EnterpriseAutomationProject/Chapter6_Configuration_generator_with_python_and_jinja2/network_dc.yml', 'r') as yaml_file:\n  yaml_data = yaml.load(yaml_file)   router_day0_template = Template(\"\"\" hostname {{hostname}} int {{mgmt_intf}}\n no shutdown ip add {{mgmt_ip}} {{mgmt_subnet}}   lldp run   ip domain-name EnterpriseAutomation.net ip ssh version 2 ip scp server enable crypto key generate rsa general-keys modulus 1024   snmp-server community public RW snmp-server trap link ietf snmp-server enable traps snmp linkdown linkup snmp-server enable traps syslog snmp-server manager   logging history debugging logging snmp-trap emergencies logging snmp-trap alerts logging snmp-trap critical logging snmp-trap errors logging snmp-trap warnings logging snmp-trap notifications logging snmp-trap informational logging snmp-trap debugging   \"\"\")     switch_day0_template = Template(\"\"\" hostname {{hostname}}   aaa new-model aaa session-id unique aaa authentication login default local aaa authorization exec default local none vtp mode transparent vlan 10,20,30,40,50,60,70,80,90,100,200   int {{mgmt_intf}}\n no switchport no shut ip address {{mgmt_ip}} {{mgmt_subnet}}   snmp-server community public RW snmp-server trap link ietf snmp-server enable traps snmp linkdown linkup snmp-server enable traps syslog snmp-server manager   logging history debugging logging snmp-trap emergencies logging snmp-trap alerts logging snmp-trap critical logging snmp-trap errors logging snmp-trap warnings logging snmp-trap notifications logging snmp-trap informational logging snmp-trap debugging   \"\"\")   for device,config in yaml_data['dc1'].iteritems():\n  if config['device_template'] == \"vIOSL2_Template\":\n  device_template = switch_day0_template\n    elif config['device_template'] == \"vIOSL3_Template\":\n  device_template = router_day0_template\n\n    print(\"rendering now device {0}\" .format(device))\n  Day0_device_config = device_template.render(config)    print Day0_device_config\n    print \"=\" * 30 \n```", "```py\nimport yaml\nfrom jinja2 import FileSystemLoader, Environment\n\nwith open('/media/bassim/DATA/GoogleDrive/Packt/EnterpriseAutomationProject/Chapter6_Configuration_generator_with_python_and_jinja2/network_dc.yml', 'r') as yaml_file:\n  yaml_data = yaml.load(yaml_file)     template_dir = \"/media/bassim/DATA/GoogleDrive/Packt/EnterpriseAutomationProject/Chapter6_Configuration_generator_with_python_and_jinja2\"   template_env = Environment(loader=FileSystemLoader(template_dir),\n  trim_blocks=True,\n  lstrip_blocks= True\n  )     for device,config in yaml_data['dc1'].iteritems():\n  if config['device_template'] == \"vIOSL2_Template\":\n  device_template = template_env.get_template(\"switch_day1_template.j2\")\n  elif config['device_template'] == \"vIOSL3_Template\":\n  device_template = template_env.get_template(\"router_day1_template.j2\")    print(\"rendering now device {0}\" .format(device))\n  Day0_device_config = device_template.render(config)    print Day0_device_config\n    print \"=\" * 30 \n```", "```py\n{% for key, value in var1.iteritems() %}\nconfiguration snippets\n{% endfor %}\n```", "```py\n{% if enabled_ports %}\nconfiguration snippet goes here and added to template if the condition is true\n{% endif %}\n```", "```py\n--- dc1:\n GW: eve_port: 32773\n  device_template: vIOSL3_Template\n  hostname: R1\n  mgmt_intf: gig0/0\n  mgmt_ip: 10.10.88.110\n  mgmt_subnet: 255.255.255.0\n  enabled_ports:\n  - gig0/0\n  - gig0/1\n  - gig0/2    switch1:\n eve_port: 32769\n  device_template: vIOSL2_Template\n  hostname: SW1\n  mgmt_intf: gig0/0\n  mgmt_ip: 10.10.88.111\n  mgmt_subnet: 255.255.255.0\n  interfaces:\n gig0/1: vlan: [1,10,20,200]\n  description: TO_DSW2_1\n  mode: trunk   gig0/2:\n vlan: [1,10,20,200]\n  description: TO_DSW2_2\n  mode: trunk   gig0/3:\n vlan: [1,10,20,200]\n  description: TO_ASW3\n  mode: trunk   gig1/0:\n vlan: [1,10,20,200]\n  description: TO_ASW4\n  mode: trunk\n  enabled_ports:\n  - gig0/0\n  - gig1/1    switch2:\n eve_port: 32770\n  device_template: vIOSL2_Template\n  hostname: SW2\n  mgmt_intf: gig0/0\n  mgmt_ip: 10.10.88.112\n  mgmt_subnet: 255.255.255.0\n  interfaces:\n gig0/1: vlan: [1,10,20,200]\n  description: TO_DSW1_1\n  mode: trunk   gig0/2:\n vlan: [1,10,20,200]\n  description: TO_DSW1_2\n  mode: trunk\n  gig0/3:\n vlan: [1,10,20,200]\n  description: TO_ASW3\n  mode: trunk   gig1/0:\n vlan: [1,10,20,200]\n  description: TO_ASW4\n  mode: trunk\n  enabled_ports:\n  - gig0/0\n  - gig1/1    switch3:\n eve_port: 32769\n  device_template: vIOSL2_Template\n  hostname: SW3\n  mgmt_intf: gig0/0\n  mgmt_ip: 10.10.88.113\n  mgmt_subnet: 255.255.255.0\n  interfaces:\n gig0/1: vlan: [1,10,20,200]\n  description: TO_DSW1\n  mode: trunk   gig0/2:\n vlan: [1,10,20,200]\n  description: TO_DSW2\n  mode: trunk   gig1/0:\n vlan: 10\n  description: TO_Client1\n  mode: access   gig1/1:\n vlan: 20\n  description: TO_Client2\n  mode: access\n  enabled_ports:\n  - gig0/0    switch4:\n eve_port: 32770\n  device_template: vIOSL2_Template\n  hostname: SW4\n  mgmt_intf: gig0/0\n  mgmt_ip: 10.10.88.114\n  mgmt_subnet: 255.255.255.0\n  interfaces:\n gig0/1: vlan: [1,10,20,200]\n  description: TO_DSW2\n  mode: trunk   gig0/2:\n vlan: [1,10,20,200]\n  description: TO_DSW1\n  mode: trunk   gig1/0:\n vlan: 10\n  description: TO_Client1\n  mode: access   gig1/1:\n vlan: 20\n  description: TO_Client2\n  mode: access\n  enabled_ports:\n  - gig0/0\n```", "```py\n{% include 'router_day0_template.j2' %}   {% if enabled_ports %}\n {% for port in enabled_ports %} interface {{ port }}\n    no switchport\n no shutdown mtu 1520 duplex auto speed auto  {% endfor %}   {% endif %}\n```", "```py\n\n{% include 'switch_day0_template.j2' %}   {% if enabled_ports %}\n {% for port in enabled_ports %} interface {{ port }}\n    no switchport\n no shutdown mtu 1520 duplex auto speed auto    {% endfor %} {% endif %}   {% if interfaces %}\n {% for intf,intf_config in interfaces.items() %} interface {{ intf }}\n description \"{{intf_config['description']}}\"\n no shutdown duplex full  {% if intf_config['mode'] %}   {% if intf_config['mode'] == \"access\" %}\n  switchport mode {{intf_config['mode']}}\n switchport access vlan {{intf_config['vlan']}}\n   {% elif intf_config['mode'] == \"trunk\" %}\n  switchport {{intf_config['mode']}} encapsulation dot1q\n switchport mode trunk switchport trunk allowed vlan {{intf_config['vlan']|join(',')}}\n   {% endif %}\n {% endif %}\n {% endfor %} {% endif %} \n```", "```py\nrendering now device GW\nhostname R1\nint gig0/0\n  no shutdown\n  ip add 10.10.88.110 255.255.255.0\nlldp run\nip domain-name EnterpriseAutomation.net\nip ssh version 2\nip scp server enable\ncrypto key generate rsa general-keys modulus 1024\nsnmp-server community public RW\nsnmp-server trap link ietf\nsnmp-server enable traps snmp linkdown linkup\nsnmp-server enable traps syslog\nsnmp-server manager\nlogging history debugging\nlogging snmp-trap emergencies\nlogging snmp-trap alerts\nlogging snmp-trap critical\nlogging snmp-trap errors\nlogging snmp-trap warnings\nlogging snmp-trap notifications\nlogging snmp-trap informational\nlogging snmp-trap debugging\ninterface gig0/0\n    no switchport\n    no shutdown\n    mtu 1520\n    duplex auto\n    speed auto\ninterface gig0/1\n    no switchport\n    no shutdown\n    mtu 1520\n    duplex auto\n    speed auto\ninterface gig0/2\n    no switchport\n    no shutdown\n    mtu 1520\n    duplex auto\n    speed auto\n==============================\nrendering now device switch1\nhostname SW1\naaa new-model\naaa session-id unique\naaa authentication login default local\naaa authorization exec default local none\nvtp mode transparent\nvlan 10,20,30,40,50,60,70,80,90,100,200\nint gig0/0\n no switchport\n no shut\n ip address 10.10.88.111 255.255.255.0\nsnmp-server community public RW\nsnmp-server trap link ietf\nsnmp-server enable traps snmp linkdown linkup\nsnmp-server enable traps syslog\nsnmp-server manager\nlogging history debugging\nlogging snmp-trap emergencies\nlogging snmp-trap alerts\nlogging snmp-trap critical\nlogging snmp-trap errors\nlogging snmp-trap warnings\nlogging snmp-trap notifications\nlogging snmp-trap informational\nlogging snmp-trap debugging\ninterface gig0/0\n    no switchport\n    no shutdown\n    mtu 1520\n    duplex auto\n    speed auto\ninterface gig1/1\n    no switchport\n    no shutdown\n    mtu 1520\n    duplex auto\n    speed auto\ninterface gig0/2\n description \"TO_DSW2_2\"\n no shutdown\n duplex full\n switchport trunk encapsulation dot1q\n switchport mode trunk\n switchport trunk allowed vlan 1,10,20,200\ninterface gig0/3\n description \"TO_ASW3\"\n no shutdown\n duplex full\n switchport trunk encapsulation dot1q\n switchport mode trunk\n switchport trunk allowed vlan 1,10,20,200\ninterface gig0/1\n description \"TO_DSW2_1\"\n no shutdown\n duplex full\n switchport trunk encapsulation dot1q\n switchport mode trunk\n switchport trunk allowed vlan 1,10,20,200\ninterface gig1/0\n description \"TO_ASW4\"\n no shutdown\n duplex full\n switchport trunk encapsulation dot1q\n switchport mode trunk\n switchport trunk allowed vlan 1,10,20,200\n==============================\n\n<switch2 output omitted>\n\n==============================\nrendering now device switch3\nhostname SW3\naaa new-model\naaa session-id unique\naaa authentication login default local\naaa authorization exec default local none\nvtp mode transparent\nvlan 10,20,30,40,50,60,70,80,90,100,200\nint gig0/0\n no switchport\n no shut\n ip address 10.10.88.113 255.255.255.0\nsnmp-server community public RW\nsnmp-server trap link ietf\nsnmp-server enable traps snmp linkdown linkup\nsnmp-server enable traps syslog\nsnmp-server manager\nlogging history debugging\nlogging snmp-trap emergencies\nlogging snmp-trap alerts\nlogging snmp-trap critical\nlogging snmp-trap errors\nlogging snmp-trap warnings\nlogging snmp-trap notifications\nlogging snmp-trap informational\nlogging snmp-trap debugging\ninterface gig0/0\n    no switchport\n    no shutdown\n    mtu 1520\n    duplex auto\n    speed auto\ninterface gig0/2\n description \"TO_DSW2\"\n no shutdown\n duplex full\n switchport trunk encapsulation dot1q\n switchport mode trunk\n switchport trunk allowed vlan 1,10,20,200\ninterface gig1/1\n description \"TO_Client2\"\n no shutdown\n duplex full\n switchport mode access\n switchport access vlan 20\ninterface gig1/0\n description \"TO_Client1\"\n no shutdown\n duplex full\n switchport mode access\n switchport access vlan 10\ninterface gig0/1\n description \"TO_DSW1\"\n no shutdown\n duplex full\n switchport trunk encapsulation dot1q\n switchport mode trunk\n switchport trunk allowed vlan 1,10,20,200\n==============================\n<switch4 output omitted>\n```"]