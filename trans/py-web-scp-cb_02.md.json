["```py\nwww $ python3 -m http.server 8080\nServing HTTP on 0.0.0.0 port 8080 (http://0.0.0.0:8080/) ...\n```", "```py\nIn [1]: import requests\n   ...: from bs4 import BeautifulSoup\n   ...: html = requests.get(\"http://localhost:8080/planets.html\").text\n   ...: soup = BeautifulSoup(html, \"lxml\")\n   ...:\n```", "```py\nIn [2]: str(soup)[:1000]\nOut[2]: '<html>\\n<head>\\n</head>\\n<body>\\n<div id=\"planets\">\\n<h1>Planetary data</h1>\\n<div id=\"content\">Here are some interesting facts about the planets in our solar system</div>\\n<p></p>\\n<table border=\"1\" id=\"planetsTable\">\\n<tr id=\"planetHeader\">\\n<th>\\n</th>\\n<th>\\r\\n Name\\r\\n </th>\\n<th>\\r\\n Mass (10^24kg)\\r\\n </th>\\n<th>\\r\\n Diameter (km)\\r\\n </th>\\n<th>\\r\\n How it got its Name\\r\\n </th>\\n<th>\\r\\n More Info\\r\\n </th>\\n</tr>\\n<tr class=\"planet\" id=\"planet1\" name=\"Mercury\">\\n<td>\\n<img src=\"img/mercury-150x150.png\"/>\\n</td>\\n<td>\\r\\n Mercury\\r\\n </td>\\n<td>\\r\\n 0.330\\r\\n </td>\\n<td>\\r\\n 4879\\r\\n </td>\\n<td>Named Mercurius by the Romans because it appears to move so swiftly.</td>\\n<td>\\n<a href=\"https://en.wikipedia.org/wiki/Mercury_(planet)\">Wikipedia</a>\\n</td>\\n</tr>\\n<tr class=\"p'\n```", "```py\nIn [3]: str(soup.html.body.div.table)[:200]\nOut[3]: '<table border=\"1\" id=\"planetsTable\">\\n<tr id=\"planetHeader\">\\n<th>\\n</th>\\n<th>\\r\\n Name\\r\\n </th>\\n<th>\\r\\n Mass (10^24kg)\\r\\n </th>\\n<th>\\r\\n '\n```", "```py\nIn [6]: soup.html.body.div.table.tr\nOut[6]: <tr id=\"planetHeader\">\n<th>\n</th>\n<th>\n                    Name\n                </th>\n<th>\n                    Mass (10^24kg)\n                </th>\n<th>\n                    Diameter (km)\n                </th>\n<th>\n                    How it got its Name\n                </th>\n<th>\n                    More Info\n                </th>\n</tr>\n```", "```py\nIn [4]: soup.html.body.div.table.children\nOut[4]: <list_iterator at 0x10eb11cc0>\n```", "```py\nIn [5]: [str(c)[:45] for c in soup.html.body.div.table.children]\nOut[5]:\n['\\n',\n '<tr id=\"planetHeader\">\\n<th>\\n</th>\\n<th>\\r\\n ',\n '\\n',\n '<tr class=\"planet\" id=\"planet1\" name=\"Mercury',\n '\\n',\n '<tr class=\"planet\" id=\"planet2\" name=\"Venus\">',\n '\\n',\n '<tr class=\"planet\" id=\"planet3\" name=\"Earth\">',\n '\\n',\n '<tr class=\"planet\" id=\"planet4\" name=\"Mars\">\\n',\n '\\n',\n '<tr class=\"planet\" id=\"planet5\" name=\"Jupiter',\n '\\n',\n '<tr class=\"planet\" id=\"planet6\" name=\"Saturn\"',\n '\\n',\n '<tr class=\"planet\" id=\"planet7\" name=\"Uranus\"',\n '\\n',\n '<tr class=\"planet\" id=\"planet8\" name=\"Neptune',\n '\\n',\n '<tr class=\"planet\" id=\"planet9\" name=\"Pluto\">',\n '\\n']\n```", "```py\nIn [7]: str(soup.html.body.div.table.tr.parent)[:200]\nOut[7]: '<table border=\"1\" id=\"planetsTable\">\\n<tr id=\"planetHeader\">\\n<th>\\n</th>\\n<th>\\r\\n Name\\r\\n </th>\\n<th>\\r\\n Mass (10^24kg)\\r\\n </th>\\n<th>\\r\\n '\n```", "```py\nIn [1]: import requests\n ...: from bs4 import BeautifulSoup\n ...: html = requests.get(\"http://localhost:8080/planets.html\").text\n ...: soup = BeautifulSoup(html, \"lxml\")\n ...:\n```", "```py\nIn [4]: table = soup.find(\"table\")\n   ...: str(table)[:100]\n   ...:\nOut[4]: '<table border=\"1\" id=\"planetsTable\">\\n<tr id=\"planetHeader\">\\n<th>\\n</th>\\n<th>\\r\\n Nam'\n```", "```py\nIn [8]: [str(tr)[:50] for tr in table.findAll(\"tr\")]\nOut[8]:\n['<tr id=\"planetHeader\">\\n<th>\\n</th>\\n<th>\\r\\n ',\n '<tr class=\"planet\" id=\"planet1\" name=\"Mercury\">\\n<t',\n '<tr class=\"planet\" id=\"planet2\" name=\"Venus\">\\n<td>',\n '<tr class=\"planet\" id=\"planet3\" name=\"Earth\">\\n<td>',\n '<tr class=\"planet\" id=\"planet4\" name=\"Mars\">\\n<td>\\n',\n '<tr class=\"planet\" id=\"planet5\" name=\"Jupiter\">\\n<t',\n '<tr class=\"planet\" id=\"planet6\" name=\"Saturn\">\\n<td',\n '<tr class=\"planet\" id=\"planet7\" name=\"Uranus\">\\n<td',\n '<tr class=\"planet\" id=\"planet8\" name=\"Neptune\">\\n<t',\n '<tr class=\"planet\" id=\"planet9\" name=\"Pluto\">\\n<td>']\n```", "```py\nIn [14]: table.find(\"tr\", {\"id\": \"planet3\"})\n    ...:\nOut[14]:\n<tr class=\"planet\" id=\"planet3\" name=\"Earth\">\n<td>\n<img src=\"img/earth-150x150.png\"/>\n</td>\n<td>\n                    Earth\n                </td>\n<td>\n                    5.97\n                </td>\n<td>\n                    12756\n                </td>\n<td>\n                    The name Earth comes from the Indo-European base 'er,'which produced the Germanic noun 'ertho,' and ultimately German 'erde,'\n                    Dutch 'aarde,' Scandinavian 'jord,' and English 'earth.' Related forms include Greek 'eraze,' meaning\n                    'on the ground,' and Welsh 'erw,' meaning 'a piece of land.'\n                </td>\n<td>\n<a href=\"https://en.wikipedia.org/wiki/Earth\">Wikipedia</a>\n</td>\n</tr>\n```", "```py\nIn [18]: items = dict()\n    ...: planet_rows = table.findAll(\"tr\", {\"class\": \"planet\"})\n    ...: for i in planet_rows:\n    ...: tds = i.findAll(\"td\")\n    ...: items[tds[1].text.strip()] = tds[2].text.strip()\n    ...:\n\nIn [19]: items\nOut[19]:\n{'Earth': '5.97',\n 'Jupiter': '1898',\n 'Mars': '0.642',\n 'Mercury': '0.330',\n 'Neptune': '102',\n 'Pluto': '0.0146',\n 'Saturn': '568',\n 'Uranus': '86.8',\n 'Venus': '4.87'}\n```", "```py\nIn [1]: from lxml import html\n   ...: import requests\n   ...: page_html = requests.get(\"http://localhost:8080/planets.html\").text\n```", "```py\nin [2]: tree = html.fromstring(page_html)\n```", "```py\nIn [3]: [tr for tr in tree.xpath(\"/html/body/div/table/tr\")]\nOut[3]:\n[<Element tr at 0x10cfd1408>,\n <Element tr at 0x10cfd12c8>,\n <Element tr at 0x10cfd1728>,\n <Element tr at 0x10cfd16d8>,\n <Element tr at 0x10cfd1458>,\n <Element tr at 0x10cfd1868>,\n <Element tr at 0x10cfd1318>,\n <Element tr at 0x10cfd14a8>,\n <Element tr at 0x10cfd10e8>,\n <Element tr at 0x10cfd1778>,\n <Element tr at 0x10cfd1638>]\n```", "```py\nIn [4]: from lxml import etree\n   ...: [etree.tostring(tr)[:50] for tr in tree.xpath(\"/html/body/div/table/tr\")]\nOut[4]:\n[b'<tr id=\"planetHeader\">\n\\n <th>&#',\n b'<tr id=\"planet1\" class=\"planet\" name=\"Mercury\">&#1',\n b'<tr id=\"planet2\" class=\"planet\" name=\"Venus\">\n',\n b'<tr id=\"planet3\" class=\"planet\" name=\"Earth\">\n',\n b'<tr id=\"planet4\" class=\"planet\" name=\"Mars\">\n\\n',\n b'<tr id=\"planet5\" class=\"planet\" name=\"Jupiter\">&#1',\n b'<tr id=\"planet6\" class=\"planet\" name=\"Saturn\">&#13',\n b'<tr id=\"planet7\" class=\"planet\" name=\"Uranus\">&#13',\n b'<tr id=\"planet8\" class=\"planet\" name=\"Neptune\">&#1',\n b'<tr id=\"planet9\" class=\"planet\" name=\"Pluto\">\n',\n b'<tr id=\"footerRow\">\n\\n <td>\n']\n```", "```py\nIn [5]: [etree.tostring(tr)[:50] for tr in tree.xpath(\"/html/body/div/table/tr[@class='planet']\")]\nOut[5]:\n[b'<tr id=\"planet1\" class=\"planet\" name=\"Mercury\">&#1',\n b'<tr id=\"planet2\" class=\"planet\" name=\"Venus\">\n',\n b'<tr id=\"planet3\" class=\"planet\" name=\"Earth\">\n',\n b'<tr id=\"planet4\" class=\"planet\" name=\"Mars\">\n\\n',\n b'<tr id=\"planet5\" class=\"planet\" name=\"Jupiter\">&#1',\n b'<tr id=\"planet6\" class=\"planet\" name=\"Saturn\">&#13',\n b'<tr id=\"planet7\" class=\"planet\" name=\"Uranus\">&#13',\n b'<tr id=\"planet8\" class=\"planet\" name=\"Neptune\">&#1',\n b'<tr id=\"planet9\" class=\"planet\" name=\"Pluto\">\n']\n```", "```py\nIn [6]: [etree.tostring(tr)[:50] for tr in tree.xpath(\"/html/body/div[1]/table/tr\")]\nOut[6]:\n[b'<tr id=\"planetHeader\">\n\\n <th>&#',\n b'<tr id=\"planet1\" class=\"planet\" name=\"Mercury\">&#1',\n b'<tr id=\"planet2\" class=\"planet\" name=\"Venus\">\n',\n b'<tr id=\"planet3\" class=\"planet\" name=\"Earth\">\n',\n b'<tr id=\"planet4\" class=\"planet\" name=\"Mars\">\n\\n',\n b'<tr id=\"planet5\" class=\"planet\" name=\"Jupiter\">&#1',\n b'<tr id=\"planet6\" class=\"planet\" name=\"Saturn\">&#13',\n b'<tr id=\"planet7\" class=\"planet\" name=\"Uranus\">&#13',\n b'<tr id=\"planet8\" class=\"planet\" name=\"Neptune\">&#1',\n b'<tr id=\"planet9\" class=\"planet\" name=\"Pluto\">\n']\n```", "```py\nIn [7]: [etree.tostring(tr)[:50] for tr in tree.xpath(\"/html/body/div[2]/table/tr\")]\nOut[7]: [b'<tr id=\"footerRow\">\n\\n <td>\n']\n```", "```py\n  <div id=\"planets\">  \n```", "```py\nIn [8]: [etree.tostring(tr)[:50] for tr in tree.xpath(\"/html/body/div[@id='planets']/table/tr\")]\nOut[8]:\n[b'<tr id=\"planetHeader\">\n\\n <th>&#',\n b'<tr id=\"planet1\" class=\"planet\" name=\"Mercury\">&#1',\n b'<tr id=\"planet2\" class=\"planet\" name=\"Venus\">\n',\n b'<tr id=\"planet3\" class=\"planet\" name=\"Earth\">\n',\n b'<tr id=\"planet4\" class=\"planet\" name=\"Mars\">\n\\n',\n b'<tr id=\"planet5\" class=\"planet\" name=\"Jupiter\">&#1',\n b'<tr id=\"planet6\" class=\"planet\" name=\"Saturn\">&#13',\n b'<tr id=\"planet7\" class=\"planet\" name=\"Uranus\">&#13',\n b'<tr id=\"planet8\" class=\"planet\" name=\"Neptune\">&#1',\n b'<tr id=\"planet9\" class=\"planet\" name=\"Pluto\">\n']\n```", "```py\nIn [9]: [etree.tostring(tr)[:50] for tr in tree.xpath(\"/html/body/div[@id='planets']/table/tr[@id!='planetHeader']\")]\nOut[9]:\n[b'<tr id=\"planet1\" class=\"planet\" name=\"Mercury\">&#1',\n b'<tr id=\"planet2\" class=\"planet\" name=\"Venus\">\n',\n b'<tr id=\"planet3\" class=\"planet\" name=\"Earth\">\n',\n b'<tr id=\"planet4\" class=\"planet\" name=\"Mars\">\n\\n',\n b'<tr id=\"planet5\" class=\"planet\" name=\"Jupiter\">&#1',\n b'<tr id=\"planet6\" class=\"planet\" name=\"Saturn\">&#13',\n b'<tr id=\"planet7\" class=\"planet\" name=\"Uranus\">&#13',\n b'<tr id=\"planet8\" class=\"planet\" name=\"Neptune\">&#1',\n b'<tr id=\"planet9\" class=\"planet\" name=\"Pluto\">\n']\n```", "```py\nIn [10]: [etree.tostring(tr)[:50] for tr in tree.xpath(\"/html/body/div[@id='planets']/table/tr[position() > 1]\")]\nOut[10]:\n[b'<tr id=\"planet1\" class=\"planet\" name=\"Mercury\">&#1',\n b'<tr id=\"planet2\" class=\"planet\" name=\"Venus\">\n',\n b'<tr id=\"planet3\" class=\"planet\" name=\"Earth\">\n',\n b'<tr id=\"planet4\" class=\"planet\" name=\"Mars\">\n\\n',\n b'<tr id=\"planet5\" class=\"planet\" name=\"Jupiter\">&#1',\n b'<tr id=\"planet6\" class=\"planet\" name=\"Saturn\">&#13',\n b'<tr id=\"planet7\" class=\"planet\" name=\"Uranus\">&#13',\n b'<tr id=\"planet8\" class=\"planet\" name=\"Neptune\">&#1',\n b'<tr id=\"planet9\" class=\"planet\" name=\"Pluto\">\n']\n```", "```py\nIn [11]: [etree.tostring(tr)[:50] for tr in tree.xpath(\"/html/body/div/table/tr/parent::*\")]\nOut[11]:\n[b'<table id=\"planetsTable\" border=\"1\">\n\\n ',\n b'<table id=\"footerTable\">\n\\n <tr id=\"']\n```", "```py\nIn [12]: [etree.tostring(tr)[:50] for tr in tree.xpath(\"/html/body/div/table/tr/parent::table\")]\nOut[12]:\n[b'<table id=\"planetsTable\" border=\"1\">\n\\n ',\n b'<table id=\"footerTable\">\n\\n <tr id=\"']\n```", "```py\nIn [13]: [etree.tostring(tr)[:50] for tr in tree.xpath(\"/html/body/div/table/tr/parent::table[@id='footerTable']\")]\nOut[13]: [b'<table id=\"footerTable\">\n\\n <tr id=\"']\n```", "```py\nIn [14]: [etree.tostring(tr)[:50] for tr in tree.xpath(\"/html/body/div/table/tr/..\")]\nOut[14]:\n[b'<table id=\"planetsTable\" border=\"1\">\n\\n ',\n b'<table id=\"footerTable\">\n\\n <tr id=\"']\n```", "```py\nIn [15]: mass = tree.xpath(\"/html/body/div[1]/table/tr[@name='Earth']/td[3]/text()[1]\")[0].strip()\n    ...: mass\nOut[15]: '5.97'\n```", "```py\nIn [1]: from lxml import html\n   ...: import requests\n   ...: page_html = requests.get(\"http://localhost:8080/planets.html\").text\n   ...: tree = html.fromstring(page_html)\n   ...:\n```", "```py\nIn [2]: [(v, v.xpath(\"@name\")) for v in tree.cssselect('tr.planet')]\nOut[2]:\n[(<Element tr at 0x10d3a2278>, ['Mercury']),\n (<Element tr at 0x10c16ed18>, ['Venus']),\n (<Element tr at 0x10e445688>, ['Earth']),\n (<Element tr at 0x10e477228>, ['Mars']),\n (<Element tr at 0x10e477408>, ['Jupiter']),\n (<Element tr at 0x10e477458>, ['Saturn']),\n (<Element tr at 0x10e4774a8>, ['Uranus']),\n (<Element tr at 0x10e4774f8>, ['Neptune']),\n (<Element tr at 0x10e477548>, ['Pluto'])]\n```", "```py\nIn [3]: tr = tree.cssselect(\"tr#planet3\")\n   ...: tr[0], tr[0].xpath(\"./td[2]/text()\")[0].strip()\n   ...:\nOut[3]: (<Element tr at 0x10e445688>, 'Earth')\n```", "```py\nIn [4]: tr = tree.cssselect(\"tr[name='Pluto']\")\n   ...: tr[0], tr[0].xpath(\"td[2]/text()\")[0].strip()\n   ...:\nOut[5]: (<Element tr at 0x10e477548>, 'Pluto')\n```", "```py\nIn [1]: from scrapy.selector import Selector\n   ...: import requests\n   ...:\n```", "```py\nIn [2]: response = requests.get(\"http://stackoverflow.com/questions\")\n```", "```py\nIn [3]: selector = Selector(response)\n   ...: selector\n   ...:\nOut[3]: <Selector xpath=None data='<html>\\r\\n\\r\\n <head>\\r\\n\\r\\n <title>N'>\n```", "```py\nIn [4]: summaries = selector.xpath('//div[@class=\"summary\"]/h3')\n   ...: summaries[0:5]\n   ...:\nOut[4]:\n[<Selector xpath='//div[@class=\"summary\"]/h3' data='<h3><a href=\"/questions/48353091/how-to-'>,\n <Selector xpath='//div[@class=\"summary\"]/h3' data='<h3><a href=\"/questions/48353090/move-fi'>,\n <Selector xpath='//div[@class=\"summary\"]/h3' data='<h3><a href=\"/questions/48353089/java-la'>,\n <Selector xpath='//div[@class=\"summary\"]/h3' data='<h3><a href=\"/questions/48353086/how-do-'>,\n <Selector xpath='//div[@class=\"summary\"]/h3' data='<h3><a href=\"/questions/48353085/running'>]\n```", "```py\nIn [5]: [x.extract() for x in summaries.xpath('a[@class=\"question-hyperlink\"]/text()')][:10]\nOut[5]:\n['How to convert stdout binary file to a data URL?',\n 'Move first letter from sentence to the end',\n 'Java launch program and interact with it programmatically',\n 'How do I build vala from scratch',\n 'Running Sql Script',\n 'Mysql - Auto create, update, delete table 2 from table 1',\n 'how to map meeting data corresponding calendar time in java',\n 'Range of L*a* b* in Matlab',\n 'set maximum and minimum number input box in js,html',\n 'I created generic array and tried to store the value but it is showing ArrayStoreException']\n```", "```py\nIn [8]: from urllib.request import urlopen\n   ...: page = urlopen(\"http://localhost:8080/unicode.html\")\n   ...: content = page.read()\n   ...: content[840:1280]\n   ...:\nOut[8]: b'><strong>Cyrillic</strong> &nbsp; U+0400 \\xe2\\x80\\x93 U+04FF &nbsp; (1024\\xe2\\x80\\x931279)</p>\\n <table class=\"unicode\">\\n <tbody>\\n <tr valign=\"top\">\\n <td width=\"50\">&nbsp;</td>\\n <td class=\"b\" width=\"50\">\\xd0\\x89</td>\\n <td class=\"b\" width=\"50\">\\xd0\\xa9</td>\\n <td class=\"b\" width=\"50\">\\xd1\\x89</td>\\n <td class=\"b\" width=\"50\">\\xd3\\x83</td>\\n </tr>\\n </tbody>\\n </table>\\n\\n '\n```", "```py\nIn [9]: str(content, \"utf-8\")[837:1270]\nOut[9]: '<strong>Cyrillic</strong> &nbsp; U+0400 \u2013 U+04FF &nbsp; (1024\u20131279)</p>\\n <table class=\"unicode\">\\n <tbody>\\n <tr valign=\"top\">\\n <td width=\"50\">&nbsp;</td>\\n <td class=\"b\" width=\"50\">\u0409</td>\\n <td class=\"b\" width=\"50\">\u0429</td>\\n <td class=\"b\" width=\"50\">\u0449</td>\\n <td class=\"b\" width=\"50\">\u04c3</td>\\n </tr>\\n </tbody>\\n </table>\\n\\n '\n```", "```py\nIn [9]: import requests\n   ...: response = requests.get(\"http://localhost:8080/unicode.html\").text\n   ...: response.text[837:1270]\n   ...:\n'<strong>Cyrillic</strong> &nbsp; U+0400 \u2013 U+04FF &nbsp; (1024\u20131279)</p>\\n <table class=\"unicode\">\\n <tbody>\\n <tr valign=\"top\">\\n <td width=\"50\">&nbsp;</td>\\n <td class=\"b\" width=\"50\">\u0409</td>\\n <td class=\"b\" width=\"50\">\u0429</td>\\n <td class=\"b\" width=\"50\">\u0449</td>\\n <td class=\"b\" width=\"50\">\u04c3</td>\\n </tr>\\n </tbody>\\n </table>\\n\\n '\n```", "```py\n<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\">\n```"]