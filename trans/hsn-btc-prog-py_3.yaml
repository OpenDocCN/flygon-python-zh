- en: Earning Bitcoin Programmatically
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 以编程方式赚取比特币
- en: In this chapter, we will learn how to start accepting bitcoin as a payment method
    on our websites. We'll also learn how to build API-based microservices to earn
    bitcoin, and explore bitcoin trading bots.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将学习如何在我们的网站上开始接受比特币作为支付方式。我们还将学习如何构建基于API的微服务以赚取比特币，并探索比特币交易机器人。
- en: Accepting bitcoin on your website
  id: totrans-2
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在您的网站上接受比特币
- en: 'In this section, we will learn about the following topics:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将学习以下主题：
- en: How to enable bitcoin payment on our websites
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何在我们的网站上启用比特币支付
- en: Introduction to BitPay, a third-party bitcoin API service
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 介绍BitPay，第三方比特币API服务
- en: How to generate a bitcoin payment button
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何生成比特币支付按钮
- en: How to add a bitcoin payment button to our website
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何在我们的网站上添加比特币支付按钮
- en: There are a lot of third-party APIs that are available on the web that enable
    developers to start accepting bitcoin for products or services on their website
    quickly. One of the most popular ones is BitPay.
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: 有很多第三方API可用于网站上快速启用比特币支付，其中最流行的之一是BitPay。
- en: Introduction to BitPay
  id: totrans-9
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 介绍BitPay
- en: 'BitPay can be used to accept payment in a lot of different ways, including
    the following:'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: BitPay可用于以多种不同的方式接受付款，包括以下方式：
- en: You can use bitcoin to accept online payments on e-commerce websites
  id: totrans-11
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以使用比特币在电子商务网站上接受在线付款
- en: Integrate bitcoin with a lot of different e-commerce solutions
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 将比特币与许多不同的电子商务解决方案集成
- en: Integrating with shopping carts
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 与购物车集成
- en: You can display bitcoin-enabled payment buttons, which work well for accepting
    donations on blogs or podcasts
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 您可以显示启用比特币的支付按钮，这对于在博客或播客上接受捐赠非常有效
- en: How to generate a bitcoin payment button
  id: totrans-15
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何生成比特币支付按钮
- en: 'Go through the following steps to generate a bitcoin payment button:'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤生成比特币支付按钮：
- en: First, sign up and log in to BitPay at [https://bitpay.com/](https://bitpay.com/).
  id: totrans-17
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，注册并登录BitPay，网址为[https://bitpay.com/](https://bitpay.com/)。
- en: 'Next, go to the Payment Tools | Payment Buttons page and create a payment button:'
  id: totrans-18
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，转到“支付工具|支付按钮”页面并创建支付按钮：
- en: '![](Images/93f292a5-40e9-4e2c-ae66-6b23f2881b74.png)'
  id: totrans-19
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/93f292a5-40e9-4e2c-ae66-6b23f2881b74.png)'
- en: 'New fields require a SERVER IPN for a secure server POST, and the amount gets
    paid when the user clicks on it. You will see the preview of the button at the
    bottom of the page:'
  id: totrans-20
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 新字段需要安全服务器POST的SERVER IPN，并且用户点击时会支付金额。您将在页面底部看到按钮的预览：
- en: '![](Images/4759a749-5b1d-4089-9b53-a1530f49c767.png)'
  id: totrans-21
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/4759a749-5b1d-4089-9b53-a1530f49c767.png)'
- en: To add this button to the website, just copy the HTML code and paste it in the
    required web page.
  id: totrans-22
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要将此按钮添加到网站，只需复制HTML代码并粘贴到所需的网页中。
- en: How to add a bitcoin payment button to your website
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何在您的网站上添加比特币支付按钮
- en: 'Go through the following steps to add the payment button to your website page:'
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 按照以下步骤将支付按钮添加到您的网站页面：
- en: Open the source code of your website page in the code editor.
  id: totrans-25
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在代码编辑器中打开您网站页面的源代码。
- en: Paste the HTML code that we copied from the BitPay website in the previous section,
    save the file, and reload the web page.
  id: totrans-26
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 粘贴我们在上一节从BitPay网站复制的HTML代码，保存文件并重新加载网页。
- en: 'The following screenshot shows the web page with a payment button that users
    can use to send payments:'
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 以下截图显示了网页上的支付按钮，用户可以使用它发送付款：
- en: '![](Images/dcbe546f-cdb5-464e-b2f1-28e9e4a0f1be.png)'
  id: totrans-28
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/dcbe546f-cdb5-464e-b2f1-28e9e4a0f1be.png)'
- en: Building and releasing bitcoin-enabled APIs
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 构建和发布启用比特币的API
- en: 'In this section, we will learn about the following topics:'
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将学习以下主题：
- en: Introducing the 21.co marketplace
  id: totrans-31
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 介绍21.co市场
- en: Getting started with the 21.co SDK
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开始使用21.co SDK
- en: Starting to sell services for bitcoin
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 开始为比特币出售服务
- en: 21.co marketplace
  id: totrans-34
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 21.co市场
- en: 21.co is a platform that hosts a virtual marketplace where developers can create
    and sell microservices in return  for bitcoin. For more information please refer
    to [https://earn.com/](https://earn.com/).
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 21.co是一个平台，托管了一个虚拟市场，开发人员可以在其中创建并出售微服务以换取比特币。有关更多信息，请参阅[https://earn.com/](https://earn.com/)。
- en: We will demonstrate how to join this marketplace and sell microservices to earn
    bitcoin.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将演示如何加入这个市场并出售微服务以赚取比特币。
- en: To do this, we will use 21.co's SDK.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 为此，我们将使用21.co的SDK。
- en: 21.co SDK
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 21.co SDK
- en: The 21.co SDK is currently supported on Ubuntu and macOS. A demonstration of
    Ubuntu running on AWS will be seen in this section.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 21.co SDK目前支持Ubuntu和macOS。本节将演示在AWS上运行Ubuntu的情况。
- en: You can create an AWS Ubuntu 14.x instance on AWS by following the instructions
    from [https://aws.amazon.com/premiumsupport/knowledge-center/create-linux-instance/](https://aws.amazon.com/premiumsupport/knowledge-center/create-linux-instance/).
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 您可以按照[https://aws.amazon.com/premiumsupport/knowledge-center/create-linux-instance/](https://aws.amazon.com/premiumsupport/knowledge-center/create-linux-instance/)上的说明在AWS上创建AWS
    Ubuntu 14.x实例。
- en: After creating the AWS instance, connect to it by following the instructions
    from the AWS documentation page at [https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstances.html](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstances.html).
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 创建AWS实例后，请按照AWS文档页面上的说明连接到它，网址为[https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstances.html](https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/AccessingInstances.html)。
- en: 'Once connected to the AWS instance, install the 21.co SDK. You can do this
    by executing the following command:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 连接到AWS实例后，安装21.co SDK。您可以通过执行以下命令来完成：
- en: '[PRE0]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Once the SDK is installed, log in to your 21.co account by executing the following
    command:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 安装SDK后，通过执行以下命令登录到您的21.co帐户：
- en: '[PRE1]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'If a user does not have a 21.co login, they must create an account on the 21.co website.
    After logging in, first join the 21.co node to the 21.co virtual marketplace.
    You can do this by executing the following command:'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 如果用户没有21.co登录，则必须在21.co网站上创建帐户。登录后，首先加入21.co节点到21.co虚拟市场。您可以通过执行以下命令来完成：
- en: '[PRE2]'
  id: totrans-47
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'The status of the user''s join request can be achieved by executing the following command:'
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 通过执行以下命令可以实现用户加入请求的状态：
- en: '[PRE3]'
  id: totrans-49
  prefs: []
  type: TYPE_PRE
  zh: '[PRE3]'
- en: 'Next, test the installation by executing the following command:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，通过执行以下命令测试安装：
- en: '[PRE4]'
  id: totrans-51
  prefs: []
  type: TYPE_PRE
  zh: '[PRE4]'
- en: The preceding command will show that all the tests have been passed and the
    node is set up and joined to the 21.co marketplace.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 上述命令将显示所有测试都已通过，并且节点已设置并加入了21.co市场。
- en: 'In order to get the bitcoin balance, execute the following command:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: 为了获取比特币余额，执行以下命令：
- en: '[PRE5]'
  id: totrans-54
  prefs: []
  type: TYPE_PRE
  zh: '[PRE5]'
- en: The preceding code shows you the bitcoin balance that is being held in the 21.co
    account.
  id: totrans-55
  prefs: []
  type: TYPE_NORMAL
  zh: 上述代码显示了在21.co账户中持有的比特币余额。
- en: Selling microservices on the 21.co marketplace
  id: totrans-56
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在21.co市场上出售微服务
- en: '21.co''s SDK comes bundled with some services. To start all of them, execute
    the following command:'
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 21.co的SDK捆绑了一些服务。要启动所有这些服务，请执行以下命令：
- en: '[PRE6]'
  id: totrans-58
  prefs: []
  type: TYPE_PRE
  zh: '[PRE6]'
- en: There might be a prompt to install a dependency. If so, you should go ahead
    and do it.
  id: totrans-59
  prefs: []
  type: TYPE_NORMAL
  zh: 可能会提示安装依赖项。如果是这样，您应该继续并执行。
- en: Sometimes, the user might need to log out and log in again to set the changes
    up.
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
  zh: 有时，用户可能需要注销并重新登录以进行更改。
- en: 'For selling microservices on the 21.co marketplace, perform the following steps:'
  id: totrans-61
  prefs: []
  type: TYPE_NORMAL
  zh: 在21.co市场上出售微服务，请执行以下步骤：
- en: 'Execute the following command:'
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 执行以下命令：
- en: '[PRE7]'
  id: totrans-63
  prefs: []
  type: TYPE_PRE
  zh: '[PRE7]'
- en: It will show you the listing of all the microservices that are available to
    start selling in the virtual marketplace.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
  zh: 它将显示所有可在虚拟市场上开始销售的微服务的列表。
- en: 'To look at the status of your services, execute the following command:'
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要查看服务的状态，请执行以下命令：
- en: '[PRE8]'
  id: totrans-66
  prefs: []
  type: TYPE_PRE
  zh: '[PRE8]'
- en: 'Once you are done with the services, or if you want to stop it, run the following
    command:'
  id: totrans-67
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成服务后，或者如果要停止它，请运行以下命令：
- en: '[PRE9]'
  id: totrans-68
  prefs: []
  type: TYPE_PRE
  zh: '[PRE9]'
- en: 'To look at all the activity that happened on the node, use the following command:'
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 要查看节点上发生的所有活动，请使用以下命令：
- en: '[PRE10]'
  id: totrans-70
  prefs: []
  type: TYPE_PRE
  zh: '[PRE10]'
- en: This was a demonstration of how to earn bitcoin by selling and listing microservices
    on the 21.co marketplace.
  id: totrans-71
  prefs: []
  type: TYPE_NORMAL
  zh: 这是如何通过在21.co市场上出售和列出微服务来赚取比特币的演示。
- en: Building a bitcoin trading bot
  id: totrans-72
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 构建比特币交易机器人
- en: 'In this section, we will learn about the following topics:'
  id: totrans-73
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将学习以下主题：
- en: How to get the current bid and asking price for bitcoin
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何获取比特币的当前出价和要价
- en: How to make a decision whether to buy or sell bitcoin
  id: totrans-75
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 如何决定是否买入或卖出比特币
- en: Triggering the bitcoin trade advice alert
  id: totrans-76
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 触发比特币交易建议警报
- en: Actual buying and selling of bitcoin won't be covered, as it involves actual
    money. However, we will focus on sending an email alert when it is trying to buy
    or sell bitcoin based on the condition we set.
  id: totrans-77
  prefs: []
  type: TYPE_NORMAL
  zh: 实际的比特币买卖不会被涵盖，因为涉及实际货币。但是，我们将专注于根据我们设置的条件尝试买入或卖出比特币时发送电子邮件警报。
- en: We will use the bitcoin price API module to fetch the bitcoin price. It is available
    on GitHub at [https://github.com/dursk/bitcoin-price-api](https://github.com/dursk/bitcoin-price-api).
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将使用比特币价格API模块来获取比特币价格。它可以在GitHub上找到[https://github.com/dursk/bitcoin-price-api](https://github.com/dursk/bitcoin-price-api)。
- en: Triggering the bitcoin trade advice alert
  id: totrans-79
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 触发比特币交易建议警报
- en: 'In order to setup the bitcoin trade advice alert, go through the following
    steps:'
  id: totrans-80
  prefs: []
  type: TYPE_NORMAL
  zh: 为了设置比特币交易建议警报，请按照以下步骤进行：
- en: 'First, start by importing the bitcoin price API, called `exchanges`:'
  id: totrans-81
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，通过导入名为`exchanges`的比特币价格API开始：
- en: '[PRE11]'
  id: totrans-82
  prefs: []
  type: TYPE_PRE
  zh: '[PRE11]'
- en: 'Also import `smtplib`, which we will use for triggering the bitcoin price alert.
    Here, we define a function called `trigger_email`. We then set the server user
    and email details:'
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 还要导入`smtplib`，我们将用它来触发比特币价格警报。在这里，我们定义了一个名为`trigger_email`的函数。然后设置服务器用户和电子邮件详细信息：
- en: '[PRE12]'
  id: totrans-84
  prefs: []
  type: TYPE_PRE
  zh: '[PRE12]'
- en: 'Using `smtplib`, send the `sendmail` function to send the price alert email,
    as shown in the following code:'
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用`smtplib`，发送`sendmail`函数发送价格警报电子邮件，如下面的代码所示：
- en: '[PRE13]'
  id: totrans-86
  prefs: []
  type: TYPE_PRE
  zh: '[PRE13]'
- en: 'Next, define the buy and sell price thresholds for bitcoin. Use these thresholds
    to make decisions on whether to sell or buy bitcoin:'
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，为比特币定义买入和卖出价格阈值。使用这些阈值来决定是否卖出或买入比特币：
- en: '[PRE14]'
  id: totrans-88
  prefs: []
  type: TYPE_PRE
  zh: '[PRE14]'
- en: Next, we get the current bitcoin price and the current asking price for bitcoin
    from Bitfinex bitcoin exchange using the `exchanges` module that we imported in
    the `bitcoin_trade.py` script. We can also use some other exchanges, such as CoinDesk,
    but for the moment, we will use Bitfinex. We will get these prices in `btc_sell_price`
    and `btc_buy_price`.
  id: totrans-89
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，我们从Bitfinex比特币交易所使用我们在`bitcoin_trade.py`脚本中导入的`exchanges`模块获取当前比特币价格和当前出价。我们也可以使用其他交易所，如CoinDesk，但目前我们将使用Bitfinex。我们将在`btc_sell_price`和`btc_buy_price`中获取这些价格。
- en: '[PRE15]'
  id: totrans-90
  prefs: []
  type: TYPE_PRE
  zh: '[PRE15]'
- en: Once we have the current prices, we can compare them with the threshold prices
    we have set before.
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦我们得到了当前的价格，我们可以将它们与之前设置的阈值价格进行比较。
- en: 'If the buy price is lower than the sell threshold, we call the `trigger_email`
    function to send a buy trigger email alarm:'
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果买入价格低于卖出阈值，我们调用`trigger_email`函数发送买入触发电子邮件警报：
- en: '[PRE16]'
  id: totrans-93
  prefs: []
  type: TYPE_PRE
  zh: '[PRE16]'
- en: 'If the sell price is greater than the sell threshold, we call the `trigger_email`
    function to send the sell trigger email alert:'
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果卖出价格高于卖出阈值，我们调用`trigger_email`函数发送卖出触发电子邮件警报：
- en: '[PRE17]'
  id: totrans-95
  prefs: []
  type: TYPE_PRE
  zh: '[PRE17]'
- en: How to get a current bid and asking price for bitcoin
  id: totrans-96
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 如何获取比特币的当前出价和要价
- en: Google search is the simplest way to search for the current bid rate. In  order
    to achieve the buying and selling of bitcoin, the triggering of both should be
    done accordingly.
  id: totrans-97
  prefs: []
  type: TYPE_NORMAL
  zh: 谷歌搜索是搜索当前出价的最简单方法。为了实现比特币的买卖，应相应地触发两者。
- en: The triggering of buy bitcoin
  id: totrans-98
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 买入比特币的触发
- en: 'The following are the steps to go through to get the current bid:'
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
  zh: 以下是获取当前出价的步骤：
- en: First, check the bitcoin price online.
  id: totrans-100
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 首先，检查比特币价格在线。
- en: 'Modify the script so that the buy alert triggers first. Set the buy threshold
    to higher than the current price. Here, we set the buy threshold to `6500`, as
    shown in the following code:'
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 修改脚本，使买入警报首先触发。将买入阈值设置为高于当前价格。在这里，我们将买入阈值设置为`6500`，如下面的代码所示：
- en: '[PRE18]'
  id: totrans-102
  prefs: []
  type: TYPE_PRE
  zh: '[PRE18]'
- en: 'Save the script and execute it. The following screenshot shows the executed
    script:'
  id: totrans-103
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 保存脚本并执行它。以下屏幕截图显示了执行的脚本：
- en: '![](Images/f2b014be-60ca-42e1-9d35-afb6b8934f25.png)'
  id: totrans-104
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/f2b014be-60ca-42e1-9d35-afb6b8934f25.png)'
- en: The script has been executed and the buy alert should have gone. Check it in
    the email.
  id: totrans-105
  prefs: []
  type: TYPE_NORMAL
  zh: 脚本已执行，买入警报应该已经发出。在电子邮件中检查。
- en: 'The following screenshot shows that we have received the bitcoin alert email
    advising us to buy bitcoin, according to the criteria that we have set up in the
    script:'
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 以下屏幕截图显示，根据我们在脚本中设置的标准，我们已收到比特币警报电子邮件，建议我们购买比特币：
- en: '![](Images/f282db35-a16e-418a-9130-b5617860f644.png)'
  id: totrans-107
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/f282db35-a16e-418a-9130-b5617860f644.png)'
- en: The triggering of sell bitcoin
  id: totrans-108
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 出售比特币的触发
- en: 'Initially, we should set the sell threshold as lower than the current price.
    So, for example, let''s set the threshold for `6400` and execute the script again.
    The following code shows that the `sell_thresh` is set to `6400`:'
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最初，我们应该将出售门槛设置为低于当前价格。例如，让我们将“6400”作为门槛，并再次执行脚本。以下代码显示了“sell_thresh”设置为“6400”：
- en: '[PRE19]'
  id: totrans-110
  prefs: []
  type: TYPE_PRE
  zh: '[PRE19]'
- en: Now, the sell alert should execute. Verify it in the email again.
  id: totrans-111
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，出售警报应该执行。再次在电子邮件中验证。
- en: 'After verifying this, we should see that we have received the email alert advising
    us to sell bitcoin because the current asking price is higher than what we are
    willing to sell for:'
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 验证后，我们应该看到我们已收到电子邮件警报，建议我们出售比特币，因为当前的要价高于我们愿意出售的价格：
- en: '![](Images/7411d4ff-e5e5-4329-8a85-ad1028db7e5d.png)'
  id: totrans-113
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/7411d4ff-e5e5-4329-8a85-ad1028db7e5d.png)'
- en: The script is ready. You can now set it to run automatically on all kinds of
    operating systems. On Windows, use the Task Scheduler.
  id: totrans-114
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 脚本已准备好。您现在可以将其设置为在各种操作系统上自动运行。在Windows上，请使用任务计划程序。
- en: 'From the Action menu, choose Create Task..., and give it the name `Bitcoin
    trade alert`, as shown in the following screenshot:'
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从“操作”菜单中，选择“创建任务...”，并将其命名为“比特币交易警报”，如下面的屏幕截图所示：
- en: '![](Images/16930c9b-5dc9-4cf0-98f6-b24e9ef7d6a6.png)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/16930c9b-5dc9-4cf0-98f6-b24e9ef7d6a6.png)'
- en: 'From the Triggers tab, click on New..., as shown in the following screenshot:'
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从“触发器”选项卡中，单击“新建...”，如下面的屏幕截图所示：
- en: '![](Images/db4a9f31-fc7c-4b26-9200-e69ce721a1b3.png)'
  id: totrans-118
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/db4a9f31-fc7c-4b26-9200-e69ce721a1b3.png)'
- en: Choose the Daily radio button.
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择“每日”单选按钮。
- en: 'Then, in Advanced settings, choose to repeat the task after the required number
    of minutes or hours. Here, we will set it to every 1 hour, as shown in the following
    screenshot:'
  id: totrans-120
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，在高级设置中，选择在所需的分钟数或小时数后重复任务。在这里，我们将其设置为每1小时，如下面的屏幕截图所示：
- en: '![](Images/25ab6125-89c7-4b6c-9179-7726eae677db.png)'
  id: totrans-121
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/25ab6125-89c7-4b6c-9179-7726eae677db.png)'
- en: Next, from the Actions tab, click on the New... button.
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，从“操作”选项卡中，单击“新建...”按钮。
- en: Choose the script that was created to be executed whenever the task runs by
    clicking on the Browse... button. Now, this task will run automatically every
    hour, and will check for bitcoin prices and send an email advising us whether
    to buy or sell bitcoin.
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 通过单击“浏览...”按钮选择要在任务运行时执行的脚本。现在，此任务将每小时自动运行，并将检查比特币价格，并发送电子邮件建议我们是否买入或卖出比特币。
- en: '![](Images/7f832c54-9ef9-424e-9a59-9839c8943f5d.png)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
  zh: '![](Images/7f832c54-9ef9-424e-9a59-9839c8943f5d.png)'
- en: You can also choose to trigger the trade right from the script itself, using
    any of the bitcoin exchange APIs, such as coinbase.com. As it involves actual
    money, the user needs to be careful with it.
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 您还可以选择直接从脚本中触发交易，使用任何比特币交易所API，例如coinbase.com。由于涉及实际资金，用户需要小心处理。
- en: Summary
  id: totrans-126
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we explored how to enable bitcoin payments on a website, introduced
    you to BitPay, learned about how to generate a bitcoin payment button, and how
    to add the payment button to our websites. We also introduced the 21.co marketplace
    and buying/selling services for bitcoin, as well as writing a bare bones bitcoin
    trading bot. We learned how to get the current bidding and asking prices for bitcoin.
    We also learned how to decide as to whether to buy or sell bitcoins, as well as
    how to send out an email alert advising us whether to execute that thread.
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们探讨了如何在网站上启用比特币支付，向您介绍了BitPay，学习了如何生成比特币支付按钮，以及如何将支付按钮添加到我们的网站上。我们还介绍了21.co市场和比特币的买卖服务，以及编写了一个简单的比特币交易机器人。我们学会了如何获取比特币的当前竞价和要价。我们还学会了如何决定是买入还是卖出比特币，以及如何发送电子邮件警报，建议我们是否执行该线程。
- en: In the next chapter, we will learn about performing data analysis on bitcoin
    data.
  id: totrans-128
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将学习如何对比特币数据进行数据分析。
