["```py\n$ docker pull --help\n\nUsage: docker pull [OPTIONS] NAME[:TAG|@DIGEST]\n\nPull an image or a repository from a registry\n\nOptions:\n  -a, --all-tags Download all tagged images in the repository\n      --disable-content-trust Skip image verification (default true)\n      --help Print usage\n```", "```py\n$docker pull rabbitmq:3-management\n```", "```py\n3-management: Pulling from library/rabbitmq\ne7bb522d92ff: Pull complete \nad90649c4d84: Pull complete \n5a318b914d6c: Pull complete \ncedd60f70052: Pull complete \nf4ec28761801: Pull complete \nb8fa44aa9074: Pull complete \ne3b16d5314a0: Pull complete \n7d93dd9659c8: Pull complete \n356c2fc6e036: Pull complete \n3f52408394ed: Pull complete \n7c89a0fb0219: Pull complete \n1e37a15bd7aa: Pull complete \n9313c22c63d5: Pull complete \nc21bcdaa555d: Pull complete \nDigest: sha256:c7466443efc28846bb0829d0f212c1c32e2b03409996cee38be4402726c56a26 \nStatus: Downloaded newer image for rabbitmq:3-management \n```", "```py\n$ docker images \nREPOSITORY TAG IMAGE    ID           CREATED     SIZE \nrabbitmq   3-management 6cb6e2f951a8 10 days ago 151MB\n```", "```py\n$ docker run -d -p 15672:15672 -p 5672:5672 rabbitmq:3-management\n094a138383764f487e5ad0dab45ff64c08fe8019e5b0da79cfb1c36abec69cc8\n```", "```py\n$ docker ps\nCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES\n094a13838376 rabbitmq:3-management \"docker-entrypoint...\" 5 minutes ago Up 5 minutes 4369/tcp, 5671/tcp, 0.0.0.0:5672->5672/tcp, 15671/tcp, 25672/tcp, 0.0.0.0:15672->15672/tcp dreamy_easley\n```", "```py\n$docker pull docker.elastic.co/elasticsearch/elasticsearch:6.1.1\n```", "```py\nDigest: sha256:9e6c7d3c370a17736c67b2ac503751702e35a1336724741d00ed9b3d00434fcb \nStatus: Downloaded newer image for docker.elastic.co/elasticsearch/elasticsearch:6.1.1\n```", "```py\n$ docker images \nREPOSITORY TAG IMAGE ID CREATED SIZE \nrabbitmq 3-management 6cb6e2f951a8 12 days ago 151MB docker.elastic.co/elasticsearch/elasticsearch 6.1.1 06f0d8328d66 2 weeks ago 539MB\n```", "```py\ndocker run -e ELASTIC_PASSWORD=MagicWord -p 9200:9200 -p 9300:9300 docker.elastic.co/elasticsearch/elasticsearch:6.1.1\n```", "```py\n$ docker ps\nCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES\n308a02f0e1a5 docker.elastic.co/elasticsearch/elasticsearch:6.1.1 \"/usr/local/bin/do...\" 7 seconds ago Up 6 seconds 0.0.0.0:9200->9200/tcp, 0.0.0.0:9300->9300/tcp romantic_kowalevski\n094a13838376 rabbitmq:3-management \"docker-entrypoint...\" 47 hours ago Up 47 hours 4369/tcp, 5671/tcp, 0.0.0.0:5672->5672/tcp, 15671/tcp, 25672/tcp, 0.0.0.0:15672->15672/tcp dreamy_easley\n```", "```py\n$ curl localhost:9200\n{\n \"name\" : \"8LaZfMY\",\n \"cluster_name\" : \"docker-cluster\",\n \"cluster_uuid\" : \"CFgPERC8TMm5KaBAvuumvg\",\n \"version\" : {\n \"number\" : \"6.1.1\",\n \"build_hash\" : \"bd92e7f\",\n \"build_date\" : \"2017-12-17T20:23:25.338Z\",\n \"build_snapshot\" : false,\n \"lucene_version\" : \"7.1.0\",\n \"minimum_wire_compatibility_version\" : \"5.6.0\",\n \"minimum_index_compatibility_version\" : \"5.0.0\"\n },\n \"tagline\" : \"You Know, for Search\"\n}\n```", "```py\n$ docker ps\nCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES\n308a02f0e1a5 docker.elastic.co/elasticsearch/elasticsearch:6.1.1 \"/usr/local/bin/do...\" 7 seconds ago Up 6 seconds 0.0.0.0:9200->9200/tcp, 0.0.0.0:9300->9300/tcp romantic_kowalevski\n094a13838376 rabbitmq:3-management \"docker-entrypoint...\" 47 hours ago Up 47 hours 4369/tcp, 5671/tcp, 0.0.0.0:5672->5672/tcp, 15671/tcp, 25672/tcp, 0.0.0.0:15672->15672/tcp dreamy_easley\n```", "```py\n$ docker stop 30\n30\n```", "```py\n$ docker ps\nCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES\n094a13838376 rabbitmq:3-management \"docker-entrypoint...\" 2 days ago Up 2 days 4369/tcp, 5671/tcp, 0.0.0.0:5672->5672/tcp, 15671/tcp, 25672/tcp, 0.0.0.0:15672->15672/tcp dreamy_easley\n```", "```py\n$ docker ps -a\nCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES\n308a02f0e1a5 docker.elastic.co/elasticsearch/elasticsearch:6.1.1 \"/usr/local/bin/do...\" 11 minutes ago Exited (143) 5 minutes ago romantic_kowalevski\n548fc19e8b8d docker.elastic.co/elasticsearch/elasticsearch:6.1.1 \"/usr/local/bin/do...\" 12 minutes ago Exited (130) 12 minutes ago competent_keller\n15c83ca72108 docker.elastic.co/elasticsearch/elasticsearch:6.1.1 \"/usr/local/bin/do...\" 15 minutes ago Exited (130) 14 minutes ago peaceful_jennings\n3191f204c661 docker.elastic.co/elasticsearch/elasticsearch:6.1.1 \"/usr/local/bin/do...\" 18 minutes ago Exited (130) 16 minutes ago thirsty_hermann\nb44f1da7613f docker.elastic.co/elasticsearch/elasticsearch:6.1.1 \"/usr/local/bin/do...\" 25 minutes ago Exited (130) 19 minutes ago\n```", "```py\n$ docker restart 30\n30\n```", "```py\n$ docker container rm 30\nError response from daemon: You cannot remove a running container 308a02f0e1a52fe8051d1d98fa19f8ac01ff52ec66737029caa07a8358740bce. Stop the container before attempting removal or force remove\n```", "```py\n$ docker stop 30\n30\n$ docker rm 30\n30\n```", "```py\n$ docker image rm 06\nUntagged: docker.elastic.co/elasticsearch/elasticsearch:6.1.1\nUntagged: docker.elastic.co/elasticsearch/elasticsearch@sha256:9e6c7d3c370a17736c67b2ac503751702e35a1336724741d00ed9b3d00434fcb\nDeleted: sha256:06f0d8328d66a0f620075ee689ddb2f7535c31fb643de6c785deac8ba6db6a4c\nDeleted: sha256:133d33f65d5a512c5fa8dc9eb8d34693a69bdb1a696006628395b07d5af08109\nDeleted: sha256:ae2e02ab7e50b5275428840fd68fced2f63c70ca998a493d200416026c684a69\nDeleted: sha256:7b6abb7badf2f74f1ee787fe0545025abcffe0bf2020a4e9f30e437a715c6d6a\n```", "```py\npip install Nameko\n```", "```py\n$nameko run hello_microservice\n```", "```py\nstarting services: hello_microservice\nConnected to amqp://guest:**@127.0.0.1:5672//\n```", "```py\nnameko shell\n```", "```py\nNameko Python 3.6.1 |Anaconda custom (x86_64)| (default, Mar 22 2017, 19:25:17)\n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)] shell on darwin\nBroker: pyamqp://guest:guest@localhost\nIn [1]:\n```", "```py\nn.rpc.hello_microservice.hello(name='Mike')\n```", "```py\nOut[1]: 'Hello, Mike!'\n```", "```py\nReceived a request from: Mike\n```", "```py\n$python say_hi.py\nHello, Micro-service Client!\n```", "```py\nfrom nameko.rpc import rpc\n\nclass HelloMicroService:\n    name = \"hello_microservice\"    @rpc\n  def hello(self, name):\n        print('Received a request from: ' + name)\n        return \"Hello, {}!\".format(name)\n```", "```py\nfrom nameko.standalone.rpc import ClusterRpcProxy\n\nCONFIG = {'AMQP_URI': \"amqp://guest:guest@localhost\"}\n\nwith ClusterRpcProxy(CONFIG) as rpc:\n    result = rpc.hello_microservice.hello(\"Micro-service Client\")\n    print(result)\n```", "```py\nfrom nameko.rpc import rpc\nimport sojobs.scraping \n\nclass ScrapeStackOverflowJobListingsMicroService:\n    name = \"stack_overflow_job_listings_scraping_microservice\"    @rpc\n  def get_job_listing_info(self, job_listing_id):\n        listing = sojobs.scraping.get_job_listing_info(job_listing_id)\n        print(listing)\n        return listing\n\nif __name__ == \"__main__\":\n    print(ScrapeStackOverflowJobListingsMicroService(\"122517\"))\n```", "```py\n$ nameko run scraper_microservice\n starting services: stack_overflow_job_listings_scraping_microservice\n Connected to amqp://guest:**@127.0.0.1:5672//\n```", "```py\nfrom nameko.standalone.rpc import ClusterRpcProxy\n\nCONFIG = {'AMQP_URI': \"amqp://guest:guest@localhost\"}\n\nwith ClusterRpcProxy(CONFIG) as rpc:\n    result = rpc.stack_overflow_job_listings_scraping_microservice.get_job_listing_info(\"122517\")\n    print(result)\n```", "```py\n{\"ID\": \"122517\", \"JSON\": {\"@context\": \"http://schema.org\", \"@type\": \"JobPosting\", \"title\": \"SpaceX Enterprise Software Engineer, Full Stack\", \"skills\": [\"c#\", \"sql\", \"javascript\", \"asp.net\", \"angularjs\"], \n\n...\n```", "```py\n$ docker network ls\nNETWORK ID   NAME                                     DRIVER  SCOPE\nbc3bed092eff bridge                                   bridge  local\n26022f784cc1 docker_gwbridge                          bridge  local\n448d8ce7f441 dockercompose2942991694582470787_default bridge  local\n4e549ce87572 dockerelkxpack_elk                       bridge  local\nad399a431801 host                                     host    local\nrbultxlnlhfb ingress                                  overlay swarm\n389586bebcf2 none                                     null    local\n806ff3ec2421 stackdockermaster_stack                  bridge  local\n```", "```py\n$ docker network create --driver bridge scraper-net\ne4ea1c48395a60f44ec580c2bde7959641c4e1942cea5db7065189a1249cd4f1\n```", "```py\n$docker run -d --name rabbitmq --network scrape-rnet -p 15672:15672 -p 5672:5672 rabbitmq:3-management\n```", "```py\nFROM python:3 WORKDIR /usr/src/app\n\nRUN pip install nameko BeautifulSoup4 nltk lxml\nRUN python -m nltk.downloader punkt -d /usr/share/nltk_data all\n\nCOPY 10/02/scraper_microservice.py .\nCOPY modules/sojobs sojobs\n\nCMD [\"nameko\", \"run\", \"--broker\", \"amqp://guest:guest@rabbitmq\", \"scraper_microservice\"]\n```", "```py\n$docker build ../.. -f Dockerfile  -t scraping-microservice\n```", "```py\nSending build context to Docker daemon 2.128MB\nStep 1/8 : FROM python:3\n ---> c1e459c00dc3\nStep 2/8 : WORKDIR /usr/src/app\n ---> Using cache\n ---> bf047017017b\nStep 3/8 : RUN pip install nameko BeautifulSoup4 nltk lxml\n ---> Using cache\n ---> a30ce09e2f66\nStep 4/8 : RUN python -m nltk.downloader punkt -d /usr/share/nltk_data all\n ---> Using cache\n ---> 108b063908f5\nStep 5/8 : COPY 10/07/. .\n ---> Using cache\n ---> 800a205d5283\nStep 6/8 : COPY modules/sojobs sojobs\n ---> Using cache\n ---> 241add5458a5\nStep 7/8 : EXPOSE 5672\n ---> Using cache\n ---> a9be801d87af\nStep 8/8 : CMD nameko run --broker amqp://guest:guest@rabbitmq scraper_microservice\n ---> Using cache\n ---> 0e1409911ac9\nSuccessfully built 0e1409911ac9\nSuccessfully tagged scraping-microservice:latest\n```", "```py\n$ docker images | head -n 2\nREPOSITORY            TAG    IMAGE ID     CREATED     SIZE\nscraping-microservice latest 0e1409911ac9 3 hours ago 4.16GB\n```", "```py\n$ docker images | grep python\n python 3 c1e459c00dc3 2 weeks ago 692MB\n```", "```py\n03 $ docker run --network scraper-net scraping-microservice\nstarting services: stack_overflow_job_listings_scraping_microservice\nConnected to amqp://guest:**@rabbitmq:5672//\n```", "```py\n03 $ nameko shell\nNameko Python 3.6.1 |Anaconda custom (x86_64)| (default, Mar 22 2017, 19:25:17)\n[GCC 4.2.1 Compatible Apple LLVM 6.0 (clang-600.0.57)] shell on darwin\nBroker: pyamqp://guest:guest@localhost\nIn [1]:\n```", "```py\nn.rpc.stack_overflow_job_listings_scraping_microservice.get_job_listing_info(\"122517\")\n```", "```py\nOut[1]: '{\"ID\": \"122517\", \"JSON\": {\"@context\": \"http://schema.org\", \"@type\": \"JobPosting\", \"title\": \"SpaceX Enterprise Software Engineer, Full Stack\", \"skills\": [\"c#\", \"sql\", \"javascript\", \"asp.net\"\n```", "```py\nFROM python:3\n```", "```py\nWORKDIR /usr/src/app\n```", "```py\nRUN pip install nameko BeautifulSoup4 nltk lxml\n```", "```py\nRUN python -m nltk.downloader punkt -d /usr/share/nltk_data all\n```", "```py\nCOPY 10/02/scraper_microservice.py .\n```", "```py\nCOPY modules/sojobs sojobs\n```", "```py\nCMD [\"nameko\", \"run\", \"--broker\", \"amqp://guest:guest@rabbitmq\", \"scraper_microservice\"]\n```", "```py\n$ docker run -e ELASTIC_PASSWORD=MagicWord --name=elastic --network scraper-net  -p 9200:9200 -p 9300:9300 docker.elastic.co/elasticsearch/elasticsearch:6.1.1\n```", "```py\nfrom flask import Flask\nfrom flask_restful import Resource, Api\nfrom elasticsearch import Elasticsearch\nfrom nameko.standalone.rpc import ClusterRpcProxy\n\napp = Flask(__name__)\napi = Api(app)\n\nCONFIG = {'AMQP_URI': \"amqp://guest:guest@rabbitmq\"}\n\nclass JobListing(Resource):\n    def get(self, job_listing_id):\n        print(\"Request for job listing with id: \" + job_listing_id)\n\n        es = Elasticsearch(hosts=[\"elastic\"])\n        if (es.exists(index='joblistings', doc_type='job-listing', id=job_listing_id)):\n            print('Found the document in Elasticsearch')\n            doc =  es.get(index='joblistings', doc_type='job-listing', id=job_listing_id)\n            return doc['_source']\n\n        print('Not found in Elasticsearch, trying a scrape')\n        with ClusterRpcProxy(CONFIG) as rpc:\n            listing = rpc.stack_overflow_job_listings_scraping_microservice.get_job_listing_info(job_listing_id)\n            print(\"Microservice returned with a result - storing in Elasticsearch\")\n            es.index(index='joblistings', doc_type='job-listing', id=job_listing_id, body=listing)\n            return listing\n\napi.add_resource(JobListing, '/', '/joblisting/<string:job_listing_id>')\n\nif __name__ == '__main__':\n    print(\"Starting the job listing API ...\")\n    app.run(host='0.0.0.0', port=8080, debug=True)\n```", "```py\nes = Elasticsearch(hosts=[\"elastic\"])\n```", "```py\n    app.run(host='0.0.0.0', port=8080, debug=True)\n```", "```py\nFROM python:3 WORKDIR /usr/src/app\n\nRUN pip install Flask-RESTful Elasticsearch Nameko\n\nCOPY 10/04/api.py .\n\nCMD [\"python\", \"api.py\"]\n```", "```py\n$docker build ../.. -f Dockerfile -t scraper-rest-api\n```", "```py\n$docker run -d -p 8080:8080 --network scraper-net scraper-rest-api\n```", "```py\n$ docker ps\nCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES\n55e438b4afcd scraper-rest-api \"python -u api.py\" 46 seconds ago Up 45 seconds 0.0.0.0:8080->8080/tcp vibrant_sammet\nbb8aac5b7518 docker.elastic.co/elasticsearch/elasticsearch:6.1.1 \"/usr/local/bin/do...\" 3 hours ago Up 3 hours 0.0.0.0:9200->9200/tcp, 0.0.0.0:9300->9300/tcp elastic\nac4f51c1abdc scraping-microservice \"nameko run --brok...\" 3 hours ago Up 3 hours thirsty_ritchie\n18c2f01f58c7 rabbitmq:3-management \"docker-entrypoint...\" 3 hours ago Up 3 hours 4369/tcp, 5671/tcp, 0.0.0.0:5672->5672/tcp, 15671/tcp, 25672/tcp, 0.0.0.0:15672->15672/tcp rabbitmq\n```", "```py\n$ curl localhost:8080/joblisting/122517\n\"{\\\"ID\\\": \\\"122517\\\", \\\"JSON\\\": {\\\"@context\\\": \\\"http://schema.org\\\", \\\"@type\\\": \\\"JobPosting\\\", \\\"title\\\": \\\"SpaceX Enterprise Software Engineer, Full Stack\\\", \\\"skills\\\": [\\\"c#\\\", \\\"sql\\\", \\\"javas\n```", "```py\nversion: '3' services:\n api: image: scraper-rest-api\n  ports:\n  - \"8080:8080\"\n  networks:\n  - scraper-compose-net    scraper:\n image: scraping-microservice\n  depends_on:\n  - rabbitmq\n  networks:\n  - scraper-compose-net    elastic:\n image: docker.elastic.co/elasticsearch/elasticsearch:6.1.1\n  ports:\n  - \"9200:9200\"\n  - \"9300:9300\"\n  networks:\n  - scraper-compose-net    rabbitmq:\n image: rabbitmq:3-management\n  ports:\n  - \"15672:15672\"\n  networks:\n  - scraper-compose-net   networks:\n scraper-compose-net: driver: bridge\n```", "```py\n    $ docker-compose up\n```", "```py\nStarting 10_api_1 ...\n Recreating elastic ...\n Starting rabbitmq ...\n Starting rabbitmq\n Recreating elastic\n Starting rabbitmq ... done\n Starting 10_scraper_1 ...\n Recreating elastic ... done\n Attaching to rabbitmq, 10_api_1, 10_scraper_1, 10_elastic_1\n```", "```py\n$ docker ps\n CONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES\n 2ed0d456ffa0 docker.elastic.co/elasticsearch/elasticsearch:6.1.1 \"/usr/local/bin/do...\" 3 minutes ago Up 2 minutes 0.0.0.0:9200->9200/tcp, 0.0.0.0:9300->9300/tcp 10_elastic_1\n 8395989fac8d scraping-microservice \"nameko run --brok...\" 26 minutes ago Up 3 minutes 10_scraper_1\n 4e9fe8479db5 rabbitmq:3-management \"docker-entrypoint...\" 26 minutes ago Up 3 minutes 4369/tcp, 5671-5672/tcp, 15671/tcp, 25672/tcp, 0.0.0.0:15672->15672/tcp rabbitmq\n 0b0df48a7201 scraper-rest-api \"python -u api.py\" 26 minutes ago Up 3 minutes 0.0.0.0:8080->8080/tcp 10_api_1\n```", "```py\n$ docker network ls | head -n 2\n NETWORK ID NAME DRIVER SCOPE\n 0e27be3e30f2 10_scraper-compose-net bridge local\n```", "```py\n$ curl localhost:8080/joblisting/122517\n \"{\\\"ID\\\": \\\"122517\\\", \\\"JSON\\\": {\\\"@context\\\": \\\"http://schema.org\\\", \\\"@type\\\": \\\"JobPosting\\\", \\\"title\\\": \\\"SpaceX Enterprise Software Engineer, Full Stack\\\", \\\"\n...\n```", "```py\n$ curl localhost:9200/joblisting\n{\"error\":{\"root_cause\":[{\"type\":\"index_not_found_exception\",\"reason\":\"no such index\",\"resource.type\":\"index_or_alias\",\"resource.id\":\"joblisting\",\"index_uuid\":\"_na_\",\"index\":\"j\n...\n```", "```py\ndocker-compose up --scale scraper=3\n```", "```py\n10_api_1 is up-to-date\n10_elastic_1 is up-to-date\n10_rabbitmq_1 is up-to-date\nStarting 10_scraper_1 ... done\nCreating 10_scraper_2 ...\nCreating 10_scraper_3 ...\nCreating 10_scraper_2 ... done\nCreating 10_scraper_3 ... done\nAttaching to 10_api_1, 10_elastic_1, 10_rabbitmq_1, 10_scraper_1, 10_scraper_3, 10_scraper_2\n```", "```py\nMichaels-iMac-2:09 michaelheydt$ docker ps\nCONTAINER ID IMAGE COMMAND CREATED STATUS PORTS NAMES\nb9c2da0c9008 scraping-microservice \"nameko run --brok...\" About a minute ago Up About a minute 10_scraper_2\n643221f85364 scraping-microservice \"nameko run --brok...\" About a minute ago Up About a minute 10_scraper_3\n73dc31fb3d92 scraping-microservice \"nameko run --brok...\" 6 minutes ago Up 6 minutes 10_scraper_1\n5dd0db072483 scraper-rest-api \"python api.py\" 7 minutes ago Up 7 minutes 0.0.0.0:8080->8080/tcp 10_api_1\nd8e25b6ce69a rabbitmq:3-management \"docker-entrypoint...\" 7 minutes ago Up 7 minutes 4369/tcp, 5671-5672/tcp, 15671/tcp, 25672/tcp, 0.0.0.0:15672->15672/tcp 10_rabbitmq_1\nf305f81ae2a3 docker.elastic.co/elasticsearch/elasticsearch:6.1.1 \"/usr/local/bin/do...\" 7 minutes ago Up 7 minutes 0.0.0.0:9200->9200/tcp, 0.0.0.0:9300->9300/tcp 10_elastic_1\n```", "```py\n$ docker-compose down\nStopping 10_scraper_1 ... done\nStopping 10_rabbitmq_1 ... done\nStopping 10_api_1 ... done\nStopping 10_elastic_1 ... done\nRemoving 10_scraper_1 ... done\nRemoving 10_rabbitmq_1 ... done\nRemoving 10_api_1 ... done\nRemoving 10_elastic_1 ... done\nRemoving network 10_scraper-compose-net\n```"]