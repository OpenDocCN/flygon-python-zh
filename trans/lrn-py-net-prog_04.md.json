["```py\n    from email.mime.multipart import MIMEMultipart()\n    msg = MIMEMultipart()\n    msg['To'] = recipient\n    msg['From'] = sender\n    msg['Subject'] = 'Email subject..'\n```", "```py\n    part = MIMEText('text', 'plain')\n    message = 'Email message \u2026.'\n    part.set_payload(message)\n```", "```py\n    msg.attach(part)\n```", "```py\n    session = smtplib.SMTP(SMTP_SERVER, SMTP_PORT)\n    session.ehlo()\n    session.sendmail(sender, recipient, msg.as_string())\n    session.quit()\n```", "```py\n#!/usr/bin/env python3\n# Listing 1 \u2013 First email client\nimport smtplib\n\nfrom email.mime.image import MIMEImage\nfrom email.mime.multipart import MIMEMultipart\nfrom email.mime.text import MIMEText\n\nSMTP_SERVER = 'aspmx.l.google.com'\nSMTP_PORT = 25\n\ndef send_email(sender, recipient):\n    \"\"\" Send email message \"\"\"\n    msg = MIMEMultipart()\n    msg['To'] = recipient\n    msg['From'] = sender\n    subject = input('Enter your email subject: ')\n    msg['Subject'] = subject\n    message = input('Enter your email message. Press Enter when finished. ')\n    part = MIMEText('text', \"plain\")\n    part.set_payload(message)\n    msg.attach(part)\n    # create smtp session\n    session = smtplib.SMTP(SMTP_SERVER, SMTP_PORT)\n    session.ehlo()\n    #session.set_debuglevel(1)\n    # send mail\n    session.sendmail(sender, recipient, msg.as_string())\n    print(\"You email is sent to {0}.\".format(recipient))\n    session.quit()\n\nif __name__ == '__main__':\n    sender = input(\"Enter sender email address: \")\n    recipient = input(\"Enter recipient email address: \")\n    send_email(sender, recipient)\n```", "```py\n**$ python3 smtp_mail_sender.py** \n**Enter sender email address: <SENDER>@gmail.com** \n**Enter recipeint email address: <RECEIVER>@gmail.com**\n**Enter your email subject: Test mail**\n**Enter your email message. Press Enter when finished. This message can be ignored**\n**You email is sent to <RECEIVER>@gmail.com.**\n\n```", "```py\n**$ python3 smtp_mail_sender.py** \n**Enter sender email address: <SENDER>@gmail.com**\n**Enter recipeint email address: <RECEIVER>@gmail.com**\n**Enter your** \n**email subject: Test email**\n**Enter your email message. Press Enter when finished. This is a test email**\n**send: 'mail FROM:<SENDER@gmail.com> size=339\\r\\n'**\n**reply: b'250 2.1.0 OK hg2si4622244wib.38 - gsmtp\\r\\n'**\n**reply: retcode (250); Msg: b'2.1.0 OK hg2si4622244wib.38 - gsmtp'**\n**send: 'rcpt TO:<RECEIVER@gmail.com>\\r\\n'**\n**reply: b'250 2.1.5 OK hg2si4622244wib.38 - gsmtp\\r\\n'**\n**reply: retcode (250); Msg: b'2.1.5 OK hg2si4622244wib.38 - gsmtp'**\n**send: 'data\\r\\n'**\n**reply: b'354  Go ahead hg2si4622244wib.38 - gsmtp\\r\\n'**\n**reply: retcode (354); Msg: b'Go ahead hg2si4622244wib.38 - gsmtp'**\n**data: (354, b'Go ahead hg2si4622244wib.38 - gsmtp')**\n**send: 'Content-Type: multipart/mixed; \nboundary=\"===============1431208306==\"\\r\\nMIME-Version: 1.0\\r\\nTo: RECEIVER@gmail.com\\r\\nFrom: SENDER@gmail.com\\r\\nSubject: Test  email\\r\\n\\r\\n--===============1431208306==\\r\\nContent-Type: text/plain; charset=\"us-ascii\"\\r\\nMIME-Version: 1.0\\r\\nContent- Transfer-Encoding: 7bit\\r\\n\\r\\nThis is a test email\\r\\n-- ===============1431208306==--\\r\\n.\\r\\n'**\n**reply: b'250 2.0.0 OK 1414233177 hg2si4622244wib.38 - gsmtp\\r\\n'**\n**reply: retcode (250); Msg: b'2.0.0 OK 1414233177 hg2si4622244wib.38 - gsmtp'**\n**data: (250, b'2.0.0 OK 1414233177 hg2si4622244wib.38 - gsmtp')**\n**You email is sent to RECEIVER@gmail.com.**\n**send: 'quit\\r\\n'**\n**reply: b'221 2.0.0 closing connection hg2si4622244wib.38 - gsmtp\\r\\n'**\n**reply: retcode (221); Msg: b'2.0.0 closing connection hg2si4622244wib.38 - gsmtp'**\n\n```", "```py\n#!/usr/bin/env python3\n# Listing 2\nimport getpass\nimport smtplib\n\nfrom email.mime.image import MIMEImage\nfrom email.mime.multipart import MIMEMultipart\nfrom email.mime.text import MIMEText\n\nSMTP_SERVER = 'smtp.gmail.com'\nSMTP_PORT = 587 # ssl port 465, tls port 587\n\ndef send_email(sender, recipient):\n    \"\"\" Send email message \"\"\"\n    msg = MIMEMultipart()\n    msg['To'] = recipient\n    msg['From'] = sender\n    msg['Subject'] = input('Enter your email subject: ')\n    message = input('Enter your email message. Press Enter when finished. ')\n    part = MIMEText('text', \"plain\")\n    part.set_payload(message)\n    msg.attach(part)\n    # create smtp session\n    session = smtplib.SMTP(SMTP_SERVER, SMTP_PORT)\n    session.set_debuglevel(1)\n    session.ehlo()\n    session.starttls()\n    session.ehlo\n    password = getpass.getpass(prompt=\"Enter you email password: \") \n    # login to server\n    session.login(sender, password)\n    # send mail\n    session.sendmail(sender, recipient, msg.as_string())\n    print(\"You email is sent to {0}.\".format(recipient))\n    session.quit()\n\nif __name__ == '__main__':\n    sender = input(\"Enter sender email address: \")\n    recipient = input(\"Enter recipeint email address: \")\n    send_email(sender, recipient)\n```", "```py\n**$ python3 smtp_mail_sender_tls.py** \n**Enter sender email address: SENDER@gmail.com**\n**Enter recipeint email address: RECEPIENT@gmail.com**\n**Enter your email subject: Test email**\n**Enter your email message. Press Enter when finished. This is a test email that can be ignored.**\n\n```", "```py\n**send: 'ehlo debian6box.localdomain.loc\\r\\n'**\n**reply: b'250-mx.google.com at your service, [77.233.155.107]\\r\\n'**\n**reply: b'250-SIZE 35882577\\r\\n'**\n**reply: b'250-8BITMIME\\r\\n'**\n**reply: b'250-STARTTLS\\r\\n'**\n**reply: b'250-ENHANCEDSTATUSCODES\\r\\n'**\n**reply: b'250-PIPELINING\\r\\n'**\n**reply: b'250-CHUNKING\\r\\n'**\n**reply: b'250 SMTPUTF8\\r\\n'**\n**reply: retcode (250); Msg: b'mx.google.com at your service, [77.233.155.107]\\nSIZE 35882577\\n8BITMIME\\nSTARTTLS\\nENHANCEDSTATUSCODES\\nPIPELINING\\ nCHUNKING\\nSMTPUTF8'**\n\n```", "```py\n**send: 'STARTTLS\\r\\n'**\n**reply: b'220 2.0.0 Ready to start TLS\\r\\n'**\n**reply: retcode (220); Msg: b'2.0.0 Ready to start TLS'**\n**Enter you email password:** \n**send: 'ehlo debian6box.localdomain.loc\\r\\n'**\n**reply: b'250-mx.google.com at your service, [77.233.155.107]\\r\\n'**\n**reply: b'250-SIZE 35882577\\r\\n'**\n**reply: b'250-8BITMIME\\r\\n'**\n**reply: b'250-AUTH LOGIN PLAIN XOAUTH XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER\\r\\n'**\n**reply: b'250-ENHANCEDSTATUSCODES\\r\\n'**\n**reply: b'250-PIPELINING\\r\\n'**\n**reply: b'250-CHUNKING\\r\\n'**\n**reply: b'250 SMTPUTF8\\r\\n'**\n**reply: retcode (250); Msg: b'mx.google.com at your service, [77.233.155.107]\\nSIZE 35882577\\n8BITMIME\\nAUTH LOGIN PLAIN XOAUTH XOAUTH2 PLAIN-CLIENTTOKEN OAUTHBEARER\\nENHANCEDSTATUSCODES\\nPIPELINING\\nCHUNKING\\nSMTPUTF8'**\n\n```", "```py\n**send: 'AUTH PLAIN A...dvXXDDCCD.......sscdsvsdvsfd...12344555\\r\\n'**\n**reply: b'235 2.7.0 Accepted\\r\\n'**\n**reply: retcode (235); Msg: b'2.7.0 Accepted'**\n\n```", "```py\n**send: 'mail FROM:<SENDER@gmail.com> size=360\\r\\n'**\n**reply: b'250 2.1.0 OK xw9sm8487512wjc.24 - gsmtp\\r\\n'**\n**reply: retcode (250); Msg: b'2.1.0 OK xw9sm8487512wjc.24 - gsmtp'**\n**send: 'rcpt TO:<RECEPIENT@gmail.com>\\r\\n'**\n**reply: b'250 2.1.5 OK xw9sm8487512wjc.24 - gsmtp\\r\\n'**\n**reply: retcode (250); Msg: b'2.1.5 OK xw9sm8487512wjc.24 - gsmtp'**\n**send: 'data\\r\\n'**\n**reply: b'354  Go ahead xw9sm8487512wjc.24 - gsmtp\\r\\n'**\n**reply: retcode (354); Msg: b'Go ahead xw9sm8487512wjc.24 - gsmtp'**\n**data: (354, b'Go ahead xw9sm8487512wjc.24 - gsmtp')**\n**send: 'Content-Type: multipart/mixed; boundary=\"===============1501937935==\"\\r\\nMIME-Version: 1.0\\r\\n**\n**To: <Output omitted>-===============1501937935==--\\r\\n.\\r\\n'**\n**reply: b'250 2.0.0 OK 1414235750 xw9sm8487512wjc.24 - gsmtp\\r\\n'**\n**reply: retcode (250); Msg: b'2.0.0 OK 1414235750 xw9sm8487512wjc.24 - gsmtp'**\n**data: (250, b'2.0.0 OK 1414235750 xw9sm8487512wjc.24 - gsmtp')**\n**You email is sent to RECEPIENT@gmail.com.**\n**send: 'quit\\r\\n'**\n**reply: b'221 2.0.0 closing connection xw9sm8487512wjc.24 - gsmtp\\r\\n'**\n**reply: retcode (221); Msg: b'2.0.0 closing connection xw9sm8487512wjc.24 - gsmtp'**\n\n```", "```py\n  mailbox = poplib.POP3_SSL(<POP3_SERVER>, <SERVER_PORT>) \n  mailbox.user('username')\n       mailbox.pass_('password')\n```", "```py\n#!/usr/bin/env python3\nimport getpass\nimport poplib\n\nGOOGLE_POP3_SERVER = 'pop.googlemail.com'\nPOP3_SERVER_PORT = '995'\n\ndef fetch_email(username, password): \n    mailbox = poplib.POP3_SSL(GOOGLE_POP3_SERVER, POP3_SERVER_PORT) \n    mailbox.user(username)\n    mailbox.pass_(password) \n    num_messages = len(mailbox.list()[1])\n    print(\"Total emails: {0}\".format(num_messages))\n    print(\"Getting last message\") \n    for msg in mailbox.retr(num_messages)[1]:\n        print(msg)\n    mailbox.quit()\n\nif __name__ == '__main__':\n    username = input(\"Enter your email user ID: \")\n    password = getpass.getpass(prompt=\"Enter your email password:    \") \n    fetch_email(username, password)\n```", "```py\n**$ python3 fetch_email_pop3.py** \n**Enter your email user ID: <PERSON1>@gmail.com**\n**Enter your email password:** \n**Total emails: 330**\n**Getting last message**\n**b'Received: by 10.150.139.7 with HTTP; Tue, 7 Oct 2008 13:20:42 -0700** \n**(PDT)'**\n**b'Message-ID: <fc9dd8650810...@mail.gmail.com>'**\n**b'Date: Tue, 7 Oct 2008 21:20:42 +0100'**\n**b'From: \"Mr Person1\" <PERSON1@gmail.com>'**\n**b'To: \"Mr Person2\" <PERSON2@gmail.com>'**\n**b'Subject: Re: Some subject'**\n**b'In-Reply-To: <1bec119d...@mail.gmail.com>'**\n**b'MIME-Version: 1.0'**\n**b'Content-Type: multipart/alternative; '**\n**b'\\tboundary=\"----=_Part_63057_22732713.1223410842697\"'**\n**b'References: <fc9dd8650809270....@mail.gmail.com>'**\n**b'\\t <1bec119d0810060337p557bc....@mail.gmail.com>'**\n**b'Delivered-To: PERSON1@gmail.com'**\n**b''**\n**b'------=_Part_63057_22732713.1223410842697'**\n**b'Content-Type: text/plain; charset=ISO-8859-1'**\n**b'Content-Transfer-Encoding: quoted-printable'**\n**b'Content-Disposition: inline'**\n**b''**\n**b'Dear Person2,'**\n\n```", "```py\n  mailbox = imaplib.IMAP4_SSL(<IMAP_SERVER>, <SERVER_PORT>) \n      mailbox.login('username', 'password')\n      mailbox.select('Inbox')\n```", "```py\n#!/usr/bin/env python3\nimport getpass\nimport imaplib\nimport pprint\n\nGOOGLE_IMAP_SERVER = 'imap.googlemail.com'\nIMAP_SERVER_PORT = '993'\n\ndef check_email(username, password): \n    mailbox = imaplib.IMAP4_SSL(GOOGLE_IMAP_SERVER, IMAP_SERVER_PORT) \n    mailbox.login(username, password)\n    mailbox.select('Inbox')\n    tmp, data = mailbox.search(None, 'ALL')\n    for num in data[0].split():\n        tmp, data = mailbox.fetch(num, '(RFC822)')\n        print('Message: {0}\\n'.format(num))\n        pprint.pprint(data[0][1])\n        break\n    mailbox.close()\n    mailbox.logout()\n\nif __name__ == '__main__':\n    username = input(\"Enter your email username: \")\n    password = getpass.getpass(prompt=\"Enter you account password: \")\n    check_email(username, password)\n```", "```py\n$ python3 fetch_email_imap.py \nEnter your email username: RECIPIENT@gmail.comn\nEnter you Google password: \nMessage b'1'\nb'X-Gmail-Received: 3ec65fa310559efe27307d4e37fdc95406deeb5a\\r\\nDelivered-To: RECIPIENT@gmail.com\\r\\nReceived: by 10.54.40.10 with SMTP id n10cs1955wrn;\\r\\n    [Message omitted]\n```", "```py\n#!/usr/bin/env python3\n\nimport os\nimport getpass\nimport re\nimport sys\nimport smtplib\n\nfrom email.mime.image import MIMEImage\nfrom email.mime.multipart import MIMEMultipart\nfrom email.mime.text import MIMEText\n\nSMTP_SERVER = 'aspmx.l.google.com'\nSMTP_PORT = 25\n\ndef send_email(sender, recipient):\n    \"\"\" Sends email message \"\"\"\n    msg = MIMEMultipart()\n    msg['To'] = recipient\n    msg['From'] = sender\n    subject = input('Enter your email subject: ')\n    msg['Subject'] = subject\n    message = input('Enter your email message. Press Enter when     finished. ')\n    part = MIMEText('text', \"plain\")\n    part.set_payload(message)\n    msg.attach(part)\n    # attach an image in the current directory\n    filename = input('Enter the file name of a GIF image: ')\n    path = os.path.join(os.getcwd(), filename)\n    if os.path.exists(path):\n        img = MIMEImage(open(path, 'rb').read(), _subtype=\"gif\")\n        img.add_header('Content-Disposition', 'attachment', filename=filename)\n        msg.attach(img)\n    # create smtp session\n    session = smtplib.SMTP(SMTP_SERVER, SMTP_PORT)\n    session.ehlo()\n    session.starttls()\n    session.ehlo\n    # send mail\n    session.sendmail(sender, recipient, msg.as_string())\n    print(\"You email is sent to {0}.\".format(recipient))\n    session.quit()\n\nif __name__ == '__main__':\n    sender = input(\"Enter sender email address: \")\n    recipient = input(\"Enter recipeint email address: \")\n    send_email(sender, recipient)\n```", "```py\n**$ python3 smtp_mail_sender_mime.py** \n**Enter sender email address: SENDER@gmail.com**\n**Enter recipeint email address: RECIPIENT@gmail.com**\n**Enter your email subject: Test email with attachment** \n**Enter your email message. Press Enter when finished. This is a test email with atachment.**\n**Enter the file name of a GIF image: image.gif**\n**You email is sent to RECIPIENT@gmail.com.**\n\n```", "```py\n**<Timestamp> INFO  First line of log**\n**This accumulated log message will be emailed to a local user as set on top of the script.**\n\n```", "```py\nimport logging.handlers\nimport getpass\n\nMAILHOST = 'localhost'\nFROM = 'you@yourdomain'\nTO = ['%s@localhost' %getpass.getuser()] \nSUBJECT = 'Test Logging email from Python logging module (buffering)'\n\nclass BufferingSMTPHandler(logging.handlers.BufferingHandler):\n    def __init__(self, mailhost, fromaddr, toaddrs, subject, capacity):\n        logging.handlers.BufferingHandler.__init__(self, capacity)\n        self.mailhost = mailhost\n        self.mailport = None\n        self.fromaddr = fromaddr\n        self.toaddrs = toaddrs\n        self.subject = subject\n        self.setFormatter(logging.Formatter(\"%(asctime)s %(levelname)-5s %(message)s\"))\n\n    def flush(self):\n        if len(self.buffer) > 0:\n            try:\n                import smtplib\n                port = self.mailport\n                if not port:\n                    port = smtplib.SMTP_PORT\n                    smtp = smtplib.SMTP(self.mailhost, port)\n                    msg = \"From: %s\\r\\nTo: %s\\r\\nSubject: %s\\r\\n\\r\\n\" % (self.fromaddr, \",\".join(self.toaddrs), self.subject)\n                for record in self.buffer:\n                    s = self.format(record)\n                    print(s)\n                    msg = msg + s + \"\\r\\n\"\n                smtp.sendmail(self.fromaddr, self.toaddrs, msg)\n                smtp.quit()\n            except:\n                self.handleError(None) # no particular record\n            self.buffer = []\n\ndef test():\n    logger = logging.getLogger(\"\")\n    logger.setLevel(logging.DEBUG)\n    logger.addHandler(BufferingSMTPHandler(MAILHOST, FROM, TO, SUBJECT, 10))\n    for data in ['First', 'Second', 'Third', 'Fourth']:\n        logger.info(\"%s line of log\", data)\n    logging.shutdown()\n\nif __name__ == \"__main__\":\n    test()\n```", "```py\n**$ python3 logger_mail_send.py** \n**2014-10-25 13:15:07,124 INFO  First line of log**\n**2014-10-25 13:15:07,127 INFO  Second line of log**\n**2014-10-25 13:15:07,127 INFO  Third line of log**\n**2014-10-25 13:15:07,129 INFO  Fourth line of log**\n\n```", "```py\n**$ mail**\n**Mail version 8.1.2 01/15/2001\\.  Type ? for help.**\n**\"/var/mail/faruq\": 1 message 1 new**\n**>N  1 you@yourdomain     Sat Oct 25 13:15   20/786   Test Logging email from Python logging module (buffering)**\n\n```", "```py\n**& 1**\n**Message 1:**\n**From you@yourdomain Sat Oct 25 13:15:08 2014**\n**Envelope-to: faruq@localhost**\n**Delivery-date: Sat, 25 Oct 2014 13:15:08 +0100**\n**Date: Sat, 25 Oct 2014 13:15:07 +0100**\n**From: you@yourdomain**\n**To: faruq@localhost**\n**Subject: Test Logging email from Python logging module (buffering)**\n\n**2014-10-25 13:15:07,124 INFO  First line of log**\n**2014-10-25 13:15:07,127 INFO  Second line of log**\n**2014-10-25 13:15:07,127 INFO  Third line of log**\n**2014-10-25 13:15:07,129 INFO  Fourth line of log**\n\n```", "```py\n**& q**\n**Saved 1 message in /home/faruq/mbox**\n\n```"]