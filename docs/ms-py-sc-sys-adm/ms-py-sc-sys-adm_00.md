# 前言

Python 已经发展并扩展了其功能，涵盖了几乎所有可能的 IT 操作。本书将帮助你利用 Python 的最新功能，编写有效的脚本，并创建用于管理环境的命令行工具（用于数据类型、循环、条件、函数、错误处理等）。本书将围绕整个开发过程展开，从设置和规划到自动化测试和构建不同的命令行工具。本书将使你从基本脚本编写到使用标准库包。最后，你将创建一个大型脚本项目，学习如何规划、实施和分发基于理想资源的项目。

# 本书适合对象

本书适合具有一定 Python 编程基础的用户，他们有兴趣将编程技能扩展到命令行脚本和系统管理。

需要有 Python 的先验知识。

# 本书涵盖内容

第一章，*Python 脚本概述*，涵盖了 Python 的安装程序以及 Python 解释器工具的使用。你将学习如何为变量赋值，并介绍变量和字符串。你将学习包括列表、元组、集合和字典在内的序列数据类型。此外，你还将学习如何在脚本中解析命令行选项。

第二章，*调试和分析 Python 脚本*，教你如何使用调试器工具调试 Python 程序。你还将学习如何处理错误，并探索分析和计时的概念。

第三章，*单元测试-单元测试框架介绍*，是关于 Python 中的单元测试。我们将创建单元测试来测试程序。

第四章，*自动化常规管理活动*，将教你如何自动化系统管理员的常规管理活动。你将学习如何接受输入，处理密码，执行外部命令，读取配置文件，向脚本添加警告代码，实现 CPU 限制，启动 Web 浏览器，使用`os`模块以及备份。

第五章，*处理文件、目录和数据*，将教你如何使用 os 模块进行各种活动。你将学习有关数据以及应用于该数据的一些方法，如复制、移动、合并和比较。你还将学习`tarfile`模块以及如何使用它。

第六章，*文件归档、加密和解密*，深入研究文件归档、创建存档以及 TAR 和 ZIP 创建。你还将学习如何使用应用程序解压`.tar`和`.zip`文件。

第七章，*文本处理和正则表达式*，讨论了 Python 中的文本处理和正则表达式。Python 有一个非常强大的库，叫做正则表达式，可以执行搜索和提取数据等任务。你将学习如何在文件中使用正则表达式。你还将学习如何读取和写入文件。

第八章，*文档和报告*，将教你如何使用 Python 记录和报告信息。你还将学习如何使用 Python 脚本输入和打印输出。使用 Python，你可以编写用于自动信息收集的脚本。在 Python 中更容易编写用于接收电子邮件的脚本。你将学习如何格式化信息。

第九章，*处理各种文件*，将涉及处理各种文件，如 PDF 文件、Excel 文件和 CSV 文件的问题。您将学习如何使用 Python 打开、编辑和获取这些文件中的数据。

第十章，*基本网络-套接字编程*，首先介绍了网络的基础知识；然后您将了解 TCP、UDP 等套接字。您还将学习如何编写套接字以进行通信，并获取 HTTP 和 FTP 等协议的信息。

第十一章，*使用 Python 脚本处理电子邮件*，探讨了如何使用 Python 脚本撰写和发送电子邮件。发送电子邮件是任何软件程序中非常常见的任务。我们可以使用 Python 的`smtplib`模块在 Python 程序中发送电子邮件。在本章中，您还将了解在不同服务器上发送电子邮件所使用的不同协议。

第十二章，*通过 Telnet 和 SSH 远程监控主机*，向您展示如何在使用 SSH 协议的服务器上进行基本配置。我们将首先使用 Telnet 模块，然后使用首选方法 SSH 实现相同的配置。

第十三章，*构建图形用户界面*，介绍了使用 PyQt 模块创建图形用户界面。

第十四章，*使用 Apache 和其他日志文件*，解释了如何处理 Apache 日志文件。您还将了解日志解析应用程序；即，识别特定类型的日志消息。您还将学习如何解析这些文件，以及如何处理多个文件；检测任何异常，存储数据并生成报告。

第十五章，*SOAP 和 REST API 通信*，涉及 SOAP 和 REST 的基础知识，以及它们之间的区别。您还将了解 SOAP API 以及如何使用不同的库来使用它。我们还将学习 REST API 和标准库。

第十六章，*Web 抓取-从网站提取有用数据*，将教您如何使用 Python 库从网站提取数据。您还将学习如何使用 Python 搜索文章和源代码。

第十七章，*统计数据收集和报告*，介绍了在科学计算中使用的高级 Python 库。这些库包括 NumPy、SciPy 和 Matplotlib。您将学习数据可视化的概念，并学习如何绘制数据。

第十八章，*MySQL 和 SQLite 数据库管理*，介绍了使用 MySQL 和 SQLite 数据库进行数据库管理。您将了解此类管理的要求和设计，如何修改插件框架，以及如何编写生产者和消费者代码。

# 充分利用本书

我们编写本书的目的是尽可能使其易于访问，并通过多个脚本教授您使用 Python 进行编程的许多不同方法。但是，为了充分利用它们，您需要执行以下操作：

+   设置和配置 Linux 系统以进行测试/调试脚本

+   理解创建的脚本

+   记住每个脚本的组件是什么

+   检查组件如何可以被重用或以新的方式组合

本书假定您在开始学习之前具有一定水平的 Python 知识；这些基本技能在本书中不会涵盖。这些技能包括以下内容：

+   如何设置和配置 Linux 系统

+   如何安装、访问和配置特定的 Python IDE（尽管有几种

大多数 Linux 发行版中已经包含）

+   一些关于计算和编程的基础知识（尽管我们会尽力）

提供一个快速课程）

# 下载示例代码文件

您可以从您在[www.packt.com](http://www.packt.com)的帐户中下载本书的示例代码文件。如果您在其他地方购买了这本书，您可以访问[www.packt.com/support](http://www.packt.com/support)并注册，以便文件直接发送到您的邮箱。

您可以按照以下步骤下载代码文件：

1.  登录或注册[www.packt.com](http://www.packt.com)。

1.  选择“支持”选项卡。

1.  单击“代码下载和勘误”。

1.  在搜索框中输入书名，并按照屏幕上的说明进行操作。

下载文件后，请确保使用最新版本的解压缩或提取文件夹：

+   Windows 使用 WinRAR/7-Zip

+   Mac 使用 Zipeg/iZip/UnRarX

+   Linux 使用 7-Zip/PeaZip

该书的代码包也托管在 GitHub 上[`github.com/PacktPublishing/Mastering-Python-Scripting-for-System-Administrators-/`](https://github.com/PacktPublishing/Mastering-Python-Scripting-for-System-Administrators-/)。如果代码有更新，将在现有的 GitHub 存储库上进行更新。

我们还有来自我们丰富的图书和视频目录的其他代码包，可在[`github.com/PacktPublishing/`](https://github.com/PacktPublishing/)上找到。去看看吧！

# 使用的约定

本书中使用了许多文本约定。

`CodeInText`：表示文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 句柄。这里有一个例子：“要解压缩存档，`shutil`模块有`unpack_archive()`函数。”

代码块设置如下：

```py
 >>> 3 * 'hi' + 'hello'
'hihihihello' 
```

任何命令行输入或输出都以以下形式书写：

```py
 sudo apt install python3-pip
```

**粗体**：表示新术语、重要单词或屏幕上看到的单词。这里有一个例子：“**CSV**格式，代表**逗号分隔值**格式。”

警告或重要提示会出现在这样的形式中。提示和技巧会出现在这样的形式中。
